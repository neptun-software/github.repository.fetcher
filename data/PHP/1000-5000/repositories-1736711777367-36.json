{
  "metadata": {
    "timestamp": 1736711777367,
    "page": 36,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "php-amqplib/php-amqplib",
      "stars": 4482,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".ci",
          "type": "tree",
          "content": null
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.396484375,
          "content": "; This file is for unifying the coding style for different editors and IDEs.\n; More information at http://editorconfig.org\n\nroot = true\n\n[*]\ncharset = utf-8\nend_of_line = lf\nindent_size = 4\nindent_style = space\ninsert_final_newline = true\ntrim_trailing_whitespace = true\n\n; Works with some editors only\nquote_type = single\nmax_line_length = 120\nspaces_around_brackets = true\nspaces_around_operators = true\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.5859375,
          "content": "# Path-based git attributes\n# https://www.kernel.org/pub/software/scm/git/docs/gitattributes.html\n\n# Ignore all test and documentation with \"export-ignore\".\n/.* export-ignore\n/appveyor.yml export-ignore\n/benchmark export-ignore\n/CONTRIBUTING.md export-ignore\n/CREDITS export-ignore\n/docker-compose.yaml export-ignore\n/Makefile export-ignore\n/NOTE.DEVELOPMENT.NOV.2011.md export-ignore\n/NOTE.THENETCIRCLE.md export-ignore\n/benchmark export-ignore\n/demo export-ignore\n/doc export-ignore\n/docker export-ignore\n/docs export-ignore\n/phpunit.xml.dist export-ignore\n/spec export-ignore\n/tests export-ignore\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".github_changelog_generator",
          "type": "blob",
          "size": 0.1865234375,
          "content": "unreleased=false\nsince-tag=v2.7.2\ncache-file=build/github-changelog-http-cache\nenhancement-labels=enhancement,feature\nexclude-labels=duplicate,question,invalid,wontfix,help-wanted,discussion\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.2099609375,
          "content": "vendor/\ncomposer.lock\nphpunit.xml\nbuild/\ndocs/\ntools/\nphpDocumentor.phar\n\n###> squizlabs/php_codesniffer ###\n/.phpcs-cache\n/phpcs.xml\n###< squizlabs/php_codesniffer ###\n\n.phpactor.json\n.phpunit.result.cache\n.phpdoc\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.1025390625,
          "content": "[submodule \"docs\"]\n\tpath = docs\n\turl = https://github.com/php-amqplib/php-amqplib.git\n\tbranch = gh-pages\n"
        },
        {
          "name": ".scrutinizer.yml",
          "type": "blob",
          "size": 0.7822265625,
          "content": "build:\n    nodes:\n        analysis:\n            tests:\n                override:\n                    - php-scrutinizer-run\n\nfilter:\n    paths: [PhpAmqpLib/*]\n    excluded_paths: [tests/*, demo/*, benchmark/*, spec/*, PhpAmqpLib/Helper/Protocol/*, PhpAmqpLib/Wire/Constants*]\n\nchecks:\n    php:\n        remove_extra_empty_lines: true\n        remove_php_closing_tag: true\n        remove_trailing_whitespace: true\n        fix_use_statements:\n            remove_unused: true\n            preserve_multiple: false\n            preserve_blanklines: true\n            order_alphabetically: true\n        fix_php_opening_tag: true\n        fix_linefeed: true\n        fix_line_ending: true\n        fix_identation_4spaces: true\n        fix_doc_comments: true\n\ntools:\n    external_code_coverage:\n        timeout: 1200\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 65.64453125,
          "content": "# Changelog\n\n## [v3.7.2](https://github.com/php-amqplib/php-amqplib/tree/v3.7.2) (2024-11-21)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.7.1...v3.7.2)\n\n**Fixed bugs:**\n\n- fix: deprecation warnings with PHP 8.4 [\\#1200](https://github.com/php-amqplib/php-amqplib/pull/1200) ([acelaya](https://github.com/acelaya))\n- fix: Mark channels closed when connection is closed [\\#1195](https://github.com/php-amqplib/php-amqplib/pull/1195) ([Xfaider48](https://github.com/Xfaider48))\n\n**Closed issues:**\n\n- Deprecation warnings thrown with PHP 8.4 [\\#1198](https://github.com/php-amqplib/php-amqplib/issues/1198)\n- error handler in StreamIO::write\\(\\) assumes last\\_error is present [\\#1188](https://github.com/php-amqplib/php-amqplib/issues/1188)\n- Breaking changes with pcntl signals on `channel->wait function`, when using `non_blocking: false` [\\#1135](https://github.com/php-amqplib/php-amqplib/issues/1135)\n\n## [v3.7.1](https://github.com/php-amqplib/php-amqplib/tree/v3.7.1) (2024-09-03)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.7.0...v3.7.1)\n\n**Implemented enhancements:**\n\n- Fix wrong stream IO error code, improve write speed [\\#1192](https://github.com/php-amqplib/php-amqplib/pull/1192) ([ramunasd](https://github.com/ramunasd))\n- AMQP Exception marker interface is for `Throwable` types [\\#1189](https://github.com/php-amqplib/php-amqplib/pull/1189) ([Ocramius](https://github.com/Ocramius))\n\n## [v3.7.0](https://github.com/php-amqplib/php-amqplib/tree/v3.7.0) (2024-07-09)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.6.2...v3.7.0)\n\n**Implemented enhancements:**\n\n- fix: create a new exception for each warning in IO layer with reference to previous [\\#1183](https://github.com/php-amqplib/php-amqplib/pull/1183) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- first error message thrown by stream\\_socket\\_enable\\_crypto\\(\\) is not propagated to caller [\\#1181](https://github.com/php-amqplib/php-amqplib/issues/1181)\n\n**Closed issues:**\n\n- feof\\(\\) check in /Wire/IO/StreamIO::write\\(\\) blocks connection [\\#1176](https://github.com/php-amqplib/php-amqplib/issues/1176)\n\n**Merged pull requests:**\n\n- AMQPConnectionClosedException is never thrown from checkConnection\\(\\) [\\#1185](https://github.com/php-amqplib/php-amqplib/pull/1185) ([villfa](https://github.com/villfa))\n- chore: deprecate properties related to old protocol mode [\\#1182](https://github.com/php-amqplib/php-amqplib/pull/1182) ([ramunasd](https://github.com/ramunasd))\n- Add verbose test output [\\#1180](https://github.com/php-amqplib/php-amqplib/pull/1180) ([lukebakken](https://github.com/lukebakken))\n- CI workflow updates [\\#1179](https://github.com/php-amqplib/php-amqplib/pull/1179) ([lukebakken](https://github.com/lukebakken))\n- deprecate AMQPSSLConnection class [\\#1178](https://github.com/php-amqplib/php-amqplib/pull/1178) ([ramunasd](https://github.com/ramunasd))\n- remove feof\\(\\) check on connection.  this check fails under Windows wh… [\\#1177](https://github.com/php-amqplib/php-amqplib/pull/1177) ([jjdunn](https://github.com/jjdunn))\n\n## [v3.6.2](https://github.com/php-amqplib/php-amqplib/tree/v3.6.2) (2024-04-15)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.6.1...v3.6.2)\n\n**Merged pull requests:**\n\n- Trigger ssl\\_protocol deprecation when it is really not null and not AMQPConnectionConfig instance [\\#1163](https://github.com/php-amqplib/php-amqplib/pull/1163) ([SergeyKhrystenko](https://github.com/SergeyKhrystenko))\n\n## [v3.6.1](https://github.com/php-amqplib/php-amqplib/tree/v3.6.1) (2024-02-07)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.6.0...v3.6.1)\n\n**Implemented enhancements:**\n\n- ipv6 support [\\#1145](https://github.com/php-amqplib/php-amqplib/pull/1145) ([InnoT20](https://github.com/InnoT20))\n\n**Fixed bugs:**\n\n- fix: throw exception on stream\\_socket\\_enable\\_crypto\\(\\) warning [\\#1158](https://github.com/php-amqplib/php-amqplib/pull/1158) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n-  stream\\_set\\_blocking\\(\\): Argument \\#2 \\($enable\\) must be of type bool, int given [\\#1155](https://github.com/php-amqplib/php-amqplib/issues/1155)\n- Connection option close\\_on\\_destruct doesn't work because of circular reference [\\#1144](https://github.com/php-amqplib/php-amqplib/issues/1144)\n- Cannot avoid static analysis issues with deprecation of `$ssl_options` in `AMQPStreamConnection` [\\#1136](https://github.com/php-amqplib/php-amqplib/issues/1136)\n\n**Merged pull requests:**\n\n- fix static analysis warnings [\\#1156](https://github.com/php-amqplib/php-amqplib/pull/1156) ([ramunasd](https://github.com/ramunasd))\n- Delay stream resource init [\\#1154](https://github.com/php-amqplib/php-amqplib/pull/1154) ([ramunasd](https://github.com/ramunasd))\n- Widen `AMQPStreamConnection`'s `$ssl_protocol` parameter to accept `AMQPConnectionConfig` [\\#1137](https://github.com/php-amqplib/php-amqplib/pull/1137) ([ben-challis](https://github.com/ben-challis))\n\n## [v3.6.0](https://github.com/php-amqplib/php-amqplib/tree/v3.6.0) (2023-10-22)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.5.4...v3.6.0)\n\n**Implemented enhancements:**\n\n- Only call fwrite\\(\\) if select\\(\\) said the fd is ready. [\\#1132](https://github.com/php-amqplib/php-amqplib/pull/1132) ([Sthing](https://github.com/Sthing))\n- TCP keepalive for TLS connections [\\#1116](https://github.com/php-amqplib/php-amqplib/pull/1116) ([egorgrushko](https://github.com/egorgrushko))\n\n**Fixed bugs:**\n\n- Fix frame wait interruption by signals [\\#1129](https://github.com/php-amqplib/php-amqplib/pull/1129) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Wrong thrown `AMQPTimeoutException`-exception for heartbeat [\\#1118](https://github.com/php-amqplib/php-amqplib/issues/1118)\n- `AMQPTimeoutException` is thrown without reaching the timeout limit [\\#1109](https://github.com/php-amqplib/php-amqplib/issues/1109)\n- tls connection without verify peer failed [\\#1108](https://github.com/php-amqplib/php-amqplib/issues/1108)\n\n**Merged pull requests:**\n\n- Updated docblock [\\#1133](https://github.com/php-amqplib/php-amqplib/pull/1133) ([berniedurfee-renaissance](https://github.com/berniedurfee-renaissance))\n- Update checkout to v4 [\\#1128](https://github.com/php-amqplib/php-amqplib/pull/1128) ([salehhashemi1992](https://github.com/salehhashemi1992))\n- Add Additional Test Coverage for AMQPConnectionConfig Class [\\#1126](https://github.com/php-amqplib/php-amqplib/pull/1126) ([salehhashemi1992](https://github.com/salehhashemi1992))\n- Test against php 8.3 [\\#1124](https://github.com/php-amqplib/php-amqplib/pull/1124) ([sergiy-petrov](https://github.com/sergiy-petrov))\n- drop support for PHP7.1 [\\#1122](https://github.com/php-amqplib/php-amqplib/pull/1122) ([ramunasd](https://github.com/ramunasd))\n- Adjust config for isSecure and setSslVerify [\\#1106](https://github.com/php-amqplib/php-amqplib/pull/1106) ([wiryonolau](https://github.com/wiryonolau))\n\n## [v3.5.4](https://github.com/php-amqplib/php-amqplib/tree/v3.5.4) (2023-07-01)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.5.3...v3.5.4)\n\n**Implemented enhancements:**\n\n- feat\\(heartbeat\\): add support for lazy connections [\\#1100](https://github.com/php-amqplib/php-amqplib/pull/1100) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Positive heartbeat of client is overwritten by server's 0 heartbeat value. All versions from 3.3.1 affected [\\#1080](https://github.com/php-amqplib/php-amqplib/issues/1080)\n\n**Closed issues:**\n\n- Heartbeat senders do not work with lazy connections [\\#1099](https://github.com/php-amqplib/php-amqplib/issues/1099)\n\n## [v3.5.3](https://github.com/php-amqplib/php-amqplib/tree/v3.5.3) (2023-04-03)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.5.2...v3.5.3)\n\n**Fixed bugs:**\n\n- Fix server heartbeat overwrite client value [\\#1081](https://github.com/php-amqplib/php-amqplib/pull/1081) ([ramunasd](https://github.com/ramunasd))\n\n## [v3.5.2](https://github.com/php-amqplib/php-amqplib/tree/v3.5.2) (2023-03-01)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.5.1...v3.5.2)\n\n**Implemented enhancements:**\n\n- Security levels SSL options [\\#1075](https://github.com/php-amqplib/php-amqplib/pull/1075) ([alexanderbirch](https://github.com/alexanderbirch))\n\n**Fixed bugs:**\n\n- Does not pass `$config` parameter to AMQPSocketConnection using `AMQPConnectionFactory::create` [\\#1076](https://github.com/php-amqplib/php-amqplib/issues/1076)\n- Bug fix, Deprecation notice update [\\#1077](https://github.com/php-amqplib/php-amqplib/pull/1077) ([ssi-anik](https://github.com/ssi-anik))\n\n## [v3.5.1](https://github.com/php-amqplib/php-amqplib/tree/v3.5.1) (2023-01-20)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.5.0...v3.5.1)\n\n**Closed issues:**\n\n- Connect error since 3.5.0 [\\#1065](https://github.com/php-amqplib/php-amqplib/issues/1065)\n\n**Merged pull requests:**\n\n- Update GHA to use latest RabbitMQ [\\#1068](https://github.com/php-amqplib/php-amqplib/pull/1068) ([lukebakken](https://github.com/lukebakken))\n- Revert \\#1060 [\\#1066](https://github.com/php-amqplib/php-amqplib/pull/1066) ([lukebakken](https://github.com/lukebakken))\n\n## [v3.5.0](https://github.com/php-amqplib/php-amqplib/tree/v3.5.0) (2023-01-16)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.4.0...v3.5.0)\n\n**Implemented enhancements:**\n\n- Support for authentication method \"external\" [\\#1064](https://github.com/php-amqplib/php-amqplib/pull/1064) ([ramunasd](https://github.com/ramunasd))\n- Optimize frame parsing logic [\\#1063](https://github.com/php-amqplib/php-amqplib/pull/1063) ([ramunasd](https://github.com/ramunasd))\n- Add support for lazy connect to all classes [\\#1042](https://github.com/php-amqplib/php-amqplib/pull/1042) ([ramunasd](https://github.com/ramunasd))\n- Added channel\\_rpc\\_timeout [\\#1041](https://github.com/php-amqplib/php-amqplib/pull/1041) ([bravoman](https://github.com/bravoman))\n\n**Fixed bugs:**\n\n- SIGHeartbeatSender uses fixed Signal [\\#1039](https://github.com/php-amqplib/php-amqplib/issues/1039)\n- Define default ssl context parameter [\\#1060](https://github.com/php-amqplib/php-amqplib/pull/1060) ([ramunasd](https://github.com/ramunasd))\n- Fix hardcoded signal code in SIGHeartbeatSender [\\#1043](https://github.com/php-amqplib/php-amqplib/pull/1043) ([ramunasd](https://github.com/ramunasd))\n\n## [v3.4.0](https://github.com/php-amqplib/php-amqplib/tree/v3.4.0) (2022-10-18)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.3.1...v3.4.0)\n\n**Implemented enhancements:**\n\n- Add the ability to set the connection name through AMQPConnectionConfig [\\#1035](https://github.com/php-amqplib/php-amqplib/pull/1035) ([i3bepb](https://github.com/i3bepb))\n\n**Fixed bugs:**\n\n- v3.3.0 heartbeat error [\\#1029](https://github.com/php-amqplib/php-amqplib/issues/1029)\n\n**Merged pull requests:**\n\n- Missing PHPDoc param in AbstractConnection constructor [\\#1033](https://github.com/php-amqplib/php-amqplib/pull/1033) ([i3bepb](https://github.com/i3bepb))\n- Split buffer and IO readers into separate classes [\\#1031](https://github.com/php-amqplib/php-amqplib/pull/1031) ([ramunasd](https://github.com/ramunasd))\n\n## [v3.3.1](https://github.com/php-amqplib/php-amqplib/tree/v3.3.1) (2022-10-04)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.3.0...v3.3.1)\n\n**Fixed bugs:**\n\n- Allow disable heartbeats from client side [\\#1030](https://github.com/php-amqplib/php-amqplib/pull/1030) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Flaky CI test runs [\\#1027](https://github.com/php-amqplib/php-amqplib/issues/1027)\n\n## [v3.3.0](https://github.com/php-amqplib/php-amqplib/tree/v3.3.0) (2022-10-03)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.2.0...v3.3.0)\n\n**Implemented enhancements:**\n\n- Allow set socket send buffer size [\\#1026](https://github.com/php-amqplib/php-amqplib/pull/1026) ([ramunasd](https://github.com/ramunasd))\n- Add capath SSL option support [\\#1014](https://github.com/php-amqplib/php-amqplib/pull/1014) ([garrick-lam](https://github.com/garrick-lam))\n\n**Fixed bugs:**\n\n- Heartbeat of client overwrite without any conditions the one from server [\\#1018](https://github.com/php-amqplib/php-amqplib/issues/1018)\n- Fix heartbeat negotiation [\\#1024](https://github.com/php-amqplib/php-amqplib/pull/1024) ([ramunasd](https://github.com/ramunasd))\n- Throw connection exceptions on batch publish [\\#983](https://github.com/php-amqplib/php-amqplib/pull/983) ([foment](https://github.com/foment))\n\n**Merged pull requests:**\n\n- Update codecov action to latest version [\\#1028](https://github.com/php-amqplib/php-amqplib/pull/1028) ([ramunasd](https://github.com/ramunasd))\n- Upgrade toxiproxy, enable all tests on CI [\\#1025](https://github.com/php-amqplib/php-amqplib/pull/1025) ([ramunasd](https://github.com/ramunasd))\n- chore: Set permissions for GitHub actions [\\#1001](https://github.com/php-amqplib/php-amqplib/pull/1001) ([nathannaveen](https://github.com/nathannaveen))\n- Fix rate limiting [\\#985](https://github.com/php-amqplib/php-amqplib/pull/985) ([lukebakken](https://github.com/lukebakken))\n\n## [v3.2.0](https://github.com/php-amqplib/php-amqplib/tree/v3.2.0) (2022-03-10)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.1.2...v3.2.0)\n\n**Implemented enhancements:**\n\n- Channel method for continuous message consumption [\\#977](https://github.com/php-amqplib/php-amqplib/pull/977) ([ramunasd](https://github.com/ramunasd))\n- Propagate real exceptions [\\#976](https://github.com/php-amqplib/php-amqplib/pull/976) ([dmitryuk](https://github.com/dmitryuk))\n- unified configuration class and factory for all kinds of connection [\\#975](https://github.com/php-amqplib/php-amqplib/pull/975) ([ramunasd](https://github.com/ramunasd))\n- Custom PCNTL Heartbeat Sender [\\#971](https://github.com/php-amqplib/php-amqplib/pull/971) ([khepin](https://github.com/khepin))\n\n**Fixed bugs:**\n\n- PCNTL SIGTERM break on select ? [\\#458](https://github.com/php-amqplib/php-amqplib/issues/458)\n- Add $restart\\_syscalls = true explicitly when calling pcntl\\_signal to avoid crashing SQL Server connections [\\#972](https://github.com/php-amqplib/php-amqplib/pull/972) ([maxiwheat](https://github.com/maxiwheat))\n\n**Merged pull requests:**\n\n- Php amqplib 3.2.0 [\\#984](https://github.com/php-amqplib/php-amqplib/pull/984) ([lukebakken](https://github.com/lukebakken))\n- getChannelId can return null [\\#981](https://github.com/php-amqplib/php-amqplib/pull/981) ([dmitryuk](https://github.com/dmitryuk))\n\n## [v3.1.2](https://github.com/php-amqplib/php-amqplib/tree/v3.1.2) (2022-01-18)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.1.1...v3.1.2)\n\n**Implemented enhancements:**\n\n- use github changelog generator [\\#970](https://github.com/php-amqplib/php-amqplib/pull/970) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Always restore original error handler after socket/stream actions [\\#969](https://github.com/php-amqplib/php-amqplib/pull/969) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Deprecation warnings on ArrayAccess methods [\\#967](https://github.com/php-amqplib/php-amqplib/issues/967)\n\n**Merged pull requests:**\n\n- add return type hints in AMQPAbstractCollection [\\#968](https://github.com/php-amqplib/php-amqplib/pull/968) ([ramunasd](https://github.com/ramunasd))\n\n## [v3.1.1](https://github.com/php-amqplib/php-amqplib/tree/v3.1.1) (2021-12-03)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.1.0...v3.1.1)\n\n**Fixed bugs:**\n\n- fix deprecation notice from stream\\_select\\(\\) on PHP8.1 [\\#963](https://github.com/php-amqplib/php-amqplib/pull/963) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Support for PHP 8.1 [\\#959](https://github.com/php-amqplib/php-amqplib/issues/959)\n\n## [v3.1.0](https://github.com/php-amqplib/php-amqplib/tree/v3.1.0) (2021-10-22)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.0.0...v3.1.0)\n\n**Implemented enhancements:**\n\n- drop support for PHP7.0 [\\#949](https://github.com/php-amqplib/php-amqplib/pull/949) ([ramunasd](https://github.com/ramunasd))\n- Add support for floating point values in tables/array [\\#945](https://github.com/php-amqplib/php-amqplib/pull/945) ([ramunasd](https://github.com/ramunasd))\n- Add PHP 8.1 support [\\#929](https://github.com/php-amqplib/php-amqplib/pull/929) ([javer](https://github.com/javer))\n\n**Fixed bugs:**\n\n- Consumer fails with AMQP-rabbit doesn't define data of type \\[d\\] [\\#924](https://github.com/php-amqplib/php-amqplib/issues/924)\n- Fixed composer php version constraint [\\#916](https://github.com/php-amqplib/php-amqplib/pull/916) ([rkrx](https://github.com/rkrx))\n\n**Closed issues:**\n\n- How $channel-\\>wait\\(\\) work on loop forever [\\#939](https://github.com/php-amqplib/php-amqplib/issues/939)\n- The header isn't fragmented causing large headers to hit the maximum frame size. [\\#934](https://github.com/php-amqplib/php-amqplib/issues/934)\n- Keeping a connection open for publishing [\\#932](https://github.com/php-amqplib/php-amqplib/issues/932)\n- prefetch\\_count seems to consume always only 1 message [\\#919](https://github.com/php-amqplib/php-amqplib/issues/919)\n- Can't connect to ssl amqp hosts. [\\#918](https://github.com/php-amqplib/php-amqplib/issues/918)\n- Updating \"phpseclib/phpseclib\" is necessary! [\\#914](https://github.com/php-amqplib/php-amqplib/issues/914)\n- README - Non-existant code of conduct file [\\#913](https://github.com/php-amqplib/php-amqplib/issues/913)\n- consumer\\_tag: Consumer identifier [\\#909](https://github.com/php-amqplib/php-amqplib/issues/909)\n- AMQPLazyConnection::create\\_connection does not work [\\#798](https://github.com/php-amqplib/php-amqplib/issues/798)\n\n**Merged pull requests:**\n\n- throw exception on attempt to create lazy connection to multiple hosts [\\#951](https://github.com/php-amqplib/php-amqplib/pull/951) ([ramunasd](https://github.com/ramunasd))\n- Fix static analysis warnings [\\#948](https://github.com/php-amqplib/php-amqplib/pull/948) ([ramunasd](https://github.com/ramunasd))\n- Use correct default for read\\_write\\_timeout in AMQPStreamConnection\\#try\\_create\\_connection [\\#923](https://github.com/php-amqplib/php-amqplib/pull/923) ([bezhermoso](https://github.com/bezhermoso))\n- Improved examples and dosc [\\#917](https://github.com/php-amqplib/php-amqplib/pull/917) ([corpsee](https://github.com/corpsee))\n- Fix code style: unnecessary space [\\#915](https://github.com/php-amqplib/php-amqplib/pull/915) ([maximal](https://github.com/maximal))\n\n## [v3.0.0](https://github.com/php-amqplib/php-amqplib/tree/v3.0.0) (2021-03-16)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.0.0-rc2...v3.0.0)\n\n**Merged pull requests:**\n\n- Change php required version in composer.json [\\#905](https://github.com/php-amqplib/php-amqplib/pull/905) ([adoy](https://github.com/adoy))\n\n## [v3.0.0-rc2](https://github.com/php-amqplib/php-amqplib/tree/v3.0.0-rc2) (2021-03-09)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v3.0.0-rc1...v3.0.0-rc2)\n\n**Fixed bugs:**\n\n- PHP 8 support [\\#904](https://github.com/php-amqplib/php-amqplib/pull/904) ([patrickkusebauch](https://github.com/patrickkusebauch))\n\n**Closed issues:**\n\n- PHP 8 support issue [\\#903](https://github.com/php-amqplib/php-amqplib/issues/903)\n\n## [v3.0.0-rc1](https://github.com/php-amqplib/php-amqplib/tree/v3.0.0-rc1) (2021-03-08)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.12.3...v3.0.0-rc1)\n\n**Breaking changes:**\n\n- Drop deprecated things [\\#897](https://github.com/php-amqplib/php-amqplib/pull/897) ([ramunasd](https://github.com/ramunasd))\n\n**Implemented enhancements:**\n\n- Allow to use SSL connection as lazy [\\#893](https://github.com/php-amqplib/php-amqplib/pull/893) ([odombrovskyi-dev](https://github.com/odombrovskyi-dev))\n- Support php 8.0 [\\#858](https://github.com/php-amqplib/php-amqplib/pull/858) ([axxapy](https://github.com/axxapy))\n\n**Fixed bugs:**\n\n- BigInteger breaks authoritative class maps [\\#885](https://github.com/php-amqplib/php-amqplib/issues/885)\n- fix ValueError on closed or broken socket [\\#888](https://github.com/php-amqplib/php-amqplib/pull/888) ([ramunasd](https://github.com/ramunasd))\n\n**Merged pull requests:**\n\n- Drop support for PHP5.6 [\\#884](https://github.com/php-amqplib/php-amqplib/pull/884) ([ramunasd](https://github.com/ramunasd))\n- feat\\(Composer\\) run test composer 2. [\\#882](https://github.com/php-amqplib/php-amqplib/pull/882) ([Yozhef](https://github.com/Yozhef))\n- feat\\(Travis\\) remove travis. [\\#881](https://github.com/php-amqplib/php-amqplib/pull/881) ([Yozhef](https://github.com/Yozhef))\n- feat\\(CodeCov\\) add Codecov phpunit code coverage. [\\#880](https://github.com/php-amqplib/php-amqplib/pull/880) ([Yozhef](https://github.com/Yozhef))\n- Phpdoc types and minor improvements [\\#869](https://github.com/php-amqplib/php-amqplib/pull/869) ([andrew-demb](https://github.com/andrew-demb))\n\n## [v2.12.3](https://github.com/php-amqplib/php-amqplib/tree/v2.12.3) (2021-03-01)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/2.12.2...v2.12.3)\n\n**Fixed bugs:**\n\n- ValueError exception in PHP8 [\\#883](https://github.com/php-amqplib/php-amqplib/issues/883)\n\n**Closed issues:**\n\n- process multiple messages at the same  [\\#898](https://github.com/php-amqplib/php-amqplib/issues/898)\n- application\\_headers vs headers [\\#890](https://github.com/php-amqplib/php-amqplib/issues/890)\n- Remove support for PHP 5.X [\\#877](https://github.com/php-amqplib/php-amqplib/issues/877)\n\n## [2.12.2](https://github.com/php-amqplib/php-amqplib/tree/2.12.2) (2021-02-12)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.12.1...2.12.2)\n\n**Implemented enhancements:**\n\n- Add support for next major version of phpseclib/phpseclib [\\#875](https://github.com/php-amqplib/php-amqplib/pull/875) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Provide AMQPTable to exchange\\_declare [\\#873](https://github.com/php-amqplib/php-amqplib/issues/873)\n- fix annotation when AMQPTable is allowed variable type [\\#874](https://github.com/php-amqplib/php-amqplib/pull/874) ([ramunasd](https://github.com/ramunasd))\n- fix PCNTL heartbeat signal registration [\\#866](https://github.com/php-amqplib/php-amqplib/pull/866) ([laurynasgadl](https://github.com/laurynasgadl))\n\n**Closed issues:**\n\n- Type definition delivery tag differs [\\#876](https://github.com/php-amqplib/php-amqplib/issues/876)\n- PHP 8 Deprecate required parameters after optional parameters issue [\\#870](https://github.com/php-amqplib/php-amqplib/issues/870)\n- PCNTLHeartbeatSender would be never triggered again when connection in writing status  [\\#865](https://github.com/php-amqplib/php-amqplib/issues/865)\n- PHP8 deprecation warnings [\\#860](https://github.com/php-amqplib/php-amqplib/issues/860)\n- PHP 8.0.0 Deprecated: Required parameter ... follows optional parameter ... in  [\\#856](https://github.com/php-amqplib/php-amqplib/issues/856)\n- The connection would lost on some environment and cause destruct failed [\\#849](https://github.com/php-amqplib/php-amqplib/issues/849)\n- About message body string \"quit\" [\\#848](https://github.com/php-amqplib/php-amqplib/issues/848)\n- Why is the client disconnecting automatically with no errors nor Exceptions? [\\#847](https://github.com/php-amqplib/php-amqplib/issues/847)\n- PHP 8: Required parameter $io follows optional parameter $vhost [\\#846](https://github.com/php-amqplib/php-amqplib/issues/846)\n- AMQPProtocolException phpdoc arguments type annotations are swapped [\\#844](https://github.com/php-amqplib/php-amqplib/issues/844)\n- PHP Fatal error:  Uncaught exception 'PhpAmqpLib\\Exception\\AMQPTimeoutException' with message 'The connection timed out after 3 sec while awaiting incoming data' [\\#839](https://github.com/php-amqplib/php-amqplib/issues/839)\n- The dependency phpseclib needs an update to version 3.\\* [\\#867](https://github.com/php-amqplib/php-amqplib/issues/867)\n\n**Merged pull requests:**\n\n- Fixed AMQPProtocolException phpdoc arguments type annotations [\\#845](https://github.com/php-amqplib/php-amqplib/pull/845) ([zerkms](https://github.com/zerkms))\n- Change phpdoc $delivery\\_tag type to int [\\#838](https://github.com/php-amqplib/php-amqplib/pull/838) ([autowp](https://github.com/autowp))\n- Update documentation on published release [\\#837](https://github.com/php-amqplib/php-amqplib/pull/837) ([ramunasd](https://github.com/ramunasd))\n- perform CI tests using github actions [\\#836](https://github.com/php-amqplib/php-amqplib/pull/836) ([ramunasd](https://github.com/ramunasd))\n- PSR 12 [\\#868](https://github.com/php-amqplib/php-amqplib/pull/868) ([andrew-demb](https://github.com/andrew-demb))\n- feat \\(Code Style\\) start integration PSR-2. [\\#859](https://github.com/php-amqplib/php-amqplib/pull/859) ([Yozhef](https://github.com/Yozhef))\n- Implement \\ArrayAccess in AMQPAbstractCollection [\\#850](https://github.com/php-amqplib/php-amqplib/pull/850) ([idsulik](https://github.com/idsulik))\n\n## [v2.12.1](https://github.com/php-amqplib/php-amqplib/tree/v2.12.1) (2020-09-25)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.12.0...v2.12.1)\n\n**Implemented enhancements:**\n\n- Tests should run with TLS enabled [\\#758](https://github.com/php-amqplib/php-amqplib/issues/758)\n- Use docker containers for broker and proxy in travis CI tests [\\#831](https://github.com/php-amqplib/php-amqplib/pull/831) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- wait\\_for\\_pending\\_acks results in: LogicException\\(\"Delivery tag cannot be changed\"\\) [\\#827](https://github.com/php-amqplib/php-amqplib/issues/827)\n- Error Connecting to server\\(0\\): [\\#825](https://github.com/php-amqplib/php-amqplib/issues/825)\n- validate basic\\_consume\\(\\) arguments and avoid invalid callbacks [\\#834](https://github.com/php-amqplib/php-amqplib/pull/834) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Does the library supports federation conf? [\\#826](https://github.com/php-amqplib/php-amqplib/issues/826)\n- Publishing not happend after publishing to non-existent exchange [\\#823](https://github.com/php-amqplib/php-amqplib/issues/823)\n\n**Merged pull requests:**\n\n- SSL tests and fixed demo [\\#832](https://github.com/php-amqplib/php-amqplib/pull/832) ([ramunasd](https://github.com/ramunasd))\n- fix LogicException while waiting for pending broker ack [\\#830](https://github.com/php-amqplib/php-amqplib/pull/830) ([ramunasd](https://github.com/ramunasd))\n- revert \\#785 'Enable TLS SNI by default' [\\#829](https://github.com/php-amqplib/php-amqplib/pull/829) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.12.0](https://github.com/php-amqplib/php-amqplib/tree/v2.12.0) (2020-08-25)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.11.3...v2.12.0)\n\n**Implemented enhancements:**\n\n- Add signal-based heartbeat option [\\#815](https://github.com/php-amqplib/php-amqplib/pull/815) ([laurynasgadl](https://github.com/laurynasgadl))\n- CI tests for PHP 7.4 [\\#800](https://github.com/php-amqplib/php-amqplib/pull/800) ([ramunasd](https://github.com/ramunasd))\n- AMQPMessage new interface [\\#799](https://github.com/php-amqplib/php-amqplib/pull/799) ([ramunasd](https://github.com/ramunasd))\n- Enable TLS SNI by setting peer\\_name to $host in $ssl\\_options [\\#785](https://github.com/php-amqplib/php-amqplib/pull/785) ([carlhoerberg](https://github.com/carlhoerberg))\n\n**Fixed bugs:**\n\n- Adding exception handling for better user experience [\\#810](https://github.com/php-amqplib/php-amqplib/issues/810)\n- Possible blocking connection even when connection\\_timeout is specified [\\#804](https://github.com/php-amqplib/php-amqplib/issues/804)\n- use simple output instead of STDOUT in debug helper [\\#819](https://github.com/php-amqplib/php-amqplib/pull/819) ([ramunasd](https://github.com/ramunasd))\n- add missing timeout param for connection handshake response [\\#812](https://github.com/php-amqplib/php-amqplib/pull/812) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Setting x-ha-policy from client side is not longer available since version 3.0 [\\#811](https://github.com/php-amqplib/php-amqplib/issues/811)\n- Debug in some cases is not working - possible fix - line 29 in DebugHelper [\\#809](https://github.com/php-amqplib/php-amqplib/issues/809)\n- when I want to use publish\\_batch in confirm: 2 [\\#807](https://github.com/php-amqplib/php-amqplib/issues/807)\n- when I want to use publish\\_batch in confirm [\\#806](https://github.com/php-amqplib/php-amqplib/issues/806)\n- NullClasses for testing [\\#802](https://github.com/php-amqplib/php-amqplib/issues/802)\n\n**Merged pull requests:**\n\n- AbstractIO::select\\(\\) never returns false [\\#817](https://github.com/php-amqplib/php-amqplib/pull/817) ([szepeviktor](https://github.com/szepeviktor))\n- Tidy up CI configuration [\\#816](https://github.com/php-amqplib/php-amqplib/pull/816) ([szepeviktor](https://github.com/szepeviktor))\n- add type check for basic\\_consume\\(\\) callback [\\#814](https://github.com/php-amqplib/php-amqplib/pull/814) ([ramunasd](https://github.com/ramunasd))\n- Exclude non-essential files from dist [\\#796](https://github.com/php-amqplib/php-amqplib/pull/796) ([fedotov-as](https://github.com/fedotov-as))\n\n## [v2.11.3](https://github.com/php-amqplib/php-amqplib/tree/v2.11.3) (2020-05-13)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.11.2...v2.11.3)\n\n**Fixed bugs:**\n\n- Unexpected heartbeat missed exception [\\#793](https://github.com/php-amqplib/php-amqplib/issues/793)\n- Fix unexpected missed heartbeat exception [\\#794](https://github.com/php-amqplib/php-amqplib/pull/794) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.11.2](https://github.com/php-amqplib/php-amqplib/tree/v2.11.2) (2020-04-30)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.11.1...v2.11.2)\n\n**Fixed bugs:**\n\n- Perform socket/stream select before data write [\\#791](https://github.com/php-amqplib/php-amqplib/pull/791) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Fatal error: Uncaught exception 'PhpAmqpLib\\Exception\\AMQPConnectionClosedException' with message 'FRAME\\_ERROR - type 2, first 16 octets [\\#789](https://github.com/php-amqplib/php-amqplib/issues/789)\n- Incorrect behaviour when heartbeat is missing [\\#787](https://github.com/php-amqplib/php-amqplib/issues/787)\n- How to know When rabbitmq server get last heartbeat from client? [\\#783](https://github.com/php-amqplib/php-amqplib/issues/783)\n\n## [v2.11.1](https://github.com/php-amqplib/php-amqplib/tree/v2.11.1) (2020-02-24)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.11.0...v2.11.1)\n\n**Implemented enhancements:**\n\n- Blocked connection check [\\#779](https://github.com/php-amqplib/php-amqplib/pull/779) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Handling of SOCKET\\_EAGAIN in StreamIO not working in PHP 7.4 [\\#764](https://github.com/php-amqplib/php-amqplib/issues/764)\n- fix: ensure hosts is an array, otherwise latest\\_exception can be null [\\#778](https://github.com/php-amqplib/php-amqplib/pull/778) ([mr-feek](https://github.com/mr-feek))\n- change phpDocumentator template, fix incorrect constructor documentation [\\#771](https://github.com/php-amqplib/php-amqplib/pull/771) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- circular reference [\\#759](https://github.com/php-amqplib/php-amqplib/issues/759)\n\n**Merged pull requests:**\n\n- Add package meta class [\\#782](https://github.com/php-amqplib/php-amqplib/pull/782) ([ramunasd](https://github.com/ramunasd))\n- Code style and static analysis warnings [\\#768](https://github.com/php-amqplib/php-amqplib/pull/768) ([ramunasd](https://github.com/ramunasd))\n- Mention AMQProxy as related library [\\#767](https://github.com/php-amqplib/php-amqplib/pull/767) ([johanrhodin](https://github.com/johanrhodin))\n- Fix comments [\\#766](https://github.com/php-amqplib/php-amqplib/pull/766) ([Yurunsoft](https://github.com/Yurunsoft))\n- Restrict PHP 7.4.0 - 7.4.1 due to a PHP bug [\\#765](https://github.com/php-amqplib/php-amqplib/pull/765) ([Majkl578](https://github.com/Majkl578))\n\n## [v2.11.0](https://github.com/php-amqplib/php-amqplib/tree/v2.11.0) (2019-11-19)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.10.1...v2.11.0)\n\n**Implemented enhancements:**\n\n- Remove bcmath dependency [\\#754](https://github.com/php-amqplib/php-amqplib/pull/754) ([ramunasd](https://github.com/ramunasd))\n- Run phpunit on appveyor [\\#751](https://github.com/php-amqplib/php-amqplib/pull/751) ([ramunasd](https://github.com/ramunasd))\n- Add support for PLAIN authentication method [\\#749](https://github.com/php-amqplib/php-amqplib/pull/749) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Exception while handling AMQPTimeoutException [\\#752](https://github.com/php-amqplib/php-amqplib/issues/752)\n- Fix AMQPTimeoutException handling [\\#753](https://github.com/php-amqplib/php-amqplib/pull/753) ([kozlice](https://github.com/kozlice))\n\n**Closed issues:**\n\n- Amazon MQ amqp+ssl [\\#757](https://github.com/php-amqplib/php-amqplib/issues/757)\n- shell\\_exec\\(\\): Unable to execute '' [\\#756](https://github.com/php-amqplib/php-amqplib/issues/756)\n- Remove bcmath dependency [\\#694](https://github.com/php-amqplib/php-amqplib/issues/694)\n\n**Merged pull requests:**\n\n- Fix phpunit tests reported as risked [\\#755](https://github.com/php-amqplib/php-amqplib/pull/755) ([ramunasd](https://github.com/ramunasd))\n- throw AMQPConnectionClosedException when broker wants to close connection [\\#750](https://github.com/php-amqplib/php-amqplib/pull/750) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.10.1](https://github.com/php-amqplib/php-amqplib/tree/v2.10.1) (2019-10-10)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.10.0...v2.10.1)\n\n**Implemented enhancements:**\n\n- Refactor channel constant classes [\\#732](https://github.com/php-amqplib/php-amqplib/pull/732) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Channel gets stuck if user `wait_for_pending_acks` [\\#720](https://github.com/php-amqplib/php-amqplib/issues/720)\n- Update amqp\\_connect\\_multiple\\_hosts.php [\\#740](https://github.com/php-amqplib/php-amqplib/pull/740) ([nguyendachuy](https://github.com/nguyendachuy))\n- Fix fatal error in skipped tests [\\#736](https://github.com/php-amqplib/php-amqplib/pull/736) ([ramunasd](https://github.com/ramunasd))\n- Fix wrong headers exchange demo [\\#735](https://github.com/php-amqplib/php-amqplib/pull/735) ([ramunasd](https://github.com/ramunasd))\n- Fix infinite wait for pending acks [\\#733](https://github.com/php-amqplib/php-amqplib/pull/733) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- basic\\_publish and memory alarms [\\#743](https://github.com/php-amqplib/php-amqplib/issues/743)\n- Connection timeout error [\\#739](https://github.com/php-amqplib/php-amqplib/issues/739)\n- Exchanges list [\\#734](https://github.com/php-amqplib/php-amqplib/issues/734)\n- Cannot create a durable queue [\\#731](https://github.com/php-amqplib/php-amqplib/issues/731)\n- isConnected remains true while AMQPConnectionClosedException is thrown [\\#730](https://github.com/php-amqplib/php-amqplib/issues/730)\n- Use v2.9~2.10, the CPU will 99% when waiting for new messages. v2.8 has no such problem. [\\#729](https://github.com/php-amqplib/php-amqplib/issues/729)\n- Headers exchange - php example [\\#554](https://github.com/php-amqplib/php-amqplib/issues/554)\n- AMQPMessage::basic\\_consume + $nowait=null results in $nowait=true [\\#422](https://github.com/php-amqplib/php-amqplib/issues/422)\n\n**Merged pull requests:**\n\n- Specify language id in the code blocks [\\#747](https://github.com/php-amqplib/php-amqplib/pull/747) ([funivan](https://github.com/funivan))\n- Update version number to 2.10 [\\#746](https://github.com/php-amqplib/php-amqplib/pull/746) ([ramunasd](https://github.com/ramunasd))\n- Remove phpDocumentator from dev dependencies [\\#745](https://github.com/php-amqplib/php-amqplib/pull/745) ([ramunasd](https://github.com/ramunasd))\n- Typo [\\#738](https://github.com/php-amqplib/php-amqplib/pull/738) ([marianofevola](https://github.com/marianofevola))\n\n## [v2.10.0](https://github.com/php-amqplib/php-amqplib/tree/v2.10.0) (2019-08-08)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.10.0-rc1...v2.10.0)\n\n**Closed issues:**\n\n- Update API docs [\\#721](https://github.com/php-amqplib/php-amqplib/issues/721)\n\n**Merged pull requests:**\n\n- Run toxiproxy based connection tests on travis-ci [\\#727](https://github.com/php-amqplib/php-amqplib/pull/727) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.10.0-rc1](https://github.com/php-amqplib/php-amqplib/tree/v2.10.0-rc1) (2019-08-08)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.2...v2.10.0-rc1)\n\n**Implemented enhancements:**\n\n- depricated getIO will break heartbeat [\\#696](https://github.com/php-amqplib/php-amqplib/issues/696)\n- Run travis tests against PHP 7.4 [\\#700](https://github.com/php-amqplib/php-amqplib/pull/700) ([ramunasd](https://github.com/ramunasd))\n- allow assoc array and generator for connection creation [\\#689](https://github.com/php-amqplib/php-amqplib/pull/689) ([black-silence](https://github.com/black-silence))\n- getDeliveryTag method for AMQPMessage [\\#688](https://github.com/php-amqplib/php-amqplib/pull/688) ([ilyachase](https://github.com/ilyachase))\n\n**Fixed bugs:**\n\n- UNIX only SOCKET\\_\\* constants trigger E\\_NOTICE on Windows [\\#723](https://github.com/php-amqplib/php-amqplib/issues/723)\n- Fix wrong exception type on failed connect to broker [\\#716](https://github.com/php-amqplib/php-amqplib/pull/716) ([ramunasd](https://github.com/ramunasd))\n\n**Closed issues:**\n\n- Enhance PHPUnit version definitions in composer.json [\\#718](https://github.com/php-amqplib/php-amqplib/issues/718)\n- Connection timeout disguised as missed server heartbeat [\\#713](https://github.com/php-amqplib/php-amqplib/issues/713)\n- why php alway quit [\\#708](https://github.com/php-amqplib/php-amqplib/issues/708)\n- Is Channel access by reference a possibility? [\\#707](https://github.com/php-amqplib/php-amqplib/issues/707)\n- Broken pipe or closed connection [\\#706](https://github.com/php-amqplib/php-amqplib/issues/706)\n- Warning for SOCKET\\_EWOULDBLOCK not defined [\\#705](https://github.com/php-amqplib/php-amqplib/issues/705)\n- how to get Consumer Cancel Notify [\\#704](https://github.com/php-amqplib/php-amqplib/issues/704)\n- Long running producer -- can send messages to queues already declared, but can't declare new queues [\\#703](https://github.com/php-amqplib/php-amqplib/issues/703)\n- \\[Question\\] php-amqplib reuse connection [\\#702](https://github.com/php-amqplib/php-amqplib/issues/702)\n- Enabling heartbeat by default throws PHP Fatal error [\\#699](https://github.com/php-amqplib/php-amqplib/issues/699)\n- FATAL ERROR: Call to a member function send\\_content\\(\\) on null [\\#698](https://github.com/php-amqplib/php-amqplib/issues/698)\n- stream\\_select\\(\\): You MUST recompile PHP with a larger value of FD\\_SETSIZE [\\#693](https://github.com/php-amqplib/php-amqplib/issues/693)\n- report error inqueue\\_declare [\\#692](https://github.com/php-amqplib/php-amqplib/issues/692)\n- Catch Them all except: PhpAmqpLib\\Exception\\AMQPConnectionClosedException [\\#691](https://github.com/php-amqplib/php-amqplib/issues/691)\n- stream\\_socket\\_client unable to connect \\(Unknown error\\) - OpenSSL 1.0 vs 1.1 [\\#687](https://github.com/php-amqplib/php-amqplib/issues/687)\n- High CPU usage after 2.9.0 release. [\\#686](https://github.com/php-amqplib/php-amqplib/issues/686)\n- Always allow to set a timeout [\\#89](https://github.com/php-amqplib/php-amqplib/issues/89)\n\n**Merged pull requests:**\n\n- Revert changes from \\#648 [\\#726](https://github.com/php-amqplib/php-amqplib/pull/726) ([lukebakken](https://github.com/lukebakken))\n- Wrapper for sockets extension constants [\\#724](https://github.com/php-amqplib/php-amqplib/pull/724) ([ramunasd](https://github.com/ramunasd))\n- Resolves issue\\#718 [\\#722](https://github.com/php-amqplib/php-amqplib/pull/722) ([peter279k](https://github.com/peter279k))\n- Add github issue templates [\\#717](https://github.com/php-amqplib/php-amqplib/pull/717) ([ramunasd](https://github.com/ramunasd))\n- PHP information script [\\#712](https://github.com/php-amqplib/php-amqplib/pull/712) ([ramunasd](https://github.com/ramunasd))\n- Install RabbitMQ package before travis tests [\\#711](https://github.com/php-amqplib/php-amqplib/pull/711) ([ramunasd](https://github.com/ramunasd))\n- Set minimum PHP version to 5.6 [\\#710](https://github.com/php-amqplib/php-amqplib/pull/710) ([ramunasd](https://github.com/ramunasd))\n- Added link to \\#444 [\\#709](https://github.com/php-amqplib/php-amqplib/pull/709) ([Maxim-Mazurok](https://github.com/Maxim-Mazurok))\n- fix call to a member function o null when connection was closed [\\#701](https://github.com/php-amqplib/php-amqplib/pull/701) ([ramunasd](https://github.com/ramunasd))\n- Add connection heartbeat check method [\\#697](https://github.com/php-amqplib/php-amqplib/pull/697) ([ramunasd](https://github.com/ramunasd))\n- Fix phpdoc [\\#690](https://github.com/php-amqplib/php-amqplib/pull/690) ([black-silence](https://github.com/black-silence))\n- Adjust PHPDoc for AMQPChannel's \"$ticket\" parameters [\\#685](https://github.com/php-amqplib/php-amqplib/pull/685) ([AegirLeet](https://github.com/AegirLeet))\n\n## [v2.9.2](https://github.com/php-amqplib/php-amqplib/tree/v2.9.2) (2019-04-24)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.1...v2.9.2)\n\n**Implemented enhancements:**\n\n- Deprecate access to internal properties and methods [\\#673](https://github.com/php-amqplib/php-amqplib/pull/673) ([ramunasd](https://github.com/ramunasd))\n\n**Fixed bugs:**\n\n- Changes in SSL handling breaks bschmitt/laravel-amqp [\\#672](https://github.com/php-amqplib/php-amqplib/issues/672)\n\n**Closed issues:**\n\n- stream\\_socket\\_client\\(\\): unable to connect to tcp:// [\\#682](https://github.com/php-amqplib/php-amqplib/issues/682)\n- Broken pipe connection [\\#679](https://github.com/php-amqplib/php-amqplib/issues/679)\n-  Error Wrong parameters for PhpAmqpLib\\Exception\\AMQPRuntimeException\\(\\[string $message \\[, long $code \\[, Throwable $previous = NULL\\]\\]\\]\\) [\\#671](https://github.com/php-amqplib/php-amqplib/issues/671)\n- stream\\_select\\(\\): unable to select \\[4\\]: Interrupted system call \\(max\\_fd=5\\) [\\#670](https://github.com/php-amqplib/php-amqplib/issues/670)\n- AMQP SSL Broken Pipe [\\#669](https://github.com/php-amqplib/php-amqplib/issues/669)\n- Default heartbeat settings [\\#563](https://github.com/php-amqplib/php-amqplib/issues/563)\n\n**Merged pull requests:**\n\n- fix unknown var [\\#681](https://github.com/php-amqplib/php-amqplib/pull/681) ([anarbekb](https://github.com/anarbekb))\n- Revert default SSL options [\\#677](https://github.com/php-amqplib/php-amqplib/pull/677) ([ramunasd](https://github.com/ramunasd))\n- fix regression after \\#675 due to too early changed flag [\\#676](https://github.com/php-amqplib/php-amqplib/pull/676) ([ramunasd](https://github.com/ramunasd))\n- Ensure amqp client status is closed that network had been rst [\\#675](https://github.com/php-amqplib/php-amqplib/pull/675) ([wjcgithub](https://github.com/wjcgithub))\n\n## [v2.9.1](https://github.com/php-amqplib/php-amqplib/tree/v2.9.1) (2019-03-26)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.0...v2.9.1)\n\n**Fixed bugs:**\n\n- Undefined constant SOCKET\\_EAGAIN in Windows [\\#664](https://github.com/php-amqplib/php-amqplib/issues/664)\n\n**Closed issues:**\n\n- Revert some non-backwards-compatible changes [\\#666](https://github.com/php-amqplib/php-amqplib/issues/666)\n- getting AMQPTimeoutException on 150+ publishes/second. [\\#665](https://github.com/php-amqplib/php-amqplib/issues/665)\n\n**Merged pull requests:**\n\n- Fix undefined constant [\\#668](https://github.com/php-amqplib/php-amqplib/pull/668) ([ramunasd](https://github.com/ramunasd))\n- Revert argument checking [\\#667](https://github.com/php-amqplib/php-amqplib/pull/667) ([lukebakken](https://github.com/lukebakken))\n\n## [v2.9.0](https://github.com/php-amqplib/php-amqplib/tree/v2.9.0) (2019-03-22)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.0-rc2...v2.9.0)\n\n**Implemented enhancements:**\n\n- php-amqp AMQPStreamConnection abstraction class constructor sets heartbeat = 0, keepalive = false [\\#374](https://github.com/php-amqplib/php-amqplib/issues/374)\n\n**Fixed bugs:**\n\n- Fix wrong error code on stream connection exception [\\#663](https://github.com/php-amqplib/php-amqplib/pull/663) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.9.0-rc2](https://github.com/php-amqplib/php-amqplib/tree/v2.9.0-rc2) (2019-03-18)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.0-rc1...v2.9.0-rc2)\n\n**Closed issues:**\n\n- Existing error handler is nuked by class StreamIO [\\#655](https://github.com/php-amqplib/php-amqplib/issues/655)\n- Please, publish your OpenPGP key [\\#654](https://github.com/php-amqplib/php-amqplib/issues/654)\n- \\[2.7,2.8\\] StreamIO force protocol \"ssl\" \\(hardcoded\\) [\\#641](https://github.com/php-amqplib/php-amqplib/issues/641)\n- Connection remains  isConnected === true while  AMQPHeartbeatMissedException is thrown [\\#627](https://github.com/php-amqplib/php-amqplib/issues/627)\n- Duplicate call to AbstractIO::connect\\(\\) during reconnecting \\(AbstractConnection::reconnect\\(\\)\\) [\\#626](https://github.com/php-amqplib/php-amqplib/issues/626)\n- infinite loop inside StreamIO::write, in case of broken connection [\\#624](https://github.com/php-amqplib/php-amqplib/issues/624)\n- heartbeat problem on non\\_blocking consumers [\\#508](https://github.com/php-amqplib/php-amqplib/issues/508)\n- isConnected was still true when broken pipe or close connection in channel-\\>wait\\(\\) [\\#389](https://github.com/php-amqplib/php-amqplib/issues/389)\n- Keepalive and heartbeat on ssl [\\#371](https://github.com/php-amqplib/php-amqplib/issues/371)\n\n**Merged pull requests:**\n\n- Allow choosing a different protocol for SSL/TLS [\\#661](https://github.com/php-amqplib/php-amqplib/pull/661) ([lukebakken](https://github.com/lukebakken))\n- Remove AbstractIO reconnect as it is only used, incorrectly, in one p… [\\#660](https://github.com/php-amqplib/php-amqplib/pull/660) ([lukebakken](https://github.com/lukebakken))\n- Catch a couple exceptions in select [\\#659](https://github.com/php-amqplib/php-amqplib/pull/659) ([lukebakken](https://github.com/lukebakken))\n- Throw exception if keepalive cannot be enabled on ssl connections [\\#658](https://github.com/php-amqplib/php-amqplib/pull/658) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.9.0-rc1](https://github.com/php-amqplib/php-amqplib/tree/v2.9.0-rc1) (2019-03-08)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.9.0-beta.1...v2.9.0-rc1)\n\n**Merged pull requests:**\n\n- Handle broken pipe or closed connection exceptions [\\#653](https://github.com/php-amqplib/php-amqplib/pull/653) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.9.0-beta.1](https://github.com/php-amqplib/php-amqplib/tree/v2.9.0-beta.1) (2019-02-27)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.2-rc3...v2.9.0-beta.1)\n\n**Implemented enhancements:**\n\n- Send a specific exception when the vhost doesn't exist [\\#343](https://github.com/php-amqplib/php-amqplib/issues/343)\n\n**Fixed bugs:**\n\n- Signals not being handled correctly [\\#649](https://github.com/php-amqplib/php-amqplib/issues/649)\n- Incorrect list of arguments for AMQPRuntimeException causes fatal error [\\#637](https://github.com/php-amqplib/php-amqplib/issues/637)\n- Endless loop after broken connection with rabbitmq in AMQPReader::rawread because of zero timeout [\\#622](https://github.com/php-amqplib/php-amqplib/issues/622)\n\n**Closed issues:**\n\n- 如何判断 channel-\\>basic\\_publish 是否成功？ [\\#646](https://github.com/php-amqplib/php-amqplib/issues/646)\n- 在哪里能设置 x-expires呢，在不修改库代码的情况下 [\\#644](https://github.com/php-amqplib/php-amqplib/issues/644)\n- Connection is aborted without Exception [\\#639](https://github.com/php-amqplib/php-amqplib/issues/639)\n- Error: The connection timed out after 3 sec while awaiting incoming data [\\#636](https://github.com/php-amqplib/php-amqplib/issues/636)\n- What compatibility with Symfony4 [\\#635](https://github.com/php-amqplib/php-amqplib/issues/635)\n- Workers consuming multiple queues in topic exchange don't always process in parallel prefetch\\_count=1 [\\#607](https://github.com/php-amqplib/php-amqplib/issues/607)\n- Call protected function outside class [\\#604](https://github.com/php-amqplib/php-amqplib/issues/604)\n- Queue declare not timing out [\\#561](https://github.com/php-amqplib/php-amqplib/issues/561)\n- Error handler relies on locale setting [\\#557](https://github.com/php-amqplib/php-amqplib/issues/557)\n- Error handling of connection issues [\\#548](https://github.com/php-amqplib/php-amqplib/issues/548)\n- Right way to use AMQPSocketConnection [\\#547](https://github.com/php-amqplib/php-amqplib/issues/547)\n- basic\\_qos\\(\\) fails static analysis [\\#537](https://github.com/php-amqplib/php-amqplib/issues/537)\n- check\\_heartbeat in write\\(\\) at StreamIO [\\#507](https://github.com/php-amqplib/php-amqplib/issues/507)\n- Return listener not called [\\#490](https://github.com/php-amqplib/php-amqplib/issues/490)\n- pcntl SIGHUP Consumer restart not working in demo [\\#489](https://github.com/php-amqplib/php-amqplib/issues/489)\n- Add Roadmap [\\#485](https://github.com/php-amqplib/php-amqplib/issues/485)\n- Invalid frame type 65 [\\#437](https://github.com/php-amqplib/php-amqplib/issues/437)\n- Why are we reconnecting in check\\_heartbeat method? [\\#309](https://github.com/php-amqplib/php-amqplib/issues/309)\n- heartbeats and AMQPTimeoutException  [\\#249](https://github.com/php-amqplib/php-amqplib/issues/249)\n- AMPConnection just sits there [\\#248](https://github.com/php-amqplib/php-amqplib/issues/248)\n- Repeated Acknowledgements with SetBody\\(\\) [\\#154](https://github.com/php-amqplib/php-amqplib/issues/154)\n- StreamIO::read loops infinitely if broker blocks producers [\\#148](https://github.com/php-amqplib/php-amqplib/issues/148)\n- AMQPConnection can hang in \\_\\_destruct after a write\\(\\) failed [\\#82](https://github.com/php-amqplib/php-amqplib/issues/82)\n\n**Merged pull requests:**\n\n- Remove workarounds for hhvm, use latest version of scrutinizer tool [\\#652](https://github.com/php-amqplib/php-amqplib/pull/652) ([ramunasd](https://github.com/ramunasd))\n- Fix signals demo [\\#651](https://github.com/php-amqplib/php-amqplib/pull/651) ([ramunasd](https://github.com/ramunasd))\n- Fix regression after \\#642 [\\#650](https://github.com/php-amqplib/php-amqplib/pull/650) ([ramunasd](https://github.com/ramunasd))\n- Enable heartbeats by default [\\#648](https://github.com/php-amqplib/php-amqplib/pull/648) ([lukebakken](https://github.com/lukebakken))\n- Drop support for HHVM [\\#647](https://github.com/php-amqplib/php-amqplib/pull/647) ([ramunasd](https://github.com/ramunasd))\n- Docker dev environment [\\#643](https://github.com/php-amqplib/php-amqplib/pull/643) ([ramunasd](https://github.com/ramunasd))\n- Fix channel wait timeouts and endless loops [\\#642](https://github.com/php-amqplib/php-amqplib/pull/642) ([ramunasd](https://github.com/ramunasd))\n- Add some constant to AMQP exchange [\\#640](https://github.com/php-amqplib/php-amqplib/pull/640) ([dream-mo](https://github.com/dream-mo))\n- Fixed typo that may cause fatal error in runtime [\\#638](https://github.com/php-amqplib/php-amqplib/pull/638) ([FlyingDR](https://github.com/FlyingDR))\n- IO improvements [\\#634](https://github.com/php-amqplib/php-amqplib/pull/634) ([ramunasd](https://github.com/ramunasd))\n- fix isssue with close channel [\\#632](https://github.com/php-amqplib/php-amqplib/pull/632) ([kufd](https://github.com/kufd))\n\n## [v2.8.2-rc3](https://github.com/php-amqplib/php-amqplib/tree/v2.8.2-rc3) (2018-12-11)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.2-rc2...v2.8.2-rc3)\n\n## [v2.8.2-rc2](https://github.com/php-amqplib/php-amqplib/tree/v2.8.2-rc2) (2018-12-10)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.2-rc1...v2.8.2-rc2)\n\n**Implemented enhancements:**\n\n- Test against latest php versions [\\#631](https://github.com/php-amqplib/php-amqplib/pull/631) ([ramunasd](https://github.com/ramunasd))\n- Allow to specify a timeout for channel operations [\\#609](https://github.com/php-amqplib/php-amqplib/pull/609) ([mszabo-wikia](https://github.com/mszabo-wikia))\n\n**Fixed bugs:**\n\n- Error when systemd tries to restart workers since 2.8.0 [\\#611](https://github.com/php-amqplib/php-amqplib/issues/611)\n\n**Merged pull requests:**\n\n- Fix wrong exception type on stream timeouts and signals [\\#621](https://github.com/php-amqplib/php-amqplib/pull/621) ([ramunasd](https://github.com/ramunasd))\n\n## [v2.8.2-rc1](https://github.com/php-amqplib/php-amqplib/tree/v2.8.2-rc1) (2018-11-29)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.1...v2.8.2-rc1)\n\n**Fixed bugs:**\n\n- Fix and add test for signal handling with PCNTL extension [\\#630](https://github.com/php-amqplib/php-amqplib/pull/630) ([Shivox](https://github.com/Shivox))\n\n**Closed issues:**\n\n- How do I listen to all queues [\\#629](https://github.com/php-amqplib/php-amqplib/issues/629)\n- Broken pipe or closed connection [\\#628](https://github.com/php-amqplib/php-amqplib/issues/628)\n- yii queue/listen No \"message\\_id\" property [\\#625](https://github.com/php-amqplib/php-amqplib/issues/625)\n- Long phpamqplib.DEBUG: Queue message processed logs before throwing fwrite [\\#623](https://github.com/php-amqplib/php-amqplib/issues/623)\n- Undefined constant SOCKET\\_EAGAIN in Windows [\\#619](https://github.com/php-amqplib/php-amqplib/issues/619)\n\n**Merged pull requests:**\n\n- Fix undefined constant SOCKET\\_EAGAIN in Windows [\\#620](https://github.com/php-amqplib/php-amqplib/pull/620) ([MaxwellZY](https://github.com/MaxwellZY))\n\n## [v2.8.1](https://github.com/php-amqplib/php-amqplib/tree/v2.8.1) (2018-11-13)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.1-rc3...v2.8.1)\n\n## [v2.8.1-rc3](https://github.com/php-amqplib/php-amqplib/tree/v2.8.1-rc3) (2018-11-07)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.1-rc2...v2.8.1-rc3)\n\n**Fixed bugs:**\n\n- fwrite\\(\\): send of 3728 bytes failed with errno=11 Resource temporarily unavailable [\\#613](https://github.com/php-amqplib/php-amqplib/issues/613)\n\n**Closed issues:**\n\n- calling check\\_heartbeat causes connection to close [\\#617](https://github.com/php-amqplib/php-amqplib/issues/617)\n- message not received by the server but no exception thrown [\\#595](https://github.com/php-amqplib/php-amqplib/issues/595)\n\n**Merged pull requests:**\n\n- Restore code that sets last\\_read [\\#618](https://github.com/php-amqplib/php-amqplib/pull/618) ([lukebakken](https://github.com/lukebakken))\n\n## [v2.8.1-rc2](https://github.com/php-amqplib/php-amqplib/tree/v2.8.1-rc2) (2018-11-02)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.1-rc1...v2.8.1-rc2)\n\n**Closed issues:**\n\n- AMQPStreamConnection $connection\\_timeout - milliseconds or seconds? [\\#616](https://github.com/php-amqplib/php-amqplib/issues/616)\n\n**Merged pull requests:**\n\n- Parse error string to determine error number instead of using errno [\\#615](https://github.com/php-amqplib/php-amqplib/pull/615) ([davidgreisler](https://github.com/davidgreisler))\n\n## [v2.8.1-rc1](https://github.com/php-amqplib/php-amqplib/tree/v2.8.1-rc1) (2018-10-30)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.0...v2.8.1-rc1)\n\n**Fixed bugs:**\n\n- ext-sockets required since 2.8.0 [\\#608](https://github.com/php-amqplib/php-amqplib/issues/608)\n- Fixed restoring previous error handler in StreamIO [\\#612](https://github.com/php-amqplib/php-amqplib/pull/612) ([cezarystepkowski](https://github.com/cezarystepkowski))\n- Move ext-sockets from \"suggest\" to \"require\" [\\#610](https://github.com/php-amqplib/php-amqplib/pull/610) ([lukebakken](https://github.com/lukebakken))\n\n**Closed issues:**\n\n- Getting really often \"Connection reset by peer\" [\\#546](https://github.com/php-amqplib/php-amqplib/issues/546)\n\n## [v2.8.0](https://github.com/php-amqplib/php-amqplib/tree/v2.8.0) (2018-10-23)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.7.2.1...v2.8.0)\n\n**Closed issues:**\n\n- Feature Request: Allow overriding of LIBRARY\\_PROPERTIES [\\#603](https://github.com/php-amqplib/php-amqplib/issues/603)\n\n**Merged pull requests:**\n\n- Add getLibraryProperties abstract connection method and test [\\#606](https://github.com/php-amqplib/php-amqplib/pull/606) ([madrussa](https://github.com/madrussa))\n- Fix potential indefinite wait [\\#602](https://github.com/php-amqplib/php-amqplib/pull/602) ([lukebakken](https://github.com/lukebakken))\n- fix the logical error [\\#601](https://github.com/php-amqplib/php-amqplib/pull/601) ([aisuhua](https://github.com/aisuhua))\n- Use specific exceptions instead of general AMQPRuntimeException [\\#600](https://github.com/php-amqplib/php-amqplib/pull/600) ([ondrej-bouda](https://github.com/ondrej-bouda))\n\n## [v2.7.2.1](https://github.com/php-amqplib/php-amqplib/tree/v2.7.2.1) (2018-10-17)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.8.0-rc1...v2.7.2.1)\n\n**Closed issues:**\n\n- When heartbeats parameter is greater than 0 [\\#352](https://github.com/php-amqplib/php-amqplib/issues/352)\n\n## [v2.8.0-rc1](https://github.com/php-amqplib/php-amqplib/tree/v2.8.0-rc1) (2018-10-11)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.7.3...v2.8.0-rc1)\n\n**Implemented enhancements:**\n\n- lazy channels [\\#291](https://github.com/php-amqplib/php-amqplib/issues/291)\n\n**Closed issues:**\n\n- \"Server nack'ed unknown delivery\\_tag\" when using batch\\_basic\\_publish [\\#597](https://github.com/php-amqplib/php-amqplib/issues/597)\n- fwrite: errno=11 in StreamIO [\\#596](https://github.com/php-amqplib/php-amqplib/issues/596)\n- where is the function \"AMQPStreamConnection::create\\_connection\\(\\)\" [\\#586](https://github.com/php-amqplib/php-amqplib/issues/586)\n- RPC server not sending reply down the wire [\\#585](https://github.com/php-amqplib/php-amqplib/issues/585)\n- Please add support for AMQP 1.0 [\\#583](https://github.com/php-amqplib/php-amqplib/issues/583)\n- Connecting to Red Hat JBOSS [\\#580](https://github.com/php-amqplib/php-amqplib/issues/580)\n- Consuming message coming in truncated [\\#579](https://github.com/php-amqplib/php-amqplib/issues/579)\n- can't throw fwrite\\(\\) error immediately [\\#578](https://github.com/php-amqplib/php-amqplib/issues/578)\n- Can't reuse AMQPMessage object with new properties [\\#576](https://github.com/php-amqplib/php-amqplib/issues/576)\n- Invalid frame type 65 [\\#572](https://github.com/php-amqplib/php-amqplib/issues/572)\n- The set\\_nack\\_handle  can not be triggered correctly. [\\#571](https://github.com/php-amqplib/php-amqplib/issues/571)\n- channel-\\>wait\\(\\) with timeout make memory leak [\\#566](https://github.com/php-amqplib/php-amqplib/issues/566)\n- SOCKS Proxy between RMQ and client [\\#558](https://github.com/php-amqplib/php-amqplib/issues/558)\n- Version 2.7 connects as 2.6 [\\#555](https://github.com/php-amqplib/php-amqplib/issues/555)\n- Update minimum php version in composer.json [\\#543](https://github.com/php-amqplib/php-amqplib/issues/543)\n- StreamIO can wait for data indefinitely [\\#416](https://github.com/php-amqplib/php-amqplib/issues/416)\n- Releasing connection reference too early in a channel leads to a segmentation fault [\\#415](https://github.com/php-amqplib/php-amqplib/issues/415)\n- StreamConnection does not time out [\\#408](https://github.com/php-amqplib/php-amqplib/issues/408)\n- $this-\\>debug can be null in AbstractConnection.php [\\#386](https://github.com/php-amqplib/php-amqplib/issues/386)\n- Read and write to multiple queues within one script [\\#293](https://github.com/php-amqplib/php-amqplib/issues/293)\n- decode\\(\\) method not defined [\\#160](https://github.com/php-amqplib/php-amqplib/issues/160)\n\n**Merged pull requests:**\n\n- Use errno instead of error strings [\\#599](https://github.com/php-amqplib/php-amqplib/pull/599) ([marek-obuchowicz](https://github.com/marek-obuchowicz))\n- Corrected typo and comment alignment in demo/amqp\\_consumer\\_exclusive.php [\\#591](https://github.com/php-amqplib/php-amqplib/pull/591) ([lkorczewski](https://github.com/lkorczewski))\n- Corrected typos in demo/amqp\\_publisher\\_exclusive.php [\\#590](https://github.com/php-amqplib/php-amqplib/pull/590) ([lkorczewski](https://github.com/lkorczewski))\n- Fix heartbeat-check if pcntl is unavailable [\\#584](https://github.com/php-amqplib/php-amqplib/pull/584) ([srebbsrebb](https://github.com/srebbsrebb))\n- don't throw an exception in an error handler [\\#581](https://github.com/php-amqplib/php-amqplib/pull/581) ([deweller](https://github.com/deweller))\n- Cleanup serialized\\_properties on property set [\\#577](https://github.com/php-amqplib/php-amqplib/pull/577) ([p-golovin](https://github.com/p-golovin))\n- Annotate at @throws \\ErrorException at AbstractChannel::wait [\\#575](https://github.com/php-amqplib/php-amqplib/pull/575) ([nohponex](https://github.com/nohponex))\n- Structuring tests [\\#574](https://github.com/php-amqplib/php-amqplib/pull/574) ([programarivm](https://github.com/programarivm))\n- Test with php 5.3 and 7.2 [\\#569](https://github.com/php-amqplib/php-amqplib/pull/569) ([snapshotpl](https://github.com/snapshotpl))\n- Add extended datatype for bytes [\\#568](https://github.com/php-amqplib/php-amqplib/pull/568) ([masell](https://github.com/masell))\n- Fwrite \\ErrorException not being thrown to the top function call when doing basic\\_publish [\\#564](https://github.com/php-amqplib/php-amqplib/pull/564) ([dp-indrak](https://github.com/dp-indrak))\n- Introduce a method to create connection from multiple hosts. [\\#562](https://github.com/php-amqplib/php-amqplib/pull/562) ([hairyhum](https://github.com/hairyhum))\n- Throw exception on missed heartbeat [\\#559](https://github.com/php-amqplib/php-amqplib/pull/559) ([hairyhum](https://github.com/hairyhum))\n\n## [v2.7.3](https://github.com/php-amqplib/php-amqplib/tree/v2.7.3) (2018-04-30)\n\n[Full Changelog](https://github.com/php-amqplib/php-amqplib/compare/v2.7.2...v2.7.3)\n\n**Closed issues:**\n\n- stream\\_select\\(\\) ErrorException FD\\_SETSIZE [\\#552](https://github.com/php-amqplib/php-amqplib/issues/552)\n- Whoops, looks like something went wrong. \\(1/1\\) ErrorException getimagesize\\(\\): send of 18 bytes failed with errno=104 Connection reset by peer [\\#551](https://github.com/php-amqplib/php-amqplib/issues/551)\n- no-local? [\\#550](https://github.com/php-amqplib/php-amqplib/issues/550)\n- Can php-amqplib consumer work on a web page? [\\#549](https://github.com/php-amqplib/php-amqplib/issues/549)\n- Functional tests fail after upgrading to 2.7.1 and 2.7.2 [\\#545](https://github.com/php-amqplib/php-amqplib/issues/545)\n- fwrite failure / not sure how to debug further [\\#544](https://github.com/php-amqplib/php-amqplib/issues/544)\n\n# Previous releases\n\n## 2.7.2 - 2018-02-11\n\n[GitHub Milestone](https://github.com/php-amqplib/php-amqplib/milestone/5?closed=1)\n\n- PHP `5.3` compatibility [PR](https://github.com/php-amqplib/php-amqplib/issues/539)\n\n## 2.7.1 - 2018-02-01\n\n- Support PHPUnit 6 [PR](https://github.com/php-amqplib/php-amqplib/pull/530)\n- Use `tcp_nodelay` for `StreamIO` [PR](https://github.com/php-amqplib/php-amqplib/pull/517)\n- Pass connection timeout to `wait` method [PR](https://github.com/php-amqplib/php-amqplib/pull/512)\n- Fix possible indefinite waiting for data in StreamIO [PR](https://github.com/php-amqplib/php-amqplib/pull/423), [PR](https://github.com/php-amqplib/php-amqplib/pull/534)\n- Change protected method check_heartbeat to public [PR](https://github.com/php-amqplib/php-amqplib/pull/520)\n- Ensure access levels are consistent for calling `check_heartbeat` [PR](https://github.com/php-amqplib/php-amqplib/pull/535)\n\n## 2.7.0 - 2017-09-20\n\n### Added\n- Increased overall test coverage\n- Bring heartbeat support to socket connection\n- Add message delivery tag for publisher confirms\n- Add support for serializing DateTimeImmutable objects\n\n### Fixed\n- Fixed infinite loop on reconnect - check_heartbeat\n- Fixed signal handling exit example\n- Fixed exchange_unbind arguments\n- Fixed invalid annotation for channel_id\n- Fixed socket null error on php 5.3 version\n- Fixed timeout parameters on HHVM before calling stream_select\n\n### Changed\n- declare(ticks=1) no longer needed after PHP5.3 / amqplib 2.4.1\n- Minor DebugHelper improvements\n\n### Enhancements\n- Add extensions requirements to README.md\n- Add PHP 7.1 to Travis build\n- Reduce memory usage in StreamIO::write()\n- Re-enable heartbeats after reconnection\n\n## 2.6.3 - 2016-04-11\n\n### Added\n- Added the ability to set timeout as float\n\n### Fixed\n- Fixed restoring of error_handler on connection error\n\n### Enhancements\n- Verify read_write_timeout is at least 2x the heartbeat (if set)\n- Many PHPDoc fixes\n- Throw exception when trying to create an exchange on a closed connection\n\n## 2.6.2 - 2016-03-02\n\n### Added\n- Added AMQPLazySocketConnection\n- AbstractConnection::getServerProperties method to retrieve server properties.\n- AMQPReader::wait() will throw IOWaitException on stream_select failure\n- Add PHPDocs to Auto-generated Protocol Classes\n\n### Fixed\n- Disable heartbeat when closing connection\n- Fix for when the default error handler is not restored in StreamIO\n\n### Enhancements\n- Cleanup tests and improve testing performance\n- Confirm received valid frame type on wait_frame in AbstractConnection\n- Update DEMO files closer to PSR-2 standards\n\n## 2.6.1 - 2016-02-12\n\n### Added\n- Add constants for delivery modes to AMQPMessage\n\n### Fixed\n- Fix some PHPDoc problems\n- AbstractCollection value de/encoding on PHP7\n- StreamIO: fix \"bad write retry\" in SSL mode\n\n### Enhancements\n- Update PHPUnit configuration\n- Add scrutinizer-ci configuration\n- Organizational changes from videlalvaro to php-amqplib org\n- Minor complexity optimizations, code organization, and code cleanup\n\n## 2.6.0 - 2015-09-23\n\n### BC Breaking Changes\n- The `AMQPStreamConnection` class now throws `ErrorExceptions` when errors happen while reading/writing to the network.\n\n### Added\n- Heartbeat frames will decrease the timeout used when calling wait_channel - heartbeat frames do not reset the timeout\n\n### Fixed\n- Declared the class AbstractChannel as being an abstract class\n- Reads, writes and signals respond immediately instead of waiting for a timeout\n- Fatal error in some cases on Channel.wait with timeout when RabbitMQ restarted\n- Remove warning when trying to push a deferred frame\n\n\n\\* *This Changelog was automatically generated by [github_changelog_generator](https://github.com/github-changelog-generator/github-changelog-generator)*\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 2.04296875,
          "content": "# Contributing\n\nContributions are **welcome** and will be fully **credited**.\n\nWe accept contributions via Pull Requests on [Github](https://github.com/php-amqplib/php-amqplib).\n\n\n## Pull Requests\n\n- **[PSR-2 Coding Standard](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md)** - The easiest way to apply the conventions is to install [PHP Code Sniffer](http://pear.php.net/package/PHP_CodeSniffer).\n\n- **Add tests!** - Your patch won't be accepted if it doesn't have tests.\n\n- **Document any change in behaviour** - Make sure the README and any other relevant documentation are kept up-to-date.\n\n- **Consider our release cycle** - We try to follow semver. Randomly breaking public APIs is not an option.\n\n- **Create topic branches** - Don't ask us to pull from your master branch.\n\n- **One pull request per feature** - If you want to do more than one thing, send multiple pull requests.\n\n- **Send coherent history** - Make sure each individual commit in your pull request is meaningful. If you had to make multiple intermediate commits while developing, please squash them before submitting.\n\n\n## Running Tests\n\n### Start RabbitMQ\n\nTo successfully run the tests you need to first have a stock RabbitMQ broker running locally\n\n* Using `docker compose`\n    ```\n    make docker-test-env\n    ```\n    Note: if you wish to ensure the latest docker images, run this command:\n    ```\n    make DOCKER_FRESH=true clean docker-test-env\n    ```\n* Using the GitHub Actions setup script\n    Note: this has been tested on Ubuntu 22 and Arch Linux\n    ```\n    ./.ci/ubuntu/gha-setup.sh\n    ```\n\n### Run Tests\n\n* Using an environment started via `make docker-test-env`:\n    ```\n    make docker-test\n    ```\n* Using a local RabbitMQ started by `gha-setup.sh`:\n    ``` bash\n    make test\n    ```\n\n### Cleanup / Troubleshooting\n\nIf you started your environment using `make docker-test-env`, use `docker compose stop` to stop it.\n\nIf you ran tests locally, but then decided to use the docker environment to run tests, you should first run `make clean`\n\n**Happy coding**!\n"
        },
        {
          "name": "CREDITS",
          "type": "blob",
          "size": 0.3037109375,
          "content": "\nFollowing people contributed to this project:\n\nBarry Pederson <bp@barryp.org> - author of original Python lib\nVadim Zaliva <lord@crocodile.org> - PHP paort\ntaavi013@gmail.com patches - patches\nSean Murphy http://code.google.com/u/sgmurphy/ - patches\nspiderbill http://code.google.com/u/spiderbill/ - patches\n\n\n"
        },
        {
          "name": "History.md",
          "type": "blob",
          "size": 3.548828125,
          "content": "# Previous releases\n\n## 2.7.2 - 2018-02-11\n\n[GitHub Milestone](https://github.com/php-amqplib/php-amqplib/milestone/5?closed=1)\n\n- PHP `5.3` compatibility [PR](https://github.com/php-amqplib/php-amqplib/issues/539)\n\n## 2.7.1 - 2018-02-01\n\n- Support PHPUnit 6 [PR](https://github.com/php-amqplib/php-amqplib/pull/530)\n- Use `tcp_nodelay` for `StreamIO` [PR](https://github.com/php-amqplib/php-amqplib/pull/517)\n- Pass connection timeout to `wait` method [PR](https://github.com/php-amqplib/php-amqplib/pull/512)\n- Fix possible indefinite waiting for data in StreamIO [PR](https://github.com/php-amqplib/php-amqplib/pull/423), [PR](https://github.com/php-amqplib/php-amqplib/pull/534)\n- Change protected method check_heartbeat to public [PR](https://github.com/php-amqplib/php-amqplib/pull/520)\n- Ensure access levels are consistent for calling `check_heartbeat` [PR](https://github.com/php-amqplib/php-amqplib/pull/535)\n\n## 2.7.0 - 2017-09-20\n\n### Added\n- Increased overall test coverage\n- Bring heartbeat support to socket connection\n- Add message delivery tag for publisher confirms\n- Add support for serializing DateTimeImmutable objects\n\n### Fixed\n- Fixed infinite loop on reconnect - check_heartbeat\n- Fixed signal handling exit example\n- Fixed exchange_unbind arguments\n- Fixed invalid annotation for channel_id\n- Fixed socket null error on php 5.3 version\n- Fixed timeout parameters on HHVM before calling stream_select\n\n### Changed\n- declare(ticks=1) no longer needed after PHP5.3 / amqplib 2.4.1\n- Minor DebugHelper improvements\n\n### Enhancements\n- Add extensions requirements to README.md\n- Add PHP 7.1 to Travis build\n- Reduce memory usage in StreamIO::write()\n- Re-enable heartbeats after reconnection\n\n## 2.6.3 - 2016-04-11\n\n### Added\n- Added the ability to set timeout as float\n\n### Fixed\n- Fixed restoring of error_handler on connection error\n\n### Enhancements\n- Verify read_write_timeout is at least 2x the heartbeat (if set)\n- Many PHPDoc fixes\n- Throw exception when trying to create an exchange on a closed connection\n\n## 2.6.2 - 2016-03-02\n\n### Added\n- Added AMQPLazySocketConnection\n- AbstractConnection::getServerProperties method to retrieve server properties.\n- AMQPReader::wait() will throw IOWaitException on stream_select failure\n- Add PHPDocs to Auto-generated Protocol Classes\n\n### Fixed\n- Disable heartbeat when closing connection\n- Fix for when the default error handler is not restored in StreamIO\n\n### Enhancements\n- Cleanup tests and improve testing performance\n- Confirm received valid frame type on wait_frame in AbstractConnection\n- Update DEMO files closer to PSR-2 standards\n\n## 2.6.1 - 2016-02-12\n\n### Added\n- Add constants for delivery modes to AMQPMessage\n\n### Fixed\n- Fix some PHPDoc problems\n- AbstractCollection value de/encoding on PHP7\n- StreamIO: fix \"bad write retry\" in SSL mode\n\n### Enhancements\n- Update PHPUnit configuration\n- Add scrutinizer-ci configuration\n- Organizational changes from videlalvaro to php-amqplib org\n- Minor complexity optimizations, code organization, and code cleanup\n\n## 2.6.0 - 2015-09-23\n\n### BC Breaking Changes\n- The `AMQPStreamConnection` class now throws `ErrorExceptions` when errors happen while reading/writing to the network.\n\n### Added\n- Heartbeat frames will decrease the timeout used when calling wait_channel - heartbeat frames do not reset the timeout\n\n### Fixed\n- Declared the class AbstractChannel as being an abstract class\n- Reads, writes and signals respond immediately instead of waiting for a timeout\n- Fatal error in some cases on Channel.wait with timeout when RabbitMQ restarted\n- Remove warning when trying to push a deferred frame\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 23.818359375,
          "content": "\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n\t\t       Version 2.1, February 1999\n\n Copyright (C) 1991, 1999 Free Software Foundation, Inc.\n 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n[This is the first released version of the Lesser GPL.  It also counts\n as the successor of the GNU Library Public License, version 2, hence\n the version number 2.1.]\n\n\t\t\t    Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicenses are intended to guarantee your freedom to share and change\nfree software--to make sure the software is free for all its users.\n\n  This license, the Lesser General Public License, applies to some\nspecially designated software packages--typically libraries--of the\nFree Software Foundation and other authors who decide to use it.  You\ncan use it too, but we suggest you first think carefully about whether\nthis license or the ordinary General Public License is the better\nstrategy to use in any particular case, based on the explanations below.\n\n  When we speak of free software, we are referring to freedom of use,\nnot price.  Our General Public Licenses are designed to make sure that\nyou have the freedom to distribute copies of free software (and charge\nfor this service if you wish); that you receive source code or can get\nit if you want it; that you can change the software and use pieces of\nit in new free programs; and that you are informed that you can do\nthese things.\n\n  To protect your rights, we need to make restrictions that forbid\ndistributors to deny you these rights or to ask you to surrender these\nrights.  These restrictions translate to certain responsibilities for\nyou if you distribute copies of the library or if you modify it.\n\n  For example, if you distribute copies of the library, whether gratis\nor for a fee, you must give the recipients all the rights that we gave\nyou.  You must make sure that they, too, receive or can get the source\ncode.  If you link other code with the library, you must provide\ncomplete object files to the recipients, so that they can relink them\nwith the library after making changes to the library and recompiling\nit.  And you must show them these terms so they know their rights.\n\n  We protect your rights with a two-step method: (1) we copyright the\nlibrary, and (2) we offer you this license, which gives you legal\npermission to copy, distribute and/or modify the library.\n\n  To protect each distributor, we want to make it very clear that\nthere is no warranty for the free library.  Also, if the library is\nmodified by someone else and passed on, the recipients should know\nthat what they have is not the original version, so that the original\nauthor's reputation will not be affected by problems that might be\nintroduced by others.\n\f\n  Finally, software patents pose a constant threat to the existence of\nany free program.  We wish to make sure that a company cannot\neffectively restrict the users of a free program by obtaining a\nrestrictive license from a patent holder.  Therefore, we insist that\nany patent license obtained for a version of the library must be\nconsistent with the full freedom of use specified in this license.\n\n  Most GNU software, including some libraries, is covered by the\nordinary GNU General Public License.  This license, the GNU Lesser\nGeneral Public License, applies to certain designated libraries, and\nis quite different from the ordinary General Public License.  We use\nthis license for certain libraries in order to permit linking those\nlibraries into non-free programs.\n\n  When a program is linked with a library, whether statically or using\na shared library, the combination of the two is legally speaking a\ncombined work, a derivative of the original library.  The ordinary\nGeneral Public License therefore permits such linking only if the\nentire combination fits its criteria of freedom.  The Lesser General\nPublic License permits more lax criteria for linking other code with\nthe library.\n\n  We call this license the \"Lesser\" General Public License because it\ndoes Less to protect the user's freedom than the ordinary General\nPublic License.  It also provides other free software developers Less\nof an advantage over competing non-free programs.  These disadvantages\nare the reason we use the ordinary General Public License for many\nlibraries.  However, the Lesser license provides advantages in certain\nspecial circumstances.\n\n  For example, on rare occasions, there may be a special need to\nencourage the widest possible use of a certain library, so that it becomes\na de-facto standard.  To achieve this, non-free programs must be\nallowed to use the library.  A more frequent case is that a free\nlibrary does the same job as widely used non-free libraries.  In this\ncase, there is little to gain by limiting the free library to free\nsoftware only, so we use the Lesser General Public License.\n\n  In other cases, permission to use a particular library in non-free\nprograms enables a greater number of people to use a large body of\nfree software.  For example, permission to use the GNU C Library in\nnon-free programs enables many more people to use the whole GNU\noperating system, as well as its variant, the GNU/Linux operating\nsystem.\n\n  Although the Lesser General Public License is Less protective of the\nusers' freedom, it does ensure that the user of a program that is\nlinked with the Library has the freedom and the wherewithal to run\nthat program using a modified version of the Library.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.  Pay close attention to the difference between a\n\"work based on the library\" and a \"work that uses the library\".  The\nformer contains code derived from the library, whereas the latter must\nbe combined with the library in order to run.\n\f\n\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License Agreement applies to any software library or other\nprogram which contains a notice placed by the copyright holder or\nother authorized party saying it may be distributed under the terms of\nthis Lesser General Public License (also called \"this License\").\nEach licensee is addressed as \"you\".\n\n  A \"library\" means a collection of software functions and/or data\nprepared so as to be conveniently linked with application programs\n(which use some of those functions and data) to form executables.\n\n  The \"Library\", below, refers to any such software library or work\nwhich has been distributed under these terms.  A \"work based on the\nLibrary\" means either the Library or any derivative work under\ncopyright law: that is to say, a work containing the Library or a\nportion of it, either verbatim or with modifications and/or translated\nstraightforwardly into another language.  (Hereinafter, translation is\nincluded without limitation in the term \"modification\".)\n\n  \"Source code\" for a work means the preferred form of the work for\nmaking modifications to it.  For a library, complete source code means\nall the source code for all modules it contains, plus any associated\ninterface definition files, plus the scripts used to control compilation\nand installation of the library.\n\n  Activities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning a program using the Library is not restricted, and output from\nsuch a program is covered only if its contents constitute a work based\non the Library (independent of the use of the Library in a tool for\nwriting it).  Whether that is true depends on what the Library does\nand what the program that uses the Library does.\n  \n  1. You may copy and distribute verbatim copies of the Library's\ncomplete source code as you receive it, in any medium, provided that\nyou conspicuously and appropriately publish on each copy an\nappropriate copyright notice and disclaimer of warranty; keep intact\nall the notices that refer to this License and to the absence of any\nwarranty; and distribute a copy of this License along with the\nLibrary.\n\n  You may charge a fee for the physical act of transferring a copy,\nand you may at your option offer warranty protection in exchange for a\nfee.\n\f\n  2. You may modify your copy or copies of the Library or any portion\nof it, thus forming a work based on the Library, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) The modified work must itself be a software library.\n\n    b) You must cause the files modified to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    c) You must cause the whole of the work to be licensed at no\n    charge to all third parties under the terms of this License.\n\n    d) If a facility in the modified Library refers to a function or a\n    table of data to be supplied by an application program that uses\n    the facility, other than as an argument passed when the facility\n    is invoked, then you must make a good faith effort to ensure that,\n    in the event an application does not supply such function or\n    table, the facility still operates, and performs whatever part of\n    its purpose remains meaningful.\n\n    (For example, a function in a library to compute square roots has\n    a purpose that is entirely well-defined independent of the\n    application.  Therefore, Subsection 2d requires that any\n    application-supplied function or table used by this function must\n    be optional: if the application does not supply it, the square\n    root function must still compute square roots.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Library,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Library, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote\nit.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Library.\n\nIn addition, mere aggregation of another work not based on the Library\nwith the Library (or with a work based on the Library) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may opt to apply the terms of the ordinary GNU General Public\nLicense instead of this License to a given copy of the Library.  To do\nthis, you must alter all the notices that refer to this License, so\nthat they refer to the ordinary GNU General Public License, version 2,\ninstead of to this License.  (If a newer version than version 2 of the\nordinary GNU General Public License has appeared, then you can specify\nthat version instead if you wish.)  Do not make any other change in\nthese notices.\n\f\n  Once this change is made in a given copy, it is irreversible for\nthat copy, so the ordinary GNU General Public License applies to all\nsubsequent copies and derivative works made from that copy.\n\n  This option is useful when you wish to copy part of the code of\nthe Library into a program that is not a library.\n\n  4. You may copy and distribute the Library (or a portion or\nderivative of it, under Section 2) in object code or executable form\nunder the terms of Sections 1 and 2 above provided that you accompany\nit with the complete corresponding machine-readable source code, which\nmust be distributed under the terms of Sections 1 and 2 above on a\nmedium customarily used for software interchange.\n\n  If distribution of object code is made by offering access to copy\nfrom a designated place, then offering equivalent access to copy the\nsource code from the same place satisfies the requirement to\ndistribute the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  5. A program that contains no derivative of any portion of the\nLibrary, but is designed to work with the Library by being compiled or\nlinked with it, is called a \"work that uses the Library\".  Such a\nwork, in isolation, is not a derivative work of the Library, and\ntherefore falls outside the scope of this License.\n\n  However, linking a \"work that uses the Library\" with the Library\ncreates an executable that is a derivative of the Library (because it\ncontains portions of the Library), rather than a \"work that uses the\nlibrary\".  The executable is therefore covered by this License.\nSection 6 states terms for distribution of such executables.\n\n  When a \"work that uses the Library\" uses material from a header file\nthat is part of the Library, the object code for the work may be a\nderivative work of the Library even though the source code is not.\nWhether this is true is especially significant if the work can be\nlinked without the Library, or if the work is itself a library.  The\nthreshold for this to be true is not precisely defined by law.\n\n  If such an object file uses only numerical parameters, data\nstructure layouts and accessors, and small macros and small inline\nfunctions (ten lines or less in length), then the use of the object\nfile is unrestricted, regardless of whether it is legally a derivative\nwork.  (Executables containing this object code plus portions of the\nLibrary will still fall under Section 6.)\n\n  Otherwise, if the work is a derivative of the Library, you may\ndistribute the object code for the work under the terms of Section 6.\nAny executables containing that work also fall under Section 6,\nwhether or not they are linked directly with the Library itself.\n\f\n  6. As an exception to the Sections above, you may also combine or\nlink a \"work that uses the Library\" with the Library to produce a\nwork containing portions of the Library, and distribute that work\nunder terms of your choice, provided that the terms permit\nmodification of the work for the customer's own use and reverse\nengineering for debugging such modifications.\n\n  You must give prominent notice with each copy of the work that the\nLibrary is used in it and that the Library and its use are covered by\nthis License.  You must supply a copy of this License.  If the work\nduring execution displays copyright notices, you must include the\ncopyright notice for the Library among them, as well as a reference\ndirecting the user to the copy of this License.  Also, you must do one\nof these things:\n\n    a) Accompany the work with the complete corresponding\n    machine-readable source code for the Library including whatever\n    changes were used in the work (which must be distributed under\n    Sections 1 and 2 above); and, if the work is an executable linked\n    with the Library, with the complete machine-readable \"work that\n    uses the Library\", as object code and/or source code, so that the\n    user can modify the Library and then relink to produce a modified\n    executable containing the modified Library.  (It is understood\n    that the user who changes the contents of definitions files in the\n    Library will not necessarily be able to recompile the application\n    to use the modified definitions.)\n\n    b) Use a suitable shared library mechanism for linking with the\n    Library.  A suitable mechanism is one that (1) uses at run time a\n    copy of the library already present on the user's computer system,\n    rather than copying library functions into the executable, and (2)\n    will operate properly with a modified version of the library, if\n    the user installs one, as long as the modified version is\n    interface-compatible with the version that the work was made with.\n\n    c) Accompany the work with a written offer, valid for at\n    least three years, to give the same user the materials\n    specified in Subsection 6a, above, for a charge no more\n    than the cost of performing this distribution.\n\n    d) If distribution of the work is made by offering access to copy\n    from a designated place, offer equivalent access to copy the above\n    specified materials from the same place.\n\n    e) Verify that the user has already received a copy of these\n    materials or that you have already sent this user a copy.\n\n  For an executable, the required form of the \"work that uses the\nLibrary\" must include any data and utility programs needed for\nreproducing the executable from it.  However, as a special exception,\nthe materials to be distributed need not include anything that is\nnormally distributed (in either source or binary form) with the major\ncomponents (compiler, kernel, and so on) of the operating system on\nwhich the executable runs, unless that component itself accompanies\nthe executable.\n\n  It may happen that this requirement contradicts the license\nrestrictions of other proprietary libraries that do not normally\naccompany the operating system.  Such a contradiction means you cannot\nuse both them and the Library together in an executable that you\ndistribute.\n\f\n  7. You may place library facilities that are a work based on the\nLibrary side-by-side in a single library together with other library\nfacilities not covered by this License, and distribute such a combined\nlibrary, provided that the separate distribution of the work based on\nthe Library and of the other library facilities is otherwise\npermitted, and provided that you do these two things:\n\n    a) Accompany the combined library with a copy of the same work\n    based on the Library, uncombined with any other library\n    facilities.  This must be distributed under the terms of the\n    Sections above.\n\n    b) Give prominent notice with the combined library of the fact\n    that part of it is a work based on the Library, and explaining\n    where to find the accompanying uncombined form of the same work.\n\n  8. You may not copy, modify, sublicense, link with, or distribute\nthe Library except as expressly provided under this License.  Any\nattempt otherwise to copy, modify, sublicense, link with, or\ndistribute the Library is void, and will automatically terminate your\nrights under this License.  However, parties who have received copies,\nor rights, from you under this License will not have their licenses\nterminated so long as such parties remain in full compliance.\n\n  9. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Library or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Library (or any work based on the\nLibrary), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Library or works based on it.\n\n  10. Each time you redistribute the Library (or any work based on the\nLibrary), the recipient automatically receives a license from the\noriginal licensor to copy, distribute, link with or modify the Library\nsubject to these terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties with\nthis License.\n\f\n  11. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Library at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Library by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Library.\n\nIf any portion of this section is held invalid or unenforceable under any\nparticular circumstance, the balance of the section is intended to apply,\nand the section as a whole is intended to apply in other circumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  12. If the distribution and/or use of the Library is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Library under this License may add\nan explicit geographical distribution limitation excluding those countries,\nso that distribution is permitted only in or among countries not thus\nexcluded.  In such case, this License incorporates the limitation as if\nwritten in the body of this License.\n\n  13. The Free Software Foundation may publish revised and/or new\nversions of the Lesser General Public License from time to time.\nSuch new versions will be similar in spirit to the present version,\nbut may differ in detail to address new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Library\nspecifies a version number of this License which applies to it and\n\"any later version\", you have the option of following the terms and\nconditions either of that version or of any later version published by\nthe Free Software Foundation.  If the Library does not specify a\nlicense version number, you may choose any version ever published by\nthe Free Software Foundation.\n\f\n  14. If you wish to incorporate parts of the Library into other free\nprograms whose distribution conditions are incompatible with these,\nwrite to the author to ask for permission.  For software which is\ncopyrighted by the Free Software Foundation, write to the Free\nSoftware Foundation; we sometimes make exceptions for this.  Our\ndecision will be guided by the two goals of preserving the free status\nof all derivatives of our free software and of promoting the sharing\nand reuse of software generally.\n\n\t\t\t    NO WARRANTY\n\n  15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO\nWARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.\nEXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR\nOTHER PARTIES PROVIDE THE LIBRARY \"AS IS\" WITHOUT WARRANTY OF ANY\nKIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE\nLIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME\nTHE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN\nWRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY\nAND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU\nFOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR\nCONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE\nLIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING\nRENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A\nFAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF\nSUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGES.\n\n\t\t     END OF TERMS AND CONDITIONS\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 1.5087890625,
          "content": "DOCKER_FRESH ?= false\n\nTOXIPROXY_HOST ?= localhost\nTOXIPROXY_AMQP_TARGET ?= php-amqplib-rabbitmq\nTOXIPROXY_AMQP_PORT ?= 5673\n\n.PHONY: test\ntest:\n\tTOXIPROXY_HOST=$(TOXIPROXY_HOST) \\\n\tTOXIPROXY_AMQP_TARGET=$(TOXIPROXY_AMQP_TARGET) \\\n\tTOXIPROXY_AMQP_PORT=$(TOXIPROXY_AMQP_PORT) \\\n\t\t$(CURDIR)/vendor/bin/phpunit\n\n.PHONY: docs\ndocs:\n\twget -qN https://github.com/phpDocumentor/phpDocumentor/releases/download/v3.3.0/phpDocumentor.phar\n\trm -rf ./docs/*\n\tphp -d error_reporting=0 ./phpDocumentor.phar run -v --force --defaultpackagename=PhpAmqpLib --title='php-amqplib' -d ./PhpAmqpLib -t ./docs\n\n.PHONY: benchmark\nbenchmark:\n\t@echo \"Publishing 10k messages with 1KB of content:\"\n\tphp benchmark/producer.php 10000\n\t@echo \"Consuming:\"\n\tphp benchmark/consumer.php\n\t@echo \"Stream produce 1k:\"\n\tphp benchmark/stream_tmp_produce.php 1000\n\t@echo \"Socket produce 1k:\"\n\tphp benchmark/socket_tmp_produce.php 1000\n\n.PHONY: docker-test-env\ndocker-test-env:\nifeq ($(DOCKER_FRESH),true)\n\tdocker build --pull --no-cache --tag=php-amqplib-php:latest $(CURDIR)/docker/php\n\tdocker compose build --no-cache --pull\n\tdocker compose up --pull always --detach\nelse\n\tdocker build --tag=php-amqplib-php:latest $(CURDIR)/docker/php\n\tdocker compose up --detach\nendif\n\n.PHONY: docker-test\ndocker-test:\n\tdocker run --env-file $(CURDIR)/test.env --network php-amqplib_default \\\n\t\t--volume $(CURDIR):/src --workdir /src \\\n\t\t--user \"$$(id -u):$$(id -g)\" php-amqplib-php:latest \\\n\t\t\t/bin/sh -c '/usr/bin/composer install && ./vendor/bin/phpunit'\n\n.PHONY: clean\nclean:\n\tgit clean -xffd\n"
        },
        {
          "name": "NOTE.DEVELOPMENT.NOV.2011.md",
          "type": "blob",
          "size": 0.6494140625,
          "content": "## BC BREAKING CHANGES ##\n\nAs of November 2011 I retook the development of this library therefore I __tagged__ the __previous version__ of the library [here](https://github.com/videlalvaro/php-amqplib/tarball/v1.0). If you are looking for the old library then use the code on that tag.\n\nIf you are going to use it in a new project I advice that you use the current master branch. There are many performance improvements in that branch and I'm adding more and more tests to it.\n\nBesides that the library has been refactored to use PHP 5.3 `namespaces`. The classes have been split into their separate files and so on. The idea is to make the library easier to test.\n"
        },
        {
          "name": "NOTE.THENETCIRCLE.md",
          "type": "blob",
          "size": 0.3095703125,
          "content": "## NOTE ##\n\nThis library is a fork of the [php-amqplib](http://code.google.com/p/php-amqplib/) library.\n\nAt The Netcircle we modified that library in order to work with PHP 5.3 Strict.\n\nAlso we improved the debug method to increase performance.\n\nWe use it daily in prod for sending/consuming 600K + messages per day.\n"
        },
        {
          "name": "PhpAmqpLib",
          "type": "tree",
          "content": null
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 13.927734375,
          "content": "# php-amqplib #\n\n![PHPUnit tests](https://github.com/php-amqplib/php-amqplib/workflows/PHPUnit%20tests/badge.svg)\n[![Latest Version on Packagist][ico-version]][link-packagist]\n[![Total Downloads][ico-downloads]][link-downloads]\n[![Software License][ico-license]](LICENSE)\n\n[![codecov](https://codecov.io/gh/php-amqplib/php-amqplib/branch/master/graph/badge.svg?token=tgeYkUsaDM)](https://codecov.io/gh/php-amqplib/php-amqplib)\n[![Coverage Status][ico-scrutinizer]][link-scrutinizer]\n[![Quality Score][ico-code-quality]][link-code-quality]\n\nThis library is a _pure PHP_ implementation of the [AMQP 0-9-1 protocol](http://www.rabbitmq.com/tutorials/amqp-concepts.html).\nIt's been tested against [RabbitMQ](http://www.rabbitmq.com/).\n\nThe library was used for the PHP examples of [RabbitMQ in Action](http://manning.com/videla/) and the [official RabbitMQ tutorials](http://www.rabbitmq.com/tutorials/tutorial-one-php.html).\n\nPlease note that this project is released with a [Contributor Code of Conduct](.github/CODE_OF_CONDUCT.md). By participating in this project you agree to abide by its terms.\n\n## Project Maintainers\n\nThanks to [videlalvaro](https://github.com/videlalvaro) and [postalservice14](https://github.com/postalservice14) for creating `php-amqplib`.\n\nThe package is now maintained by [Ramūnas Dronga](https://github.com/ramunasd), [Luke Bakken](https://github.com/lukebakken) and several VMware engineers working on RabbitMQ.\n\n## Supported RabbitMQ Versions ##\n\nStarting with version 2.0 this library uses `AMQP 0.9.1` by default and thus requires [RabbitMQ 2.0 or later version](http://www.rabbitmq.com/download.html).\nUsually server upgrades do not require any application code changes since\nthe protocol changes very infrequently but please conduct your own testing before upgrading.\n\n## Supported RabbitMQ Extensions ##\n\nSince the library uses `AMQP 0.9.1` we added support for the following RabbitMQ extensions:\n\n* Exchange to Exchange Bindings\n* Basic Nack\n* Publisher Confirms\n* Consumer Cancel Notify\n\nExtensions that modify existing methods like `alternate exchanges` are also supported.\n\n### Related libraries\n\n* [enqueue/amqp-lib](https://github.com/php-enqueue/amqp-lib) is a [amqp interop](https://github.com/queue-interop/queue-interop#amqp-interop) compatible wrapper.\n\n* [AMQProxy](https://github.com/cloudamqp/amqproxy) is a proxy library with connection and channel pooling/reusing. This allows for lower connection and channel churn when using php-amqplib, leading to less CPU usage of RabbitMQ.\n\n## Setup ##\n\nEnsure you have [composer](http://getcomposer.org) installed, then run the following command:\n\n```bash\n$ composer require php-amqplib/php-amqplib\n```\n\nThat will fetch the library and its dependencies inside your vendor folder. Then you can add the following to your\n.php files in order to use the library\n\n```php\nrequire_once __DIR__.'/vendor/autoload.php';\n```\n\nThen you need to `use` the relevant classes, for example:\n\n```php\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n```\n\n## Usage ##\n\nWith RabbitMQ running open two Terminals and on the first one execute the following commands to start the consumer:\n\n```bash\n$ cd php-amqplib/demo\n$ php amqp_consumer.php\n```\n\nThen on the other Terminal do:\n\n```bash\n$ cd php-amqplib/demo\n$ php amqp_publisher.php some text to publish\n```\n\nYou should see the message arriving to the process on the other Terminal\n\nThen to stop the consumer, send to it the `quit` message:\n\n```bash\n$ php amqp_publisher.php quit\n```\n\nIf you need to listen to the sockets used to connect to RabbitMQ then see the example in the non blocking consumer.\n\n```bash\n$ php amqp_consumer_non_blocking.php\n```\n\n## Change log\n\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\n\n## API Documentation ##\n\nhttp://php-amqplib.github.io/php-amqplib/\n\n## Tutorials ##\n\nTo not repeat ourselves, if you want to learn more about this library,\nplease refer to the [official RabbitMQ tutorials](http://www.rabbitmq.com/tutorials/tutorial-one-php.html).\n\n## More Examples ##\n\n- `amqp_ha_consumer.php`: demos the use of mirrored queues.\n- `amqp_consumer_exclusive.php` and `amqp_publisher_exclusive.php`: demos fanout exchanges using exclusive queues.\n- `amqp_consumer_fanout_{1,2}.php` and `amqp_publisher_fanout.php`: demos fanout exchanges with named queues.\n- `amqp_consumer_pcntl_heartbeat.php`: demos signal-based heartbeat sender usage.\n- `basic_get.php`: demos obtaining messages from the queues by using the _basic get_ AMQP call.\n\n## Multiple hosts connections ##\n\nIf you have a cluster of multiple nodes to which your application can connect,\nyou can start a connection with an array of hosts. To do that you should use\nthe `create_connection` static method.\n\nFor example:\n```php\n$connection = AMQPStreamConnection::create_connection([\n    ['host' => HOST1, 'port' => PORT, 'user' => USER, 'password' => PASS, 'vhost' => VHOST],\n    ['host' => HOST2, 'port' => PORT, 'user' => USER, 'password' => PASS, 'vhost' => VHOST]\n],\n$options);\n```\n\nThis code will try to connect to `HOST1` first, and connect to `HOST2` if the\nfirst connection fails. The method returns a connection object for the first\nsuccessful connection. Should all connections fail it will throw the exception\nfrom the last connection attempt.\n\nSee `demo/amqp_connect_multiple_hosts.php` for more examples.\n\n## Batch Publishing ##\n\nLet's say you have a process that generates a bunch of messages that are going to be published to the same `exchange` using the same `routing_key` and options like `mandatory`.\nThen you could make use of the `batch_basic_publish` library feature. You can batch messages like this:\n\n```php\n$msg = new AMQPMessage($msg_body);\n$ch->batch_basic_publish($msg, $exchange);\n\n$msg2 = new AMQPMessage($msg_body);\n$ch->batch_basic_publish($msg2, $exchange);\n```\n\nand then send the batch like this:\n\n```php\n$ch->publish_batch();\n```\n\n### When do we publish the message batch? ###\n\nLet's say our program needs to read from a file and then publish one message per line. Depending on the message size, you will have to decide when it's better to send the batch.\nYou could send it every 50 messages, or every hundred. That's up to you.\n\n## Optimized Message Publishing ##\n\nAnother way to speed up your message publishing is by reusing the `AMQPMessage` message instances. You can create your new message like this:\n\n```php\n$properties = array('content_type' => 'text/plain', 'delivery_mode' => AMQPMessage::DELIVERY_MODE_PERSISTENT);\n$msg = new AMQPMessage($body, $properties);\n$ch->basic_publish($msg, $exchange);\n```\n\nNow let's say that while you want to change the message body for future messages, you will keep the same properties, that is, your messages will still be `text/plain` and the `delivery_mode` will still be `AMQPMessage::DELIVERY_MODE_PERSISTENT`. If you create a new `AMQPMessage` instance for every published message, then those properties would have to be re-encoded in the AMQP binary format. You could avoid all that by just reusing the `AMQPMessage` and then resetting the message body like this:\n\n```php\n$msg->setBody($body2);\n$ch->basic_publish($msg, $exchange);\n```\n\n## Truncating Large Messages ##\n\nAMQP imposes no limit on the size of messages; if a very large message is received by a consumer, PHP's memory limit may be reached\nwithin the library before the callback passed to `basic_consume` is called.\n\nTo avoid this, you can call the method `AMQPChannel::setBodySizeLimit(int $bytes)` on your Channel instance. Body sizes exceeding this limit will be truncated,\nand delivered to your callback with a `AMQPMessage::$is_truncated` flag set to `true`. The property `AMQPMessage::$body_size` will reflect the true body size of\na received message, which will be higher than `strlen(AMQPMessage::getBody())` if the message has been truncated.\n\nNote that all data above the limit is read from the AMQP Channel and immediately discarded, so there is no way to retrieve it within your\ncallback. If you have another consumer which can handle messages with larger payloads, you can use `basic_reject` or `basic_nack` to tell\nthe server (which still has a complete copy) to forward it to a Dead Letter Exchange.\n\nBy default, no truncation will occur. To disable truncation on a Channel that has had it enabled, pass `0` (or `null`) to `AMQPChannel::setBodySizeLimit()`.\n\n## Connection recovery ##\n\nSome RabbitMQ clients using automated connection recovery mechanisms to reconnect\nand recover channels and consumers in case of network errors.\n\nSince this client is using a single-thread, you can set up connection recovery\nusing exception handling mechanism.\n\nExceptions which might be thrown in case of connection errors:\n\n```php\nPhpAmqpLib\\Exception\\AMQPConnectionClosedException\nPhpAmqpLib\\Exception\\AMQPIOException\n\\RuntimeException\n\\ErrorException\n```\n\nSome other exceptions might be thrown, but connection can still be there. It's\nalways a good idea to clean up an old connection when handling an exception\nbefore reconnecting.\n\nFor example, if you want to set up a recovering connection:\n\n```php\n$connection = null;\n$channel = null;\nwhile(true){\n    try {\n        $connection = new AMQPStreamConnection(HOST, PORT, USER, PASS, VHOST);\n        // Your application code goes here.\n        do_something_with_connection($connection);\n    } catch(AMQPRuntimeException $e) {\n        echo $e->getMessage();\n        cleanup_connection($connection);\n        usleep(WAIT_BEFORE_RECONNECT_uS);\n    } catch(\\RuntimeException $e) {\n        cleanup_connection($connection);\n        usleep(WAIT_BEFORE_RECONNECT_uS);\n    } catch(\\ErrorException $e) {\n        cleanup_connection($connection);\n        usleep(WAIT_BEFORE_RECONNECT_uS);\n    }\n}\n\n```\n\nA full example is in `demo/connection_recovery_consume.php`.\n\nThis code will reconnect and retry the application code every time the\nexception occurs. Some exceptions can still be thrown and should not be handled\nas a part of reconnection process, because they might be application errors.\n\nThis approach makes sense mostly for consumer applications, producers will\nrequire some additional application code to avoid publishing the same message\nmultiple times.\n\nThis was a simplest example, in a real-life application you might want to\ncontrol retr count and maybe gracefully degrade wait time to reconnection.\n\nYou can find a more excessive example in [#444](https://github.com/php-amqplib/php-amqplib/issues/444)\n\n\n## UNIX Signals ##\n\nIf you have installed [PCNTL extension](http://www.php.net/manual/en/book.pcntl.php) dispatching of signal will be handled when consumer is not processing message.\n\n```php\n$pcntlHandler = function ($signal) {\n    switch ($signal) {\n        case \\SIGTERM:\n        case \\SIGUSR1:\n        case \\SIGINT:\n            // some stuff before stop consumer e.g. delete lock etc\n            pcntl_signal($signal, SIG_DFL); // restore handler\n            posix_kill(posix_getpid(), $signal); // kill self with signal, see https://www.cons.org/cracauer/sigint.html\n        case \\SIGHUP:\n            // some stuff to restart consumer\n            break;\n        default:\n            // do nothing\n    }\n};\n\npcntl_signal(\\SIGTERM, $pcntlHandler);\npcntl_signal(\\SIGINT,  $pcntlHandler);\npcntl_signal(\\SIGUSR1, $pcntlHandler);\npcntl_signal(\\SIGHUP,  $pcntlHandler);\n```\n\nTo disable this feature just define constant `AMQP_WITHOUT_SIGNALS` as `true`\n\n```php\n<?php\ndefine('AMQP_WITHOUT_SIGNALS', true);\n\n... more code\n\n```\n\n\n## Signal-based Heartbeat ##\n\nIf you have installed [PCNTL extension](http://www.php.net/manual/en/book.pcntl.php) and are using PHP 7.1 or greater,\nyou can register a signal-based heartbeat sender.\n\n```php\n<?php\n\n$sender = new PCNTLHeartbeatSender($connection);\n$sender->register();\n... code\n$sender->unregister();\n\n```\n\n## Debugging ##\n\nIf you want to know what's going on at a protocol level then add the following constant to your code:\n\n```php\n<?php\ndefine('AMQP_DEBUG', true);\n\n... more code\n\n?>\n```\n\n## Benchmarks ##\n\nTo run the publishing/consume benchmark type:\n\n```bash\n$ make benchmark\n```\n\n## Tests and Contributing\n\nPlease see [CONTRIBUTING](CONTRIBUTING.md) for details.\n\n## Using AMQP 0.8 ##\n\nIf you still want to use the old version of the protocol then you can do it by setting the following constant in your configuration code:\n\n```php\ndefine('AMQP_PROTOCOL', '0.8');\n```\n\nThe default value is `'0.9.1'`.\n\n## Providing your own autoloader ##\n\nIf for some reason you don't want to use composer, then you need to have an autoloader in place fo the library classes. People have [reported](https://github.com/videlalvaro/php-amqplib/issues/61#issuecomment-37855050) to use this [autoloader](https://gist.github.com/jwage/221634) with success.\n\n## Original README: ##\n\nBelow is the original README file content. Credits goes to the original authors.\n\nPHP library implementing Advanced Message Queuing Protocol (AMQP).\n\nThe library is port of python code of py-amqplib\nhttp://barryp.org/software/py-amqplib/\n\nIt have been tested with RabbitMQ server.\n\nProject home page: http://code.google.com/p/php-amqplib/\n\nFor discussion, please join the group:\n\nhttp://groups.google.com/group/php-amqplib-devel\n\nFor bug reports, please use bug tracking system at the project page.\n\nPatches are very welcome!\n\nAuthor: Vadim Zaliva <lord@crocodile.org>\n\n[ico-version]: https://img.shields.io/packagist/v/php-amqplib/php-amqplib.svg?style=flat-square\n[ico-license]: https://img.shields.io/badge/license-LGPL_2.1-brightgreen.svg?style=flat-square\n[ico-scrutinizer]: https://img.shields.io/scrutinizer/coverage/g/php-amqplib/php-amqplib.svg?style=flat-square\n[ico-code-quality]: https://img.shields.io/scrutinizer/g/php-amqplib/php-amqplib.svg?style=flat-square\n[ico-downloads]: https://img.shields.io/packagist/dt/php-amqplib/php-amqplib.svg?style=flat-square\n\n[link-packagist]: https://packagist.org/packages/php-amqplib/php-amqplib\n[link-scrutinizer]: https://scrutinizer-ci.com/g/php-amqplib/php-amqplib/code-structure\n[link-code-quality]: https://scrutinizer-ci.com/g/php-amqplib/php-amqplib\n[link-downloads]: https://packagist.org/packages/php-amqplib/php-amqplib\n[link-author]: https://github.com/php-amqplib\n[link-contributors]: ../../contributors\n"
        },
        {
          "name": "appveyor.yml",
          "type": "blob",
          "size": 1.763671875,
          "content": "## https://ci.appveyor.com/project/ramunasd/php-amqplib\nbuild: false\nplatform:\n  - x64\n  - x86\n\nimage: Visual Studio 2017\n\n## Build matrix for lowest and highest possible targets\nenvironment:\n  matrix:\n  - dependencies: current\n    PHP_VERSION: 7.2\n  - dependencies: highest\n    PHP_VERSION: 7.3\n  - dependencies: highest\n    PHP_VERSION: 7.4\n  - dependencies: highest\n    PHP_VERSION: 8.0\n  COMPOSER_CACHE: \"%USERPROFILE%\\\\composer\"\n  RABBITMQ_VERSION: 3.7.17\n  ERLANG_VERSION: 10.4\n\n## Cache CI dependencies\ncache:\n    - '%COMPOSER_CACHE% -> composer.json'\n    - \"%USERPROFILE%\\\\packages\"\n\n## Set up environment variables\ninit:\n    - SET ANSICON=121x90 (121x90)\n\n## Install PHP and composer, and run the appropriate composer command\ninstall:\n    - choco config set cacheLocation \"%USERPROFILE%\\\\packages\"\n    - ps: Invoke-WebRequest \"https://raw.githubusercontent.com/ChadSikorra/ps-install-php/master/Install-PHP.ps1\" -OutFile \"Install-PHP.ps1\"\n    - ps: .\\Install-PHP.ps1 -Version $Env:PHP_VERSION -Highest -Arch $Env:PLATFORM -Extensions mbstring,intl,openssl,curl,sockets\n    - cinst composer -i -y\n    - refreshenv\n    - cd %APPVEYOR_BUILD_FOLDER%\n    - SET COMPOSER_NO_INTERACTION=1\n    - SET COMPOSER_CACHE_DIR=%COMPOSER_CACHE%\n    - IF %dependencies%==lowest composer update --prefer-lowest --no-progress\n    - IF %dependencies%==current composer update --prefer-stable --no-progress\n    - IF %dependencies%==highest composer update --no-progress --prefer-dist\n    - ps: Invoke-WebRequest \"https://raw.githubusercontent.com/php-amqplib/appveyor-rabbitmq/v1.2/install.ps1\" -OutFile \"install-rabbitmq.ps1\"\n    - ps: .\\install-rabbitmq.ps1\n\n## Run the actual test\ntest_script:\n    - cd %APPVEYOR_BUILD_FOLDER%\n    - php tests/phpinfo.php\n    - vendor/bin/phpunit --exclude-group proxy,signals,linux\n"
        },
        {
          "name": "benchmark",
          "type": "tree",
          "content": null
        },
        {
          "name": "codecov.yml",
          "type": "blob",
          "size": 0.08984375,
          "content": "coverage:\n  status:\n    project:\n      default:\n        target: auto\n        threshold: 0.5\n"
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 1.673828125,
          "content": "{\n    \"name\": \"php-amqplib/php-amqplib\",\n    \"replace\": {\n        \"videlalvaro/php-amqplib\": \"self.version\"\n    },\n    \"type\": \"library\",\n    \"description\": \"Formerly videlalvaro/php-amqplib.  This library is a pure PHP implementation of the AMQP protocol. It's been tested against RabbitMQ.\",\n    \"keywords\": [\"rabbitmq\", \"message\", \"queue\"],\n    \"homepage\": \"https://github.com/php-amqplib/php-amqplib/\",\n    \"authors\": [\n        {\n            \"name\": \"Alvaro Videla\",\n            \"role\": \"Original Maintainer\"\n        },\n        {\n            \"name\": \"Raúl Araya\",\n            \"email\": \"nubeiro@gmail.com\",\n            \"role\": \"Maintainer\"\n        },\n        {\n            \"name\": \"Luke Bakken\",\n            \"email\": \"luke@bakken.io\",\n            \"role\": \"Maintainer\"\n        },\n        {\n            \"name\": \"Ramūnas Dronga\",\n            \"email\": \"github@ramuno.lt\",\n            \"role\": \"Maintainer\"\n        }\n    ],\n    \"require\": {\n        \"php\": \"^7.2||^8.0\",\n        \"ext-sockets\": \"*\",\n        \"ext-mbstring\": \"*\",\n        \"phpseclib/phpseclib\": \"^2.0|^3.0\"\n    },\n    \"require-dev\": {\n        \"ext-curl\": \"*\",\n        \"phpunit/phpunit\": \"^7.5|^9.5\",\n        \"squizlabs/php_codesniffer\": \"^3.6\",\n        \"nategood/httpful\": \"^0.2.20\"\n    },\n    \"conflict\": {\n        \"php\": \"7.4.0 - 7.4.1\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"PhpAmqpLib\\\\\": \"PhpAmqpLib/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"PhpAmqpLib\\\\Tests\\\\Functional\\\\\": \"tests/Functional\",\n            \"PhpAmqpLib\\\\Tests\\\\Unit\\\\\": \"tests/Unit\"\n        }\n    },\n    \"license\": \"LGPL-2.1-or-later\",\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"3.0-dev\"\n        }\n    }\n}\n"
        },
        {
          "name": "demo",
          "type": "tree",
          "content": null
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker-compose.yaml",
          "type": "blob",
          "size": 0.6357421875,
          "content": "x-networks: &networks\n  networks:\n    - default\n    - ip6net\n\nservices:\n  php-amqplib-rabbitmq:\n    image:\n      rabbitmq:3-management\n    ports:\n      - \"5671:5671\"\n      - \"5672:5672\"\n      - \"15671:15671\"\n      - \"15672:15672\"\n    volumes:\n        - .:/src\n    environment:\n        - RABBITMQ_CONFIG_FILE=/src/tests/rabbitmq.conf\n    <<: *networks\n\n  php-amqplib-toxiproxy:\n    image:\n      ghcr.io/shopify/toxiproxy:latest\n    ports:\n      - \"8474:8474\"\n      - \"5673:5673\"\n    depends_on:\n      - php-amqplib-rabbitmq\n    <<: *networks\n\nnetworks:\n  default:\n  ip6net:\n    enable_ipv6: true\n    ipam:\n      config:\n        - subnet: 2002:db8::/64\n"
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "commit",
          "content": null
        },
        {
          "name": "phpcs.xml.dist",
          "type": "blob",
          "size": 2.763671875,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ruleset xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:noNamespaceSchemaLocation=\"vendor/squizlabs/php_codesniffer/phpcs.xsd\">\n\n    <arg name=\"basepath\" value=\".\"/>\n    <arg name=\"cache\" value=\".phpcs-cache\"/>\n    <arg name=\"colors\"/>\n    <arg value=\"p\"/>\n    <arg name=\"extensions\" value=\"php\"/>\n    <arg name=\"tab-width\" value=\"4\"/>\n    <arg name=\"report-width\" value=\"120\"/>\n\n    <rule ref=\"PEAR.Functions.ValidDefaultValue\">\n        <!-- We should preserve BC with possible child classes until next major version -->\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/Protocol091.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/Protocol080.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AbstractConnection.php</exclude-pattern>\n    </rule>\n\n    <rule ref=\"PSR1.Methods.CamelCapsMethodName.NotCamelCaps\">\n        <!-- We should preserve BC with possible child classes\n            and public method usage until next major version -->\n        <exclude-pattern>PhpAmqpLib/Wire/AMQPReader.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Wire/IO/SocketIO.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Wire/IO/StreamIO.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Wire/IO/AbstractIO.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Wire/AMQPWriter.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPSocketConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPSSLConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPStreamConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPLazyConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPLazySocketConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AMQPLazySSLConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Connection/AbstractConnection.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Message/AMQPMessage.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/Wait091.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/MethodMap091.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/Wait080.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/Protocol/MethodMap080.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/DebugHelper.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Helper/MiscHelper.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Channel/AMQPChannel.php</exclude-pattern>\n        <exclude-pattern>PhpAmqpLib/Channel/AbstractChannel.php</exclude-pattern>\n    </rule>\n\n    <file>PhpAmqpLib/</file>\n</ruleset>\n"
        },
        {
          "name": "phpunit.xml.dist",
          "type": "blob",
          "size": 1.44921875,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit bootstrap=\"tests/bootstrap.php\"\n         backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         colors=\"true\"\n         verbose=\"true\"\n         convertErrorsToExceptions=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         processIsolation=\"false\"\n         stopOnFailure=\"false\">\n    <testsuites>\n        <testsuite name=\"Unit Tests\">\n            <directory suffix=\"Test.php\" phpVersionOperator=\">=\">tests/Unit</directory>\n        </testsuite>\n        <testsuite name=\"Functional Tests\">\n            <directory suffix=\"Test.php\" phpVersionOperator=\">=\">tests/Functional</directory>\n        </testsuite>\n    </testsuites>\n    <filter>\n        <whitelist>\n            <directory suffix=\".php\">PhpAmqpLib/</directory>\n            <exclude>\n                <directory>PhpAmqpLib/Helper/Protocol</directory>\n                <file>PhpAmqpLib/Wire/Constants080.php</file>\n                <file>PhpAmqpLib/Wire/Constants091.php</file>\n            </exclude>\n        </whitelist>\n    </filter>\n    <php>\n        <ini name=\"error_reporting\" value=\"E_ALL ^ E_USER_DEPRECATED\"/>\n    </php>\n    <logging>\n        <log type=\"junit\" target=\"build/report.junit.xml\"/>\n        <log type=\"coverage-html\" target=\"build/coverage\"/>\n        <log type=\"coverage-text\" target=\"build/coverage.txt\"/>\n        <log type=\"coverage-clover\" target=\"build/logs/clover.xml\"/>\n    </logging>\n</phpunit>\n"
        },
        {
          "name": "spec",
          "type": "tree",
          "content": null
        },
        {
          "name": "test.env",
          "type": "blob",
          "size": 0.099609375,
          "content": "TEST_RABBITMQ_HOST=php-amqplib-rabbitmq\nTOXIPROXY_HOST=php-amqplib-toxiproxy\nTOXIPROXY_AMQP_PORT=5673\n"
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}