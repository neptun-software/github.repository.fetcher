{
  "metadata": {
    "timestamp": 1736711978228,
    "page": 450,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQ1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "maicong/music",
      "stars": 2078,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.1357421875,
          "content": "# http://editorconfig.org\n\nroot = true\n\n[*]\ncharset = utf-8\nindent_style = space\nindent_size = 2\nend_of_line = lf\n\n[*.php]\nindent_size = 4\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.125,
          "content": "node_modules\ncoverage\nlogs/**\n*.lcov\n.idea\n.vscode\n.git/\n.nyc_output\nnpm-debug.log\nyarn-error.log\ndebug.log\nThumbs.db\n.DS_Store\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 3.4609375,
          "content": "# 更新日志\n\n2018.09.26 `v1.6.2`\n\n- 优化酷狗搜索结果\n- 优化默认配置\n\n2018.06.11 `v1.6.1`\n\n- 修复 QQ 音乐音频获取失败问题 (320k 暂时已失效)\n\n2018.05.24 `v1.6.0`\n\n- 增加服务器国内外判断\n- 更新咪咕接口，支持 320k 音频\n- 优化网易云音乐接口\n\n2018.05.23 `v1.5.10`\n\n- 修复 cc、top 域名使用外部资源403问题\n\n2018.03.05 `v1.5.9`\n\n- 修复歌曲切换后相关信息显示错误问题\n\n2018.03.02 `v1.5.8`\n\n- 修复咪咕地址解析失败问题\n\n2018.02.23 `v1.5.7`\n\n- 增加歌词下载功能\n- 修复网易云音乐地址为空问题\n\n2018.02.02 `v1.5.6`\n\n- 增加音乐链接下载功能 (如果浏览器支持的话)\n- 优化音乐信息显示框为不可编辑\n- 优化代码\n\n2018.01.17 `v1.5.5`\n\n- 增加 URL 参数传递\n- 优化代码\n- 移除对 SoundCloud 的支持\n\n2018.01.04 `v1.5.4`\n\n- 更新代码兼容性\n- 更新 meta 信息\n- 修复代理检测\n- 优化百度音乐外链地址\n- 修复一听封面地址403问题\n- 修复荔枝音频地址失效问题\n- 更新说明\n\n2017.12.25 `v1.5.3`\n\n- 增加对 全民K歌 的支持\n- 搜索结果增加 载入更多 功能。\n\n2017.12.09 `v1.5.2`\n\n- 更新帮助里的音乐地址\n- 修复网易云音乐和百度音乐解析问题\n\n2017.12.08 `v1.5.1`\n\n- 优化代码\n- 更新说明\n\n2017.12.08 `v1.5.0`\n\n- 更换播放器\n- 增加歌词显示\n- 更新接口\n\n2017.12.05 `v1.4.5`\n\n- 修复网易云音乐音频数据不对应问题\n\n2017.12.05 `v1.4.4`\n\n- 优化网易云音乐、虾米音乐、百度音乐接口\n\n2017.12.05 `v1.4.3`\n\n- 优化酷狗音乐接口，支持 320k 音频\n\n2017.12.04 `v1.4.2`\n\n- 优化代码\n\n2017.12.04 `v1.4.1`\n\n- 优化 QQ 音乐品质\n\n2017.11.28 `v1.4.0`\n\n- 优化接口和代码\n- 优化 Curl 模块加载方式\n\n2017.09.12 `v1.3.0`\n\n- 更新 QQ 音乐 API 接口\n\n2017.09.08 `v1.2.9`\n\n- 优化模版代码\n- 更新说明\n\n2017.09.06 `v1.2.8`\n\n- 更新 5sing 接口\n- 优化代码\n\n2017.09.04 `v1.2.7`\n\n- 修复低版本提示显示编码问题\n\n2017.08.03 `v1.2.6`\n\n- 更新页脚和注释\n\n2017.08.03 `v1.2.6`\n\n- 增加低版本提示\n- 优化 蜻蜓 FM 的 songid 代码\n\n2017.08.01 `v1.2.5`\n\n- 增加对 喜马拉雅 FM 的支持\n- 修复 url 无法获取问题\n\n2017.07.26 `v1.2.4`\n\n- 优化代码兼容性\n\n2017.07.24 `v1.2.3`\n\n- 优化目录结构和模版\n\n2017.07.20 `v1.2.2`\n\n- 优化回调代码\n\n2017.07.20 `v1.2.1`\n\n- 更新正则匹配规则\n\n2017.07.19 `v1.2.0`\n\n- 修复正则表达式问题\n\n2017.07.19 `v1.1.9`\n\n- 增加对蜻蜓 FM 的支持 (resolve [#6](https://github.com/maicong/music/issues/6))\n\n2017.07.10 `v1.1.8`\n\n- 修复 api 请求接口问题\n\n2017.07.05 `v1.1.7`\n\n- 增加对 荔枝 FM 的支持\n\n2017.06.26 `v1.1.6`\n\n- 修复数组写法兼容性\n\n2017.05.19 `v1.1.5`\n\n- 修复 网易云音乐 音乐链接失效问题\n\n2017.04.28 `v1.1.4`\n\n- 更新 QQ 音乐 API 接口\n- 优化代码\n\n2017.04.21 `v1.1.3`\n\n- 优化代码和播放器视觉\n\n2017.04.20 `v1.1.2`\n\n- 更新音乐地址匹配规则\n\n2017.03.24 `v1.1.1`\n\n- 移除对天天动听的支持\n- 修复无法获取咪咕音乐的问题\n- 更新 SoundCloud 的支持 client_id\n\n2017.03.23 `v1.1.0`\n\n- 更新外链资源地址\n- 优化代码\n\n2015.06.15 `v1.0.4`\n\n- 增加对 SoundCloud 的支持\n- 增加代理支持\n- 修复音乐名称识别问题\n- 优化代码\n\n2015.06.13 `v1.0.3`\n\n- 增加对 天天动听、咪咕 的支持\n\n2015.06.12 `v1.0.2`\n\n- 增加对 5sing 的支持 (开源发布)\n\n2015.06.12 `v1.0.1`\n\n- 代码优化\n- 修复 BUG\n\n2015.06.10 `v1.0.0`\n\n- 音乐搜索器上线\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0498046875,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2015 Maicong\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 2.96875,
          "content": "# 音乐搜索器\n\n[![GitHub release](https://img.shields.io/github/release/maicong/music.svg?style=flat-square)](https://github.com/maicong/music/releases)\n[![PHP version](https://img.shields.io/badge/php-%3E%205.4-orange.svg)](https://github.com/php-src/php)\n[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](#LICENSE)\n\n## 说明\n\n**⚠️ 本项目已暂停维护，存档代码仅供学习交流，不得用于商业用途**\n\n多站合一音乐搜索解决方案，支持搜索试听以下网站音乐：\n\n[网易云音乐](http://music.163.com) [QQ音乐](http://y.qq.com) [酷狗音乐](http://www.kugou.com) [酷我音乐](http://www.kuwo.cn) [虾米音乐](http://www.xiami.com) [百度音乐](http://music.baidu.com) [一听音乐](http://www.1ting.com) [咪咕音乐](http://music.migu.cn) [荔枝FM](http://www.lizhi.fm) [蜻蜓FM](http://www.qingting.fm) [喜马拉雅FM](http://www.ximalaya.com) [全民K歌](http://kg.qq.com) [5sing原创](http://5sing.kugou.com/yc) [5sing翻唱](http://5sing.kugou.com/fc)\n\n数据调用的是各网站的 API 接口，有的接口并不是开放的，随时可能失效，本项目相关代码仅供参考。\n\n## 演示\n\n演示站点暂停维护，2018年11月01日起不再提供演示站点服务。\n\n如果有需要改进的地方，欢迎提交 [Pull Requests](https://github.com/maicong/music/pulls)\n\n## 下载\n\n[📦 下载开发版](https://github.com/maicong/music/archive/master.zip) [📦 获取稳定版](https://github.com/maicong/music/releases)\n\n## 解决方案\n\n**1. 提示数据获取失败**\n\n方案1：\n\n```\n修改 index.php 文件里的 MC_PROXY 为您的代理地址\n将 core/music.php 里需要代理的 URL 'proxy' => false 改为 'proxy' => true\n```\n\n方案2：\n\n```\n在 core/music.php 里查找 setTimeout，将其后面的数值 20 改为更大。\n在 static/js/music.js 里查找 `timeout`，将其数值 30000 改为更大。\n```\n\n方案3：\n\n```\n服务器要支持 curl。\n更换服务器，选择延迟更低的服务器。\n```\n\n**2. 播放器显示 `Error happens ╥﹏╥`**\n\n音乐链接为空\n\n```\n1. 音乐需要付费才能收听\n2. 版权限制，外站无法获取\n3. 服务器 IP 所在地不在源站允许的区域\n4. 音乐下架了，链接被去除\n```\n\n音乐链接不为空\n\n```\n1. 当前 IP 所在地因版权限制而无法播放\n2. 音乐格式浏览器无法正常解析\n```\n\n**3. 国内接口优化**\n\n如果你的网站在国内，打开 [/index.php](index.php)，将 `define('MC_INTERNAL', 0);` 修改为 `define('MC_INTERNAL', 1);`，这样就可以取到咪咕和网易云音乐的 320k 音频了。\n\n## 更新日志\n\n请查看 [CHANGELOG.md](CHANGELOG.md)\n\n## 免责声明\n\n1. 本站音频文件来自各网站接口，本站不会修改任何音频文件\n2. 音频版权来自各网站，本站只提供数据查询服务，不提供任何音频存储和贩卖服务\n3. 本项目代码仅供学习交流，不得用于商业用途，如有侵犯与代码贡献人员无关\n\n## 开源协议\n\nThe MIT License (MIT)\n"
        },
        {
          "name": "core",
          "type": "tree",
          "content": null
        },
        {
          "name": "favicon.ico",
          "type": "blob",
          "size": 9.435546875,
          "content": null
        },
        {
          "name": "index.php",
          "type": "blob",
          "size": 3.3486328125,
          "content": "<?php\n/**\n *\n * 音乐搜索器 - 入口\n *\n * @author  MaiCong <i@maicong.me>\n * @link    https://github.com/maicong/music\n * @since   1.6.2\n *\n */\n\n// 定义核心\ndefine('MC_CORE', true);\n\n// 定义版本\ndefine('MC_VERSION', '1.6.2');\n\n// 核心文件目录\ndefine('MC_CORE_DIR', __DIR__ . '/core');\n\n// 模版文件目录\ndefine('MC_TEMP_DIR', __DIR__ . '/template');\n\n// 调试模式，0为关闭，-1为打开\ndefine('MC_DEBUG', 0);\n\n// Curl 代理地址，例如：define('MC_PROXY', 'someproxy.com:9999')\ndefine('MC_PROXY', false);\n\n// Curl 代理用户名和密码，例如：define('MC_PROXYUSERPWD', 'username:password')\ndefine('MC_PROXYUSERPWD', false);\n\n// 服务器是否在国内\ndefine('MC_INTERNAL', 1);\n\n// PHP 版本判断\nif (version_compare(phpversion(), '5.4', '<')) {\n    header('Content-type:text/html;charset=utf-8');\n    echo sprintf(\n        '<h3>程序运行失败：</h3><blockquote>您的 PHP 版本低于最低要求 5.4，当前版本为 %s</blockquote>',\n        phpversion()\n    );\n    exit;\n}\n\n// 判断是否启用 Curl\nif (!extension_loaded('curl')) {\n    header('Content-type:text/html;charset=utf-8');\n    echo '<h3>程序运行失败：</h3><blockquote>请启用 Curl 模块</blockquote>';\n    exit;\n}\n\n\ninclude_once MC_CORE_DIR . '/music.php';\n\n// 支持的网站\n$music_type_list = array(\n    'netease'    => '网易',\n    'qq'         => 'ＱＱ',\n    'kugou'      => '酷狗',\n    'kuwo'       => '酷我',\n    'xiami'      => '虾米',\n    'baidu'      => '百度',\n    '1ting'      => '一听',\n    'migu'       => '咪咕',\n    'lizhi'      => '荔枝',\n    'qingting'   => '蜻蜓',\n    'ximalaya'   => '喜马拉雅',\n    'kg'         => '全民K歌',\n    '5singyc'    => '5sing原创',\n    '5singfc'    => '5sing翻唱'\n);\n\nif (server('HTTP_X_REQUESTED_WITH') === 'XMLHttpRequest') {\n    $music_input          = trim(post('input'));\n    $music_filter         = post('filter');\n    $music_type           = post('type');\n    $music_page           = (int) post('page');\n    $music_valid_patterns = array(\n        'name' => '/^.+$/i',\n        'id' => '/^[\\w\\/\\|]+$/i',\n        'url' => '/^https?:\\/\\/\\S+$/i'\n    );\n\n    if (!$music_input || !$music_filter || !$music_type) {\n        response('', 403, '(°ー°〃) 传入的数据不对啊');\n    }\n\n    if ($music_filter !== 'url' && !in_array($music_type, array_keys($music_type_list), true)) {\n        response('', 403, '(°ー°〃) 目前还不支持这个网站');\n    }\n\n    if (!preg_match($music_valid_patterns[$music_filter], $music_input)) {\n        response('', 403, '(・-・*) 请检查您的输入是否正确');\n    }\n\n    switch ($music_filter) {\n        case 'name':\n            if (!$music_page) {\n                $music_page = 1;\n            }\n            $music_response = mc_get_song_by_name($music_input, $music_type, $music_page);\n            break;\n        case 'id':\n            $music_response = mc_get_song_by_id($music_input, $music_type);\n            break;\n        case 'url':\n            $music_response = mc_get_song_by_url($music_input);\n            break;\n    }\n\n    if (empty($music_response)) {\n        response('', 404, 'ㄟ( ▔, ▔ )ㄏ 没有找到相关信息');\n    }\n\n    if ($music_response['error']) {\n        response('', $music_response['code'], '(°ー°〃) ' . $music_response['error']);\n    }\n\n    response($music_response, 200, '');\n}\n\ninclude_once(MC_TEMP_DIR . '/index.php');\n"
        },
        {
          "name": "static",
          "type": "tree",
          "content": null
        },
        {
          "name": "template",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}