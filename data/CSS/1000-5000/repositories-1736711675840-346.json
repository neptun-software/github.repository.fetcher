{
  "metadata": {
    "timestamp": 1736711675840,
    "page": 346,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjM1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "telephone/LookingGlass",
      "stars": 1263,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".htaccess",
          "type": "blob",
          "size": 0.3779296875,
          "content": "# Disable directory indexing\nOptions -Indexes\n\n# Deny access to LookingGlass subdirectory\n# Overkill, but used for development (dev folder = /LookingGlass)\nRedirectMatch 404 /LookingGlass/(.*\\.(?:conf|db|sh)|(?:Config|LookingGlass|RateLimit)\\.php)$\n\n# Deny access to hidden files/folders\nRedirectMatch 404 /\\.\n\n# Disable gzip for test files\nSetEnvIf Request_URI \\.test$ no-gzip dont-vary"
        },
        {
          "name": "CHANGELOG.txt",
          "type": "blob",
          "size": 0.90234375,
          "content": "* 1.3.0 (2015-01-25)\n  * Fix RDNS XSS\n  * Fix '&nbsp;' being escaped by temporary patch (SHA a421a8e)\n  * Fix 'REQUEST_URI' XSS (URL is now hard-coded via config)\n  * Catch error when using IPv6 hostname with IPv4 command, and vice versa\n  * Added .htaccess (fixes readable subdirectory)\n  * Added sample Nginx configuration (fixes readable subdirectory)\n  * GNU shred to create test files (fixes gzip and ssl compression)\n  * Update configure.sh (add site url, sudo for centOS, and user:group chown)\n  * Update cerulean and united to Bootstrap v2.3.2\n  * Update readable and spacelab to Bootstrap v2.2.1\n  * Update Jquery to v1.11.2\n  * Update XMLHttpRequest.js\n\n* 1.2.0 (2012-10-01)\n  * Multiple themes\n  * Rate limiting\n\n* 1.1.0 (2012-09-24)\n  * Added --report-wide to MTR\n  * Fix MTR on RHEL OS'\n\n* 1.0.0 (2012-09-23)\n  * Added network commands\n  * Automated install via bash script\n  * Long polling via output buffering"
        },
        {
          "name": "LICENCE.txt",
          "type": "blob",
          "size": 1.0517578125,
          "content": "Copyright (c) 2015 Nick Adams <nick@iamtelephone.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is furnished\nto do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE."
        },
        {
          "name": "LookingGlass",
          "type": "tree",
          "content": null
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.0048828125,
          "content": "# LookingGlass\n\n## Overview\n\nLookingGlass is a user-friendly PHP based looking glass that allows the public (via a web interface) to execute network\ncommands on behalf of your server.\n\nCurrent version: v1.3.0\n\nIt's recommended that everyone updates their existing install!\n\n## Features\n\n* Automated install via bash script\n* IPv4 & IPv6 support\n* Live output via long polling\n* Multiple themes\n* Rate limiting of network commands\n\n## Implemented commands\n\n* host\n* mtr\n* mtr6 (IPv6)\n* ping\n* ping6 (IPv6)\n* traceroute\n* traceroute6 (IPv6)\n\n__IPv6 commands will only work if your server has external IPv6 setup (or tunneled)__\n\n## Requirements\n\n* PHP >= 5.3\n* PHP PDO with SQLite driver (required for rate-limit)\n* SSH/Terminal access (able to install commands/functions if non-existent)\n\n## Install\n\n1. Download [LookingGlass](https://github.com/telephone/LookingGlass/archive/v1.3.0.tar.gz) to the intended\nfolder within your web directory\n2. Extract archive:\n    - Option #1 - Extract archive to the current directory:\n        - `tar -zxvf LookingGlass-1.3.0.tar.gz --strip-components 1`\n    - Option #2 - Extract archive to a directory named `LookingGlass`:\n        - `tar -zxvf LookingGlass-1.3.0.tar.gz --transform 's!^[^/]\\+\\($\\|/\\)!LookingGlass\\1!'`\n3. Navigate to the `LookingGlass` subdirectory in terminal\n4. Run `bash configure.sh`\n5. Follow the instructions and `configure.sh` will take care of the rest\n\n_Forgot a setting? Simply run the `configure.sh` script again_\n\n## Updating\n\n1. Download [LookingGlass](https://github.com/telephone/LookingGlass/archive/v1.3.0.tar.gz) to the folder containing\nyour existing install\n2. Extract archive: `tar -zxvf LookingGlass-1.3.0.tar.gz --overwrite --strip-components 1`\n    - This will overwrite/update existing files\n3. Navigate to the `LookingGlass` subdirectory in terminal\n4. Run `bash configure.sh`\n5. Follow the instructions and `configure.sh` will take care of the rest\n    - Note: Re-enter test files to create random test files from `GNU shred`\n\n_Forgot a setting? Simply run the `configure.sh` script again_\n\n## Apache\n\nAn .htaccess is included which protects the rate-limit database, disables indexes, and disables gzip on test files.\nEnsure `AllowOverride` is on for .htaccess to take effect.\n\nOutput buffering __should__ work by default.\n\nFor an HTTPS setup, please visit:\n- [Mozilla SSL Configuration Generator](https://mozilla.github.io/server-side-tls/ssl-config-generator/)\n\n## Nginx\n\nTo enable output buffering, and disable gzip on test files please refer to the provided configuration:\n\n[HTTP setup](LookingGlass/lookingglass-http.nginx.conf)\n\nThe provided config is setup for LookingGlass to be on a subdomain/domain root.\n\nFor an HTTPS setup please visit:\n- [Best nginx configuration for security](http://tautt.com/best-nginx-configuration-for-security/)\n- [Mozilla SSL Configuration Generator](https://mozilla.github.io/server-side-tls/ssl-config-generator/)\n\n## License\n\nCode is licensed under MIT Public License.\n\n* If you wish to support my efforts, keep the \"Powered by LookingGlass\" link intact.\n"
        },
        {
          "name": "ajax.php",
          "type": "blob",
          "size": 1.443359375,
          "content": "<?php\n/**\n * LookingGlass - User friendly PHP Looking Glass\n *\n * @package     LookingGlass\n * @author      Nick Adams <nick@iamtelephone.com>\n * @copyright   2015 Nick Adams.\n * @link        http://iamtelephone.com\n * @license     http://opensource.org/licenses/MIT MIT License\n * @version     1.3.0\n */\n\n/**\n * NOTE:\n *   Version 1 will continue to allow direct access to ajax.php (no CSRF protection).\n *   I recommend setting a reasonable rate-limit to overcome abuse\n */\n\n// check whether command and host are set\nif (isset($_GET['cmd']) && isset($_GET['host'])) {\n    // define available commands\n    $cmds = array('host', 'mtr', 'mtr6', 'ping', 'ping6', 'traceroute', 'traceroute6');\n    // verify command\n    if (in_array($_GET['cmd'], $cmds)) {\n        // include required scripts\n        $required = array('LookingGlass.php', 'RateLimit.php', 'Config.php');\n        foreach ($required as $val) {\n            require 'LookingGlass/' . $val;\n        }\n\n        // lazy check\n        if (!isset($rateLimit)) {\n            $rateLimit = 0;\n        }\n\n        // instantiate LookingGlass & RateLimit\n        $lg = new Telephone\\LookingGlass();\n        $limit = new Telephone\\LookingGlass\\RateLimit($rateLimit);\n\n        // check IP against database\n        $limit->rateLimit($rateLimit);\n\n        // execute command\n        $output = $lg->$_GET['cmd']($_GET['host']);\n        if ($output) {\n            exit();\n        }\n    }\n}\n// report error\nexit('Unauthorized request');"
        },
        {
          "name": "assets",
          "type": "tree",
          "content": null
        },
        {
          "name": "index.php",
          "type": "blob",
          "size": 5.2783203125,
          "content": "<?php\n// lazy config check/load\nif (file_exists('LookingGlass/Config.php')) {\n  require 'LookingGlass/Config.php';\n  if (!isset($ipv4, $ipv6, $siteName, $siteUrl, $serverLocation, $testFiles, $theme)) {\n    exit('Configuration variable/s missing. Please run configure.sh');\n  }\n} else {\n  exit('Config.php does not exist. Please run configure.sh');\n}\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<!--\n                 __ _\n               .: .' '.\n              /: /     \\_\n             ;: ;  ,-'/`:\\\n             |: | |  |() :|\n             ;: ;  '-.\\_:/\n              \\: \\     /`\n               ':_'._.'\n                  ||\n                 /__\\\n      .---.     {====}\n    .'   _,\"-,__|::  |\n   /    ((O)=;--.::  |\n  ;      `|: |  |::  |\n  |       |: |  |::  |            *****************************\n  |       |: |  |::  |            * LookingGlass by Telephone *\n  |       |: |  |::  |            *  http://iamtelephone.com  *\n  |       |: |  |::  |            *****************************\n  |       |: |  |::  |\n  |      /:'__\\ |::  |\n  |     [______]|::  |\n  |      `----` |::  |__\n  |         _.--|::  |  ''--._\n  ;       .'  __{====}__      '.\n   \\    .'_.-'._ `\"\"` _.'-._    '.\n    '--'/`      `''''`      `\\    '.__\n        '._                _.'\n           `\"\"--......--\"\"`\n-->\n  <head>\n    <meta charset=\"utf-8\">\n    <title><?php echo $siteName; ?> - Looking Glass</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"description\" content=\"LookingGlass - Open source PHP looking glass\">\n    <meta name=\"author\" content=\"Telephone\">\n\n    <!-- IE6-8 support of HTML elements -->\n    <!--[if lt IE 9]>\n      <script src=\"http://html5shim.googlecode.com/svn/trunk/html5.js\"></script>\n    <![endif]-->\n\n    <!-- Styles -->\n    <link href=\"assets/css/<?php echo $theme; ?>.min.css\" rel=\"stylesheet\">\n  </head>\n  <body>\n    <!-- Container -->\n    <div class=\"container\">\n\n      <!-- Header -->\n      <header class=\"header nohighlight\" id=\"overview\">\n        <div class=\"row\">\n          <div class=\"span12\">\n            <h1><a id=\"title\" href=\"<?php echo $siteUrl; ?>\"><?php echo $siteName; ?></a></h1>\n          </div>\n        </div>\n      </header>\n\n      <!-- Network Information -->\n      <section id=\"information\">\n        <div class=\"row\">\n          <div class=\"span12\">\n            <div class=\"well\">\n              <span id=\"legend\">Network information</span><!-- IE/Safari dislike <legend> out of context -->\n              <p>Server Location: <b><?php echo $serverLocation; ?></b></p>\n              <div style=\"margin-left: 10px;\">\n                <p>Test IPv4: <?php echo $ipv4; ?></p>\n                <p><?php if (!empty($ipv6)) { echo 'Test IPv6: ',$ipv6; } ?></p>\n                <p>Test files: <?php\n                  foreach ($testFiles as $val) {\n                    echo \"<a href=\\\"{$val}.test\\\" id=\\\"testfile\\\">{$val}</a> \";\n                  }\n                ?></p>\n              </div>\n              <p>Your IP Address: <b><a href=\"#tests\" id=\"userip\"><?php echo $_SERVER['REMOTE_ADDR']; ?></a></b></p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <!-- Network Tests -->\n      <section id=\"tests\">\n        <div class=\"row\">\n          <div class=\"span12\">\n            <form class=\"well form-inline\" id=\"networktest\" action=\"#results\" method=\"post\">\n              <fieldset>\n                <span id=\"legend\">Network tests</span>\n                <div id=\"hosterror\" class=\"control-group\">\n                  <div class=\"controls\">\n                    <input id=\"host\" name=\"host\" type=\"text\" class=\"input-large\" placeholder=\"Host or IP address\">\n                  </div>\n                </div>\n                <select name=\"cmd\" class=\"input-medium\" style=\"margin-left: 5px;\">\n                  <option value=\"host\">host</option>\n                  <option value=\"mtr\">mtr</option>\n                  <?php if (!empty($ipv6)) { echo '<option value=\"mtr6\">mtr6</option>'; } ?>\n                  <option value=\"ping\" selected=\"selected\">ping</option>\n                  <?php if (!empty($ipv6)) { echo '<option value=\"ping6\">ping6</option>'; } ?>\n                  <option value=\"traceroute\">traceroute</option>\n                  <?php if (!empty($ipv6)) { echo '<option value=\"traceroute6\">traceroute6</option>'; } ?>\n                </select>\n                <button type=\"submit\" id=\"submit\" name=\"submit\" class=\"btn btn-primary\" style=\"margin-left: 10px;\">Run Test</button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n      </section>\n\n      <!-- Results -->\n      <section id=\"results\" style=\"display:none\">\n        <div class=\"row\">\n          <div class=\"span12\">\n            <div class=\"well\">\n              <span id=\"legend\">Results</span>\n              <pre id=\"response\" style=\"display:none\"></pre>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <!-- Footer -->\n      <footer class=\"footer nohighlight\">\n        <p class=\"pull-right\">\n            <a href=\"#\">Back to top</a>\n        </p>\n        <p>Powered by <a href=\"http://github.com/telephone/LookingGlass\">LookingGlass</a></p>\n      </footer>\n\n    </div><!-- /container -->\n\n    <!-- Javascript -->\n    <script src=\"assets/js/jquery-1.11.2.min.js\"></script>\n    <script src=\"assets/js/LookingGlass.min.js\"></script>\n    <script src=\"assets/js/XMLHttpRequest.min.js\"></script>\n  </body>\n</html>"
        }
      ]
    }
  ]
}