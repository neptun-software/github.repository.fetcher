{
  "metadata": {
    "timestamp": 1736711522225,
    "page": 1,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "matt8707/hass-config",
      "stars": 4939,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".HA_VERSION",
          "type": "blob",
          "size": 0.0087890625,
          "content": "2023.12.0"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.01171875,
          "content": "* text=auto\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.197265625,
          "content": ".*\n!/.github\n!.HA_VERSION\nbackups\nblueprints\ndeps\n@eaDir\n\nsecrets_template.yaml\nsecrets.yaml\n\ncustom_components/\nwww/community/\nwww/fonts/\nwww/Plex_Recently_Added/\n\n*.code-workspace\nhome-assistant.log*\n"
        },
        {
          "name": "INSTALL.md",
          "type": "blob",
          "size": 3.025390625,
          "content": "# Installation\n\n* Install and configure [HACS](https://hacs.xyz/)\n\n* Within HACS Frontend add the following repositories\n  * [button-card](https://github.com/custom-cards/button-card)\n  * [card-mod](https://github.com/thomasloven/lovelace-card-mod)\n  * [layout-card](https://github.com/thomasloven/lovelace-layout-card)\n  * [Swipe Card](https://github.com/bramkragten/swipe-card)\n\n* Manually copy over these files from [matt8707/hass-config](https://github.com/matt8707/hass-config)\n  * `ui-lovelace.yaml`\n  * `button_card_templates` folder\n  * `popup` folder\n  * `themes` folder\n  * `sidebar.yaml`\n\n* In `configuration.yaml` add lines [[docs](https://www.home-assistant.io/lovelace/dashboards/)]\n\n  ```yaml\n  frontend:\n    extra_module_url:\n      - /hacsfiles/lovelace-card-mod/card-mod.js\n    themes: !include_dir_merge_named themes\n\n  template: !include sidebar.yaml\n\n  lovelace:\n    mode: yaml\n    resources:\n      - url: /hacsfiles/button-card/button-card.js\n        type: module\n      - url: /hacsfiles/lovelace-layout-card/layout-card.js\n        type: module\n      - url: /hacsfiles/swipe-card/swipe-card.js\n        type: module\n  ```\n\n* [Restart](https://my.home-assistant.io/redirect/server_controls/) Home Assistant\n\n* **Select dark mode and [tablet theme](https://my.home-assistant.io/redirect/profile/) ‚Üê DON'T SKIP THIS STEP!**\n\nThen add your entities, [browser_mod](https://github.com/thomasloven/hass-browser_mod) for popups etc...\n\n\n\n\n## FAQ\n\n**Something isn't working!**</br>\n1. Read the documentation for that card e.g. https://github.com/custom-cards/button-card\n2. Search forum topic e.g. https://community.home-assistant.io/t/lovelace-button-card/65981\n3. This is not a help center for everything Home Assistant\n\n**Why is the text in popups inverted?**</br>\nYou didn't select dark mode in your [user profile](https://my.home-assistant.io/redirect/profile/)\n\n**Why does a broken icon appear when I toggle a button?**</br>\nYou need to add [www/loader.svg](https://github.com/matt8707/hass-config/blob/master/www/loader.svg)\n\n**In the update popup I get an error saying \"marked\"**</br>\nAdd [www/marked.min.js](https://github.com/matt8707/hass-config/blob/master/www/marked.min.js) and under [resources](https://github.com/matt8707/hass-config/blob/39bbedd2f9de03f8558bd909a8392ae4925f4b09/configuration.yaml#L38) add that file as a module\n\n**How do I get the tilt effect?**</br>\nAdd [www/vanilla-tilt.min.js](https://github.com/matt8707/hass-config/blob/master/www/vanilla-tilt.min.js) and under [resources](https://github.com/matt8707/hass-config/blob/39bbedd2f9de03f8558bd909a8392ae4925f4b09/configuration.yaml#L39) add that file as a module\n\n**How do I add fonts?**</br>\nCopy [www/fonts.css](https://github.com/matt8707/hass-config/blob/master/www/fonts.css) and read the comment in that file and under [resources](https://github.com/matt8707/hass-config/blob/39bbedd2f9de03f8558bd909a8392ae4925f4b09/configuration.yaml#L41) add that file as css\n\n**How do I get popups to work?**</br>\nRead the the [browser_mod](https://github.com/thomasloven/hass-browser_mod) documentation\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 1.046875,
          "content": "MIT License\n\nCopyright (c) 2022 Mattias Persson\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 7.72265625,
          "content": "# Home Assistant Configuration\n\n## ‚ö†Ô∏è **Important**\n\nAs of 2024, this repository is **no longer maintained**. While I will not be updating this project, pull requests addressing future breaking changes are welcome. I want to thank everyone for their contributions and support on this project. Seeing it rise as the community's top topic of all time has been truly overwhelming.\n\nI am now shifting my focus to a new project called **[ha-fusion](https://github.com/matt8707/ha-fusion)**. It aims to be a modern, easy-to-use, and performant custom dashboard built from scratch. I hope you'll check it out!\n\n<https://github.com/matt8707/ha-fusion>\n\n---\n\n[Home Assistant Container](https://www.home-assistant.io/installation/#compare-installation-methods) on a Synology DiskStation DS918+ NAS. [Wall mounted](https://www.durable.eu/en_DE/tablet-holder-wall/893323) tablet ([Galaxy Tab A 10.1](https://www.samsung.com/us/mobile/tablets/galaxy-tab-a/galaxy-tab-a-10-1-2019-32gb-black-wi-fi-sm-t510nzkaxar/)) using [Fully Kiosk Browser](https://www.fully-kiosk.com/#get-kiosk-apps). My configuration is exposed to HomeKit with Apple TV acting as a hub for remote connection.\n\nIf you like anything here, be sure to :star2: my repo!\n\n![dashboard](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/dash.png)\n\n## Installation\n\n**How do I install this theme?** <br>\nThere's no install button. I'm sharing my full configuration\n\n**Can you please add this to HACS?** <br>\nNo, because this is not a custom card or integration\n\n**Where do I even start?** <br>\n[INSTALL.md explains how to get started](INSTALL.md) :tada:\n\n## Features\n\n* [Dashboard (Lovelace)](https://www.home-assistant.io/lovelace/) using custom [button-card](https://github.com/custom-cards/button-card) and [layout-card](https://github.com/thomasloven/lovelace-layout-card)\n* Portrait, landscape and mobile view - [responsive_demo.mp4](https://user-images.githubusercontent.com/36163594/120789256-ad825000-c531-11eb-97c2-18904c48efdd.mp4) [[mirror]](https://drive.google.com/file/d/1BgGHFgKF2sfI7cvdbWUeCyU_85D2R5x3/view?usp=sharing)\n* Less cluttered interface by displaying more information in a popup\n* Loading animation for slow responding entities\n* Adding tap audio feedback to the UI for wall-mounted tablet\n* Icon [CSS animations](https://www.w3schools.com/css/css3_animations.asp) based on entity state\n\n![animations](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/animations.gif)\n\n#### Sidebar\n\n* Time and date with greeting based on time of day\n* Entities that are on, using natural language\n* Mailbox counter to show received mail\n* Temperature with emoji based on weather conditions\n* Important calendar information\n* Other conditional alerts\n\n#### Footer\n\nPopups that supports notifications.\n\n![footer](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/footer.png)\n\n#### Popups\n\nLong press a button to show settings and information pertaining to the entity, using [browser_mod](https://github.com/thomasloven/hass-browser_mod). Light popups are automatically created using the `light` button-card template with üçÑ [Mushroom](https://github.com/piitaya/lovelace-mushroom)\n\n<img src=\"https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/group.png\" width=\"35%\">\n\n#### Media\n\nConditionally display media players based on the last active device. If nothing is active for 15 minutes, a poster of the last downloaded movie/episode is shown ([Plex](https://github.com/plexinc/pms-docker), [Radarr](https://github.com/Radarr/Radarr), [Sonarr](https://github.com/Sonarr/Sonarr)). Swipe to reveal non-active media players\n\n![media](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/media.gif)\n\n## Theme\n\n[card-mod](https://github.com/thomasloven/lovelace-card-mod) is used for the styles in `include/themes.yaml` and each popup also contain styles depending on content.\nI've made a tool to help with css element selectors - [https://matt8707.github.io/card-mod-helper/](https://matt8707.github.io/card-mod-helper/)\n\n![media](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/cardmod_helper.png)\n\n## Screenshots\n\n| nas | vacuum |\n| --- | --- |\n| ![nas](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/nas.png) | ![vacuum](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/vacuum.png) |\n\n| misc |\n| --- |\n| ![multi](https://raw.githubusercontent.com/matt8707/hass-config/master/www/img/multi.png) |\n\n## Hardware\n\n| Vendor | Product | Integration | Description |\n|---|---|---|---|\n| Ubiquiti | UniFi Dream Machine | [unifi](https://www.home-assistant.io/integrations/unifi/) | Router, controller, switch and access point |\n| Synology | DiskStation DS918+ | [synology_dsm](https://www.home-assistant.io/integrations/synology_dsm/) | 4x4TB NAS - [matt8707/docker-compose-dsm](https://github.com/matt8707/docker-compose-dsm) |\n| ~~Raspberry~~ | ~~Pi 3 Model B+~~ | ~~[shell_command](https://www.home-assistant.io/integrations/shell_command/)~~ | ~~Bluetooth communication - [matt8707/docker-compose-rpi](https://github.com/matt8707/docker-compose-rpi)~~ |\n| Samsung | Galaxy Tab A SM-T510 | [custom](https://github.com/cgarwood/homeassistant-fullykiosk) | Wall mounted tablet in hallway by the front door |\n| Philips | Hue | [hue](https://www.home-assistant.io/integrations/hue/) | Bridge, 15 bulbs, 3 motion sensors, 2 dimmer switches |\n| Apple | iMac | [shell_command](https://www.home-assistant.io/integrations/shell_command/) | All-in-one desktop computer |\n| ~~SwitchBot~~ | ~~SwitchBot Bot~~ | ~~[custom](https://github.com/fphammerle/switchbot-mqtt)~~ | ~~Bluetooth device that mechanically turns on my computer~~ |\n| Xiaomi | Mi Roborock S50 | [xiaomi_miio](https://www.home-assistant.io/integrations/xiaomi_miio/) | Robot vacuum with lidar -  [xiaomi-cloud-map-extractor](https://github.com/PiotrMachowski/Home-Assistant-custom-components-Xiaomi-Cloud-Map-Extractor) |\n| Broadlink | RM4 Pro, HTS2 cable | [broadlink](https://www.home-assistant.io/integrations/broadlink/) | Infrared transmitter for AC unit with temp/humidity sensor |\n| Gosund | SP112 | [esphome](https://www.home-assistant.io/integrations/esphome/) | 3x tuya wifi plugs with power monitoring, flashed with ESPHome |\n| Belkin | WeMo | [wemo](https://www.home-assistant.io/integrations/wemo/) | 2x wifi plugs and 1x motion sensor |\n| Google | Nest Mini | [cast](https://www.home-assistant.io/integrations/cast/) | Not really used, Google sent me one |\n| Deltaco | SH-P01 | [tuya](https://www.home-assistant.io/integrations/tuya/) | Cheap wifi plug for balcony LED lights |\n| Phoscon | ConBee II | [custom](https://github.com/Koenkk/zigbee2mqtt) | Zigbee USB gateway using zigbee2mqtt |\n| Xiaomi | Aqara MCCGQ11LM | [mqtt](https://www.home-assistant.io/integrations/mqtt/) | 3x zigbee door/window contact sensors |\n| Apple | TV 4K | [apple_tv](https://www.home-assistant.io/integrations/apple_tv/) | 2x set-top-boxes that streams content from Plex |\n| Sony | Bravia KDL-55W905A | [braviatv](https://www.home-assistant.io/integrations/braviatv/) | 2013 mid-range 55\" 1080p 3D TV |\n| Samsung | UE50RU6025KXXC | [custom](https://github.com/ollo69/ha-samsungtv-smart) | 2019 low-range 50\" 4K HDR TV |\n| Sony | PlayStation 5 | [custom](https://github.com/FunkeyFlo/ps5-mqtt) | Game console - State, sleep and wake |\n| Apple | iPhone X | [ios](https://www.home-assistant.io/integrations/ios/) | Home Assistant Companion App for iOS |\n\n*Note: I do not recommend \"Belkin WeMo\" or \"Deltaco SH-P01\"*\n\n---\n\n**GitHub Repository**\n[https://github.com/matt8707/hass-config](https://github.com/matt8707/hass-config)\n\n**Home Assistant Community Topic**\n[https://community.home-assistant.io/t/a-different-take-on-designing-a-lovelace-ui/162594](https://community.home-assistant.io/t/a-different-take-on-designing-a-lovelace-ui/162594)\n"
        },
        {
          "name": "button_card_templates",
          "type": "tree",
          "content": null
        },
        {
          "name": "configuration.yaml",
          "type": "blob",
          "size": 2.525390625,
          "content": "homeassistant:\n  name: Hem\n  latitude: !secret homeassistant_latitude\n  longitude: !secret homeassistant_longitude\n  elevation: !secret homeassistant_elevation\n  unit_system: metric\n  temperature_unit: C\n  time_zone: Europe/Stockholm\n  language: sv\n  country: SE\n  currency: SEK\n  packages: !include_dir_named packages\n  customize_domain:\n    automation:\n      initial_state: true\n  allowlist_external_dirs:\n    - /config\n\ndefault_config:\n\nfrontend:\n  extra_module_url:\n    - /hacsfiles/lovelace-card-mod/card-mod.js\n  themes: !include_dir_merge_named themes\n\ntemplate: !include sidebar.yaml\n\nlovelace:\n  mode: yaml\n  resources:\n    [\n      { url: /hacsfiles/apexcharts-card/apexcharts-card.js,                         type: module },\n      { url: /hacsfiles/bar-card/bar-card.js,                                       type: module },\n      { url: /hacsfiles/button-card/button-card.js,                                 type: module },\n      { url: /hacsfiles/custom-icons/custom-icons.js,                               type: module },\n      { url: /hacsfiles/kiosk-mode/kiosk-mode.js,                                   type: module },\n      { url: /hacsfiles/lovelace-layout-card/layout-card.js,                        type: module },\n      { url: /hacsfiles/lovelace-more-info-card/more-info-card.js,                  type: module },\n      { url: /hacsfiles/lovelace-mushroom/mushroom.js,                              type: module },\n      { url: /hacsfiles/lovelace-slider-entity-row/slider-entity-row.js,            type: module },\n      { url: /hacsfiles/lovelace-xiaomi-vacuum-map-card/xiaomi-vacuum-map-card.js,  type: module },\n      { url: /hacsfiles/swipe-card/swipe-card.js,                                   type: module },\n      { url: /hacsfiles/tabbed-card/tabbed-card.js,                                 type: module },\n\n      { url: '/local/marked.min.js?v=4.3.0',                                        type: module },\n      { url: '/local/vanilla-tilt.min.js?v=1.8.0',                                  type: module },\n      { url: '/local/browser_mod_icon.js?v=0.5',                                    type: module },\n      { url: '/local/fonts.css?v=2.1',                                              type: css }\n    ]\n\nrecorder:\n  db_url: !secret recorder_db_url\n  exclude:\n    entity_globs:\n      - sensor.browser_*\n\nlogger:\n  default: warning\n  logs:\n    homeassistant.components.websocket_api: fatal\n    custom_components.monitor_docker.helpers: error\n    homeassistant.setup: error\n\nsensor:\n  - platform: time_date\n    display_options:\n      - time\n      - date\n"
        },
        {
          "name": "packages",
          "type": "tree",
          "content": null
        },
        {
          "name": "popup",
          "type": "tree",
          "content": null
        },
        {
          "name": "secrets_redacted.yaml",
          "type": "blob",
          "size": 3.509765625,
          "content": "homeassistant_latitude: REDACTED\nhomeassistant_longitude: REDACTED\nhomeassistant_elevation: REDACTED\n\nrecorder_db_url: mysql://homeassistant:REDACTED/homeassistant?charset=utf8mb4\nnas_host: REDACTED\nrestart_container: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED /usr/local/bin/docker restart homeassistant\n\n#plex\nplex_token: REDACTED\nplex_port: REDACTED\n\n#imac\nimac_wol_mac: REDACTED\nimac_wol_host: REDACTED\nimac_off: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"tell app \\\"System Events\\\" to shut down\" 2>/dev/null'\nimac_sleep: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"tell app \\\"System Events\\\" to sleep\" 2>/dev/null'\nimac_restart: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"tell app \\\"System Events\\\" to restart\" 2>/dev/null'\nimac_cpu: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED top -l 1 | awk '/CPU usage/ {print $7}' 2>/dev/null\nimac_mem: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED ps -A -o %mem | awk '{ mem += $1} END {print mem}' 2>/dev/null\nimac_uptime: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED sysctl -n kern.boottime | awk '{print $4}' 2>/dev/null\nimac_ip: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED curl -s icanhazip.com || echo \"unknown\"\n\n#monitors\nmonitors_mute_on: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"set volume with output muted\" 2>/dev/null'\nmonitors_mute_off: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"set volume without output muted\" 2>/dev/null'\nmonitors_mute_state: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"output muted of (get volume settings)\"' || echo false\nmonitors_volume_slider: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"set volume output volume {{ states('input_number.monitors_volume') | int }} --100%\" 2>/dev/null'\nmonitors_update_volume: ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED 'osascript -e \"output volume of (get volume settings)\"' || echo 0\nmonitors_calibrate_monitors: |-\n  ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED osascript <<EOF\n    tell application \"System Events\"\n      click menu bar item 1 of menu bar 2 of application process \"SoundID Reference\"\n      click menu item \"KRK (28 Sep)\" of menu 1 of menu bar 2 of application process \"SoundID Reference\"\n    end tell\n  EOF\nmonitors_calibrate_headphones: |-\n  ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED osascript <<EOF\n    tell application \"System Events\"\n      click menu bar item 1 of menu bar 2 of application process \"SoundID Reference\"\n      click menu item \"Beyerdynamic DT 990 Pro 250 Ohm Wired Av...\" of menu 1 of menu bar 2 of application process \"SoundID Reference\"\n    end tell\n  EOF\n\n#vacuum\nxiaomi_vacuum_host: REDACTED\nxiaomi_vacuum_token: REDACTED\nxiaomi_cloud_username: REDACTED\nxiaomi_cloud_password: REDACTED\n\n#unifi\nunifi_ip: REDACTED\nunifi_port: REDACTED\nunifi_user: REDACTED\nunifi_pass: REDACTED\n\n#github\ngithub_username: REDACTED\ngithub_access_token: REDACTED\n\n#updates\nupdates_kemper: |-\n  ssh -q -o StrictHostKeyChecking=no -i /config/.ssh/id_rsa REDACTED /opt/homebrew/bin/python3 Developer/kemper-version/main.py || \\\n  echo '{\"profiler_latest\": \"\", \"profiler_installed\": \"\", \"rigmanager_latest\": \"\", \"rigmanager_installed\": \"\"}'\n\nlaundry_user: REDACTED\nlaundry_pass: REDACTED\nlaundry_url: REDACTED\n"
        },
        {
          "name": "sidebar.yaml",
          "type": "blob",
          "size": 7.29296875,
          "content": "- sensor:\n    - unique_id: sidebar\n      state: template\n      attributes:\n        time: >\n          {% set hours = now().strftime('%H') %}\n          {% set minutes = now().strftime('%M') %}\n          <span class=\"time\">\n            {{ hours }}<span class=\"time-colon\">:</span>{{ minutes }}\n          </span>\n        date: >\n          <font color='#6a7377'><b>\n          {% if strptime(states('sensor.date'), '%Y-%m-%d').day != None %}\n          {% set days = ['M√•ndag', 'Tisdag', 'Onsdag', 'Torsdag', 'Fredag', 'L√∂rdag', 'S√∂ndag'] %}\n          {% set months = ['Januari', 'Februari', 'Mars', 'April', 'Maj', 'Juni',\n          'Juli', 'Augusti', 'September', 'Oktober', 'November', 'December'] %}\n            {{ days[now().weekday()] }}<br>\n            {{ strptime(states('sensor.date'), '%Y-%m-%d').day }} {{ months[now().month-1] }}\n          {% endif %}\n          </b></font>\n        greet: >\n          <b>\n          {% set time = now().hour %}\n          {% if time <= 1 %} God natt {{'\\U0001F611'}}\n          {% elif time <= 3 %} God natt {{'\\U0001F62A'}}\n          {% elif time <= 5 %} God natt {{'\\U0001F634'}}\n          {% elif time <= 7 %} God morgon {{'\\U0001F4A9'}}\n          {% elif time <= 9 %} God morgon {{'\\u2615\\uFE0F'}}\n          {% elif time <= 10 %} God morgon {{'\\U0001F642'}}\n          {% elif time <= 13 %} God dag {{'\\U0001F60A'}}\n          {% elif time <= 15 %} God dag {{'\\U0001F60E'}}\n          {% elif time <= 17 %} God dag {{'\\U0001F44B\\U0001F3FB'}}\n          {% elif time <= 19 %} God kv√§ll {{'\\U0001F44B\\U0001F3FB'}}\n          {% elif time <= 22 %} God kv√§ll {{'\\U0001F60C'}}\n          {% elif time <= 23 %} God kv√§ll {{'\\U0001F974'}}\n          {% else %} God kv√§ll {{'\\U0001F974'}}\n          {% endif %}\n          </b>\n        active: >\n          <b>\n          {% set lights = [\n            states.light.vardagsrum_tv,\n            states.light.vardagsrum_golv,\n            states.light.vardagsrum_horna,\n            states.light.studio_dator,\n            states.light.badrum_vask_2,\n            states.light.badrum_vask_1,\n            states.light.sovrum_tv,\n            states.light.garderob_lampa,\n            states.light.hall_spot_1,\n            states.light.hall_spot_2,\n            states.light.hall_spot_3,\n            states.light.sovrum_mattias,\n            states.light.sovrum_sanja,\n            states.light.studio_spot_1,\n            states.light.studio_spot_2,\n            states.switch.deltaco_sh_p01_socket\n          ] %}\n\n          {% set devices = [\n            states.switch.imac,\n            states.switch.ps5_635_power,\n            states.switch.gosund_monitors_switch,\n            states.switch.gosund_fan_switch,\n            states.media_player.samsung,\n            states.media_player.sony_bravia_tv,\n            states.climate.ac\n          ] %}\n\n          {% set lights_on = lights | selectattr('state','eq','on') | list %}\n          {% set lights_name = lights | selectattr('state','eq','on') | map(attribute='name') | join(', ') %}\n\n          {% set devices_on = devices | selectattr('state','search','(on|cool|fan_only|playing)') | list %}\n          {% set devices_name = devices_on | map(attribute='name') | join(', ') %}\n\n          {% if (lights_on | length == 0) and (devices_on | length > 0) %}\n            {{ devices_name | regex_replace(',([^,]*)$',' och\\\\1') }} √§r p√•\n\n          {% elif (lights_on | length == 1) and (devices_on | length == 1) %}\n            {{ lights_name }} och {{devices_name }} √§r p√•\n\n          {% elif (lights_on | length == 1) and (devices_on | length > 1) %}\n            {{ lights_name }}, {{ devices_name | regex_replace(',([^,]*)$',' och\\\\1') }} √§r p√•\n\n          {% elif (lights_on | length > 1) and (devices_on | length == 1) %}\n            {{ lights_on | length }} lampor och {{ devices_name }} √§r p√•\n\n          {% elif (lights_on | length > 1) and (devices_on | length > 1) %}\n            {{ lights_on | length }} lampor, {{ devices_name | regex_replace(',([^,]*)$',' och\\\\1') }} √§r p√•\n\n          {% elif (lights_on | length == 1) and (devices_on | length == 0) %}\n            {{ lights_name }} √§r p√•\n\n          {% elif (lights_on | length > 1) and (devices_on | length == 0) %}\n            {{ lights_on | length }} lampor √§r p√•\n\n          {% else %}\n            <font color='#6a7377'>Allt √§r avst√§ngt</font>\n          {% endif %}\n          </b>\n        mailbox: >\n          {% set mailbox = states('sensor.mailbox') %}\n          {% if mailbox | int(default=0) > 0 %}\n            {{ '\\U0001F4EC' }} <font color='#6a7377'><b>Brevl√•da ({{ mailbox }})</b></font>\n          {% endif %}\n        vacuum: >\n          {% set entity_id = 'vacuum.morty' %}\n          {% if is_state(entity_id, 'cleaning') %}\n            <b>Morty dammsuger</b>\n          {% elif is_state(entity_id, 'returning') %}\n            <b>Morty √§r f√§rdig</b>\n          {% endif %}\n        weather: >\n          {% set entity = 'weather.smhi_home' %}\n          {% if not is_state(entity, 'unknown') %}\n            {% set temp = state_attr(entity, 'temperature') | round %}\n            {% set precip = state_attr(entity, 'forecast')[0]['precipitation'] | round %}\n              K√§nns som {{ temp }}¬∞ med {{ 'ingen risk f√∂r regn' if precip == 0\n              else precip | string + 'mm regn \\u2614\\uFE0F' }}\n          {% else %}\n            Kan inte l√§sa in v√§der...\n          {% endif %}\n        laundry: >\n          {% set date_data = state_attr('sensor.laundry_data', 'date') | as_datetime %}\n          {% set time_data = state_attr('sensor.laundry_data', 'time') %}\n          {% set number_data = state_attr('sensor.laundry_data', 'number') %}\n          {% set start_time = date_data.strftime('%Y-%m-%d %H:%M:%S') %}\n          {% if start_time != None %}\n            {% set time = as_timestamp(start_time) | timestamp_custom('%H:%M') %}\n            {% set hours = as_timestamp(start_time) | timestamp_custom('%H') | int(default=0) / 24 %}\n            {% set count = (as_timestamp(start_time) - as_timestamp(now())) / 86400 - hours %}\n            {% set day = strptime(start_time, '%Y-%m-%d %H:%M:%S').strftime('%A')\n            | replace('Monday', 'M√•ndag')\n            | replace('Tuesday', 'Tisdag')\n            | replace('Wednesday', 'Onsdag')\n            | replace('Thursday', 'Torsdag')\n            | replace('Friday', 'Fredag')\n            | replace('Saturday', 'L√∂rdag')\n            | replace('Sunday', 'S√∂ndag') %}\n            {% if count <= 0.0 %}\n              {{'\\U0001F4A6'}} Tv√§tt idag {{ time_data }}, Tv√§ttstuga {{ number_data }}\n            {% elif count <= 1.0 %}\n              Tv√§tt imorgon klockan {{ time }}\n            {% elif count <= 2.0 %}\n              Tv√§tt i √∂vermorgon klockan {{ time }}\n            {% else %}\n              Tv√§tt om {{ (count + hours) | round }} dagar p√• {{ day }} kl {{ time }}\n            {% endif %}\n          {% endif %}\n        battery: >\n          {% set entities = states.sensor \n            | selectattr('entity_id', 'search', 'battery')\n            | rejectattr('entity_id', 'search', 'iphone')\n            | map(attribute = 'entity_id') | list %}\n          {% for sensor in entities if states(sensor) != 'unknown' and states(sensor) !=\n          'unavailable' and states(sensor) != 'None' and states(sensor) | int(default=0) <= 5 %}\n            {% if loop.first %} {{'\\u26A0\\uFE0F'}} Batteri {% else %}, {% endif %}\n            {{ state_attr(sensor, 'friendly_name') }} {{ states(sensor) }}%\n          {% endfor %}\n"
        },
        {
          "name": "themes",
          "type": "tree",
          "content": null
        },
        {
          "name": "ui-lovelace.yaml",
          "type": "blob",
          "size": 18.91796875,
          "content": "button_card_templates:\n  !include_dir_merge_named button_card_templates\n\nviews:\n  - type: custom:grid-layout\n    title: Home\n    layout:\n      #default\n      margin: 0\n      grid-gap: var(--custom-layout-card-padding)\n      grid-template-columns: repeat(4, 1fr) 0\n      grid-template-rows: 0 repeat(2, fit-content(100%)) 0fr\n      grid-template-areas: |\n        \"sidebar  .           .       .       .\"\n        \"sidebar  vardagsrum  studio  sovrum  .\"\n        \"sidebar  media       √∂vrigt  hemma   .\"\n        \"sidebar  footer      footer  footer  .\"\n      mediaquery:\n        #phone\n        \"(max-width: 800px)\":\n          grid-gap: calc(var(--custom-layout-card-padding) * 1.7)\n          grid-template-columns: 0 repeat(2, 1fr) 0\n          grid-template-rows: 0 repeat(5, fit-content(100%)) 0fr\n          grid-template-areas: |\n            \".  .           .        .\"\n            \".  sidebar     sidebar  .\"\n            \".  vardagsrum  sovrum   .\"\n            \".  studio      √∂vrigt   .\"\n            \".  media       hemma    .\"\n            \".  footer      footer   .\"\n            \".  .           .        .\"\n        #portrait\n        \"(max-width: 1200px)\":\n          grid-gap: var(--custom-layout-card-padding)\n          grid-template-columns: repeat(3, 1fr) 0\n          grid-template-rows: 0 repeat(3, fit-content(100%)) 0fr\n          grid-template-areas: |\n            \"sidebar  .           .       .\"\n            \"sidebar  vardagsrum  sovrum  .\"\n            \"sidebar  studio      √∂vrigt  .\"\n            \"sidebar  media       hemma   .\"\n            \"sidebar  footer      footer  .\"\n            \"sidebar  .           .       .\"\n    cards:\n\n      #extra_styles fix, do not remove\n      #also warn if theme is not set\n\n      - type: custom:button-card\n        view_layout:\n          grid-area: 1 / 2 / 2 / 5\n        name: SET THEME TO \"tablet\" IN PROFILE\n        tap_action:\n          action: navigate\n          navigation_path: /profile\n        styles:\n          card:\n            - display: >\n                [[[\n                  return hass.themes.theme === 'tablet'\n                      ? 'none'\n                      : 'initial';\n                ]]]\n          name:\n            - z-index: 1\n            - overflow: visible\n            - color: red\n            - font-weight: bolder\n            - font-size: xxx-large\n            - background: yellow\n\n      #################################################\n      #                                               #\n      #                    SIDEBAR                    #\n      #                                               #\n      #################################################\n\n      - type: vertical-stack\n        view_layout:\n          grid-area: sidebar\n        cards:\n\n          - type: custom:button-card\n            entity: sensor.template_sidebar\n            template: sidebar\n\n          - type: conditional\n            conditions:\n              - entity: input_boolean.laundry_display\n                state: 'on'\n            card:\n              type: custom:button-card\n              entity: timer.laundry\n              double_tap_action:\n                action: call-service\n                service: input_boolean.turn_off\n                service_data:\n                  entity_id: input_boolean.laundry_display\n              template: laundry\n\n      #################################################\n      #                                               #\n      #                  VARDAGSRUM                   #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: Vardagsrum\n        view_layout:\n          grid-area: vardagsrum\n        columns: 2\n        cards:\n\n          - type: custom:button-card\n            entity: light.vardagsrum_group\n            name: Belysning\n            template:\n              - light\n              - icon_hue\n\n          - type: custom:button-card\n            entity: light.vardagsrum_horna\n            name: H√∂rnlampa\n            template:\n              - light\n              - icon_shade\n\n          - type: custom:button-card\n            entity: media_player.sony_bravia_tv\n            name: Tv\n            state_display: >\n              [[[\n                if (variables.state === 'playing') {\n                    return 'P√•';\n                }\n                if (variables.state === true) {\n                    return variables.translate_unknown;\n                }\n              ]]]\n            double_tap_action:\n              !include popup/vardagsrum_tv.yaml\n            template:\n              - base\n              - icon_tv\n              - loader\n\n          - type: custom:button-card\n            entity: switch.deltaco_sh_p01_socket\n            name: Balkong\n            double_tap_action:\n              !include popup/vardagsrum_balkong.yaml\n            template:\n              - base\n              - icon_hue\n              - loader\n\n      #################################################\n      #                                               #\n      #                    STUDIO                     #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: Studio\n        view_layout:\n          grid-area: studio\n        columns: 2\n        cards:\n\n          - type: custom:button-card\n            entity: light.studio_dator\n            name: Datorlampa\n            template:\n              - light\n              - icon_hue\n\n          - type: custom:button-card\n            entity: light.studio_group\n            name: Taklampor\n            template:\n              - light\n              - icon_spot\n\n          - type: custom:button-card\n            entity: switch.imac\n            name: Dator\n            double_tap_action:\n              !include popup/studio_dator.yaml\n            template:\n              - base\n              - icon_imac\n              - loader\n              - lock\n            variables:\n              lock: >\n                [[[\n                  let lock = states['input_boolean.imac_lock'];\n                  return !lock || lock.state;\n                ]]]\n              trigger: >\n                [[[\n                  let trigger = states['script.home_leave'];\n                  return !trigger || trigger;\n                ]]]\n\n          - type: custom:button-card\n            entity: switch.gosund_monitors_switch\n            name: Monitorer\n            double_tap_action:\n              !include popup/studio_monitorer.yaml\n            template:\n              - base\n              - icon_monitors\n              - circle\n              - loader\n            variables:\n              circle_input: >\n                [[[\n                  let volume = states['sensor.monitors_volume'];\n                  if (volume) return parseInt(volume.state);\n                ]]]\n              circle_input_unit: '%'\n\n      #################################################\n      #                                               #\n      #                    SOVRUM                     #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: Sovrum\n        view_layout:\n          grid-area: sovrum\n        columns: 2\n        cards:\n\n          - type: custom:button-card\n            entity: light.sovrum_group\n            name: S√§nglampor\n            template:\n              - light\n              - icon_lamp\n\n          - type: custom:button-card\n            entity: climate.ac\n            name: Klimat\n            double_tap_action:\n              !include popup/sovrum_klimat.yaml\n            template:\n              - base\n              - icon_climate\n              - circle\n            variables:\n              circle_input: >\n                [[[\n                  if (entity) {\n                      return entity.state === 'cool'\n                          ? Math.round(entity.attributes.temperature).toString()\n                          : Math.round(entity.attributes.current_temperature).toString();\n                  }\n                ]]]\n              circle_input_unit: '¬∞C'\n\n          - type: custom:button-card\n            entity: switch.ps5_635_power\n            name: Playstation\n            double_tap_action:\n              !include popup/sovrum_playstation.yaml\n            template:\n              - base\n              - icon_ps5\n              - loader\n\n          - type: custom:button-card\n            entity: media_player.samsung\n            name: \"Tv\\u00B2\"\n            double_tap_action:\n              !include popup/sovrum_tv2.yaml\n            template:\n              - base\n              - icon_tv\n              - loader\n\n      #################################################\n      #                                               #\n      #                     MEDIA                     #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: Media\n        view_layout:\n          grid-area: media\n        columns: 1\n        cards:\n\n          - type: custom:swipe-card\n            parameters:\n              speed: 550\n              spaceBetween: 40\n              threshold: 5\n            cards:\n\n              - type: horizontal-stack\n                cards:\n\n                  - type: conditional\n                    conditions:\n                      - entity: select.conditional_media\n                        state_not: Vardagsrum\n\n                      - entity: select.conditional_media\n                        state_not: Sovrum\n\n                      - entity: select.conditional_media\n                        state_not: Spotify\n\n                      - entity: select.conditional_media\n                        state_not: K√∂k\n                    card:\n                      type: custom:button-card\n                      entity: sensor.plex_recently_added\n                      name: Senast tillagt\n                      tap_action:\n                        action: none\n                      template:\n                        - conditional_media\n                        - icon_plex\n\n                  - type: conditional\n                    conditions:\n                      - entity: select.conditional_media\n                        state: Vardagsrum\n                    card:\n                      type: custom:button-card\n                      entity: media_player.vardagsrum\n                      triggers_update: sensor.youtube_watching\n                      template:\n                        - conditional_media\n                        - icon_apple_tv\n\n                  - type: conditional\n                    conditions:\n                      - entity: select.conditional_media\n                        state: Sovrum\n                    card:\n                      type: custom:button-card\n                      entity: media_player.sovrum\n                      triggers_update: sensor.youtube_watching\n                      template:\n                        - conditional_media\n                        - icon_apple_tv\n\n                  - type: conditional\n                    conditions:\n                      - entity: select.conditional_media\n                        state: Spotify\n                    card:\n                      type: custom:button-card\n                      entity: media_player.spotify\n                      template:\n                        - conditional_media\n                        - icon_spotify\n\n                  - type: conditional\n                    conditions:\n                      - entity: select.conditional_media\n                        state: K√∂k\n                    card:\n                      type: custom:button-card\n                      entity: media_player.kok\n                      template:\n                        - conditional_media\n                        - icon_nest_mini\n\n              - type: grid\n                columns: 2\n                cards:\n\n                  - type: custom:button-card\n                    entity: media_player.vardagsrum\n                    triggers_update: sensor.youtube_watching\n                    name: Vardagsrum\n                    template:\n                      - media\n                      - icon_apple_tv\n\n                  - type: custom:button-card\n                    entity: media_player.sovrum\n                    triggers_update: sensor.youtube_watching\n                    name: Sovrum\n                    template:\n                      - media\n                      - icon_apple_tv\n\n                  - type: custom:button-card\n                    entity: media_player.spotify\n                    name: Spotify\n                    template:\n                      - media\n                      - icon_spotify\n\n                  - type: custom:button-card\n                    entity: media_player.kok\n                    name: Nest Mini\n                    template:\n                      - media\n                      - icon_nest_mini\n\n      #################################################\n      #                                               #\n      #                    √ñVRIGT                     #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: √ñvrigt\n        view_layout:\n          grid-area: √∂vrigt\n        columns: 2\n        cards:\n\n          - type: custom:button-card\n            entity: light.badrum_group\n            name: Badrum\n            template:\n              - light\n              - icon_bathroom\n\n          - type: custom:button-card\n            entity: switch.gosund_fan_switch\n            name: \"Fl√§kt\\u00B2\"\n            double_tap_action:\n              !include popup/studio_flakt.yaml\n            template:\n              - base\n              - icon_fan2\n              - loader\n\n          - type: custom:button-card\n            entity: light.garderob_lampa\n            name: Garderob\n            template:\n              - light\n              - icon_closet\n\n          - type: custom:button-card\n            entity: light.hall_group\n            name: Hall\n            template:\n              - light\n              - icon_spot\n\n      #################################################\n      #                                               #\n      #                     HEMMA                     #\n      #                                               #\n      #################################################\n\n      - type: grid\n        title: Hemma\n        view_layout:\n          grid-area: hemma\n        columns: 2\n        cards:\n\n          - type: custom:button-card\n            entity: person.matte\n            name: Mattias\n            triggers_update:\n              - sensor.matte_last_changed\n            double_tap_action:\n              !include popup/hemma_mattias.yaml\n            variables:\n              retain: sensor.matte_last_changed\n            template:\n              - person\n              - circle\n\n          - type: custom:button-card\n            entity: person.sanja\n            name: Sanja\n            triggers_update:\n              - sensor.sanja_last_changed\n            double_tap_action:\n              !include popup/hemma_sanja.yaml\n            variables:\n              retain: sensor.sanja_last_changed\n            template:\n              - person\n              - circle\n\n          - type: custom:button-card\n            entity: script.home_leave\n            name: St√§ng allt\n            template:\n              - base\n              - icon_away\n\n          - type: custom:button-card\n            entity: script.home_arrive\n            name: Hemma\n            template:\n              - base\n              - icon_home\n\n      #################################################\n      #                                               #\n      #                    FOOTER                     #\n      #                                               #\n      #################################################\n\n      - type: horizontal-stack\n        view_layout:\n          grid-area: footer\n        cards:\n\n          - type: custom:button-card\n            name: >\n              <ha-icon icon=\"mdi:nas\"></ha-icon> NAS\n            tap_action:\n              !include popup/footer_nas.yaml\n            triggers_update:\n              - update.nas_dsm_update\n              - sensor.nas_volume_1_status\n              - binary_sensor.nas_security_status\n              - sensor.disk_use_percent\n            variables:\n              notify: >\n                [[[\n                  let id = this._config.triggers_update;\n                  if (id.every(e => states[e]))\n                      return states[id[0]].state === 'on'\n                          ? 1\n                          : states[id[1]].state === 'background_scrubbing' ||\n                            states[id[2]].state === 'on' ||\n                            parseFloat(states[id[3]].state) >= 85;\n                ]]]\n            template: footer\n\n          - type: custom:button-card\n            entity: sensor.template_updates\n            name: >\n              <ha-icon icon=\"mdi:arrow-up-bold-circle-outline\"></ha-icon> Uppdatera\n            tap_action:\n              !include popup/footer_updates.yaml\n            variables:\n              notify: >\n                [[[\n                  return parseInt(entity?.state);\n                ]]]\n            template: footer\n\n          - type: custom:button-card\n            name: >\n              <ha-icon icon=\"mdi:robot-vacuum-variant\"></ha-icon> St√§da\n            tap_action:\n              !include popup/footer_vacuum.yaml\n            triggers_update:\n              - sensor.date\n            variables:\n              notify: >\n                [[[\n                  let id = states['sensor.morty_last_clean_end'];\n                  if (id) return (Date.now() - Date.parse(id.state)) > 6048e5;\n                ]]]\n            template: footer\n\n          - type: custom:button-card\n            name: >\n              <ha-icon icon=\"mdi:chart-line-variant\"></ha-icon> Historik\n            tap_action:\n              !include popup/footer_history.yaml\n            template: footer\n\n          - type: custom:button-card\n            name: >\n              <ha-icon icon=\"mdi:tablet\"></ha-icon> Platta\n            tap_action:\n              !include popup/footer_tablet.yaml\n            variables:\n              notify: >\n                [[[\n                  let id = states['binary_sensor.galaxy_tab_a_plugged_in'];\n                  if (id) return id.state === 'off';\n                ]]]\n            template: footer\n\n          - type: custom:button-card\n            name: >\n              <ha-icon icon=\"mdi:router-wireless\"></ha-icon> Router\n            tap_action:\n              !include popup/footer_router.yaml\n            triggers_update:\n              - update.unifi_dream_machine\n              - binary_sensor.template_udm_internet\n            variables:\n              notify: >\n                [[[\n                  let id = this._config.triggers_update;\n                  if (id.every(e => states[e]))\n                      return states[id[0]].state === 'on'\n                          ? 1\n                          : states[id[1]].state === 'off';\n                ]]]\n            template: footer\n"
        },
        {
          "name": "www",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}