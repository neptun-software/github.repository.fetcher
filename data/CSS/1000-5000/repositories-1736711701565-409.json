{
  "metadata": {
    "timestamp": 1736711701565,
    "page": 409,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQxMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "wandou911/ssr",
      "stars": 1087,
      "defaultBranch": "master",
      "files": [
        {
          "name": "GoogleBBR.md",
          "type": "blob",
          "size": 1.9970703125,
          "content": "# VPS服务器Google BBR一键安装脚本\n\n### BBR介绍\n\nBBR是Google的一套拥塞控制算法，用在VPS服务器上，可以有效减少拥堵丢包，大幅提高网络连接速度。\n\n目前Linux类系统的最新内核，都已内置BBR。而我们购买VPS服务器时安装的系统，一般都不是最新的内核。怎么解决呢，在CentOS、Debian、Ubuntu等Linux系统上，可以通过升级最新内核的方式，获取BBR。􏰰􏰱􏰲􏰳􏰇􏰴􏰵􏰶􏰋􏰷􏰸 􏰺􏰻􏰦􏰣􏰧􏰨􏱼􏱽􏱾\n\nBBR的安装也很简单，下面我们以Teddysun的一键安装包为例，介绍下BBR安装流程。\n\n### BBR安装要求\n\n系统要求：CentOS+、Debian7+、Ubuntu12+。\n\n另外不支持OpenVZ虚拟的VPS服务器，这也是我们不建议购买OpenVZ服务器的原因之一。\n\n  \n\n\n### BBR一键安装\n􏲓􏱔􏱉􏲔􏲕1.用Putty连接VPS服务器，输入以下命令运行：\n\n```\nwget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh && chmod +x bbr.sh && ./bbr.sh\n```\n小提示：如果运行命令时英文提示找不到wget的错误，那么先运行以下命令安装wget：\n\n```\nyum -y install wget\n```\n\n2.接下来BBR会自动开始安装，安装完成后会英文提示是否重启，输入y回车重启。\n\n3.等待大概一分钟，系统重启成功后，重新用Putty连接VPS服务器，输入以下命令验证BBR是否安装成功：\n\n```\nsysctl net.ipv4.tcp_congestion_control\n```\n\n如果得到如下结果则代表BBR安装成功：\n\n```\nnet.ipv4.tcp_congestion_control = bbr\n```\nVPS推荐：\n\n[Vultr](https://www.vultr.com/?ref=7887711-4F) （vultr在2019年1月的最新活动，针对新用户，直接送50美元！vultr全球15个服务器位置可选，KVM框架，最低2.5美元/月。支持支付宝和paypal付款。）\n\n<a href=\"https://www.vultr.com/?ref=7887711-4F\"><img src=\"https://www.vultr.com/media/banner_2.png\" width=\"468\" height=\"60\"></a>\n\n\n#### 参考文献：\n\n[VPS服务器Google BBR一键安装脚本](https://ssr.tools/199)\n\n"
        },
        {
          "name": "Google原版BBR一键安装.md",
          "type": "blob",
          "size": 1.9970703125,
          "content": "# VPS服务器Google BBR一键安装脚本\n\n### BBR介绍\n\nBBR是Google的一套拥塞控制算法，用在VPS服务器上，可以有效减少拥堵丢包，大幅提高网络连接速度。\n\n目前Linux类系统的最新内核，都已内置BBR。而我们购买VPS服务器时安装的系统，一般都不是最新的内核。怎么解决呢，在CentOS、Debian、Ubuntu等Linux系统上，可以通过升级最新内核的方式，获取BBR。􏰰􏰱􏰲􏰳􏰇􏰴􏰵􏰶􏰋􏰷􏰸 􏰺􏰻􏰦􏰣􏰧􏰨􏱼􏱽􏱾\n\nBBR的安装也很简单，下面我们以Teddysun的一键安装包为例，介绍下BBR安装流程。\n\n### BBR安装要求\n\n系统要求：CentOS+、Debian7+、Ubuntu12+。\n\n另外不支持OpenVZ虚拟的VPS服务器，这也是我们不建议购买OpenVZ服务器的原因之一。\n\n  \n\n\n### BBR一键安装\n􏲓􏱔􏱉􏲔􏲕1.用Putty连接VPS服务器，输入以下命令运行：\n\n```\nwget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh && chmod +x bbr.sh && ./bbr.sh\n```\n小提示：如果运行命令时英文提示找不到wget的错误，那么先运行以下命令安装wget：\n\n```\nyum -y install wget\n```\n\n2.接下来BBR会自动开始安装，安装完成后会英文提示是否重启，输入y回车重启。\n\n3.等待大概一分钟，系统重启成功后，重新用Putty连接VPS服务器，输入以下命令验证BBR是否安装成功：\n\n```\nsysctl net.ipv4.tcp_congestion_control\n```\n\n如果得到如下结果则代表BBR安装成功：\n\n```\nnet.ipv4.tcp_congestion_control = bbr\n```\nVPS推荐：\n\n[Vultr](https://www.vultr.com/?ref=7887711-4F) （vultr在2019年1月的最新活动，针对新用户，直接送50美元！vultr全球15个服务器位置可选，KVM框架，最低2.5美元/月。支持支付宝和paypal付款。）\n\n<a href=\"https://www.vultr.com/?ref=7887711-4F\"><img src=\"https://www.vultr.com/media/banner_2.png\" width=\"468\" height=\"60\"></a>\n\n\n#### 参考文献：\n\n[VPS服务器Google BBR一键安装脚本](https://ssr.tools/199)\n\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0322265625,
          "content": "MIT License\n\nCopyright (c) 2019 \n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 6.490234375,
          "content": "# ssr\n\n### SS/SSR 付费节点 2024-7-1 更新\n\nhttps://cocoduck.live/auth/register?code=11d5195115\n\nhttps://justmysocks3.net/members/aff.php?aff=2765\n\n[https://dddd.xxxxpppp.cyou/auth/register?code=u6hW](https://dddd.xxxxpppp.cyou/auth/register?code=u6hW)\n\n### SSR免费节点\n\n[https://ebvtech.gitbook.io/wiki/](https://ebvtech.gitbook.io/wiki/)\n\nhttps://www.vultr.com/?ref=7236384\n\n美国节点：\n\nssr://YndnLnhpYW9rZWxpLnh5ejo0NDM6YXV0aF9hZXMxMjhfbWQ1OmFlcy0xMjgtY3RyOnRsczEuMl90aWNrZXRfYXV0aDplR2xoYjJ0bGJHa3VhVzVtYncvP29iZnNwYXJhbT0mcHJvdG9wYXJhbT1NVEEzTVRjNlVHNWtPR0Y1JnJlbWFya3M9NXBhdzVhS2VZbmRuNTc2TzVadTkmZ3JvdXA9NXBtdTZZQ2E2SXFDNTRLNSZ1ZHBwb3J0PTAmdW90PTA\n\n### SS/SSR免费账号注册（长期更新）\n\nhttps://xiaokeli.me\n\n### SS/SSR推荐\n\n<a href=\"https://justmysocks3.net/members/aff.php?aff=2765\"><img src=\"https://doubibackup.com/bwgss-h.png\"></a>\n\nhttps://justmysocks3.net/members/aff.php?aff=2765\n\n\n禁止使用账号进行BT下载！BT下载会导致服务器被投诉而被封！为保证每个用户都能获得一定的带宽资源，**单个用户限速300kb/s**。\n\n### 翻墙后推荐网站：\n\ngoogle.com(谷歌；搜索类） youtube.com(油管；视频类）  \n\n\n### ===自己搭建SS/SSR或v2ray服务器教程===\n[ssr一键安装](https://github.com/wandou911/ssr/wiki/SSR一键安装)\n\n[trojan-一键安装](https://github.com/wandou911/ssr/wiki/trojan-一键安装教程) `bash <(curl -sL https://raw.githubusercontent.com/wandou911/ssr/master/trojan-go.sh)`\n\n\n[v2ray一键安装](https://github.com/wandou911/ssr/blob/master/v2ray.md)\n\n\n[自建ss/ssr服务器教程](https://github.com/wandou911/ssr/wiki/自建ss服务器教程) （很详细，适合新手）\n\n[自建v2ray服务器教程](https://github.com/wandou911/ssr/wiki/自建v2ray服务器教程) （很详细，适合新手）\n\n[自建brook服务器教程](https://github.com/wandou911/ssr/wiki/自建brook服务器教程) （新的翻墙方式，速度更快）\n\n\n### ===工具配置教程===\n\n[shadowrocket 配置 trojan教程](https://github.com/wandou911/ssr/blob/master/shadowrocket-trojan.md)\n\n\n### VPS推荐：\n\n* [搬瓦工官方网站](https://bwh81.net/aff.php?aff=19935)\n\n[https://bwh81.net/aff.php?aff=19935](https://bwh81.net/aff.php?aff=19935)\n\n[![搬瓦工](https://ssr.tools/wp-content/uploads/Banwagonhost.png)](https://bwh81.net/aff.php?aff=19935)\n\n* [Vultr官方网站](https://www.vultr.com/?ref=7236384)\n\n[https://www.vultr.com/?ref=7236384](https://www.vultr.com/?ref=7236384)\n\n[Vultr](https://www.vultr.com/?ref=7236384) （vultr在2019年1月的最新活动，针对新用户，直接送50美元！vultr全球15个服务器位置可选，KVM框架，最低2.5美元/月。支持支付宝和paypal付款。）\n\n<a href=\"https://www.vultr.com/?ref=7236384\"><img src=\"https://www.vultr.com/media/banner_2.png\" width=\"468\" height=\"60\"></a>\n\n* [OneVPS官方网站](https://www.onevps.cloud/?aff=3257)\n\n[https://www.onevps.cloud/?aff=3257](https://www.onevps.cloud/?aff=3257)\n\n### ===免费SS/SSR节点列表===（不定期更新账号ip或端口或密码）\n\nhttp://www.xiaokeli.me/register?aff=88\n\n备用地址：\n\nhttps://xiaokeli.me\n\n免费账号用的人多，所以有速度限制，如果想高速翻墙上网、学习翻墙技能，可以自己搭建服务器。[自建ss/ssr服务器教程](https://github.com/wandou911/ssr/wiki/自建ss服务器教程) \n\n免费资源有速度限制，建议每个有条件的人都学习一下自己搭建服务器，学一门技能有备无患。\n\n\n**SSR客户端下载：**\n\n第一次电脑系统使用SSR/SS客户端时，如果提示你需要安装NET Framework 4.0，网上搜一下这个东西，安装一下即可。NET Framework 4.0是SSR/SS的运行库，没有这个SSR/SS客户端无法正常运行。有的电脑系统可能会自带NET Framework 4.0。\n\nWindows SSR客户端 [下载地址](https://github.com/shadowsocksr-backup/shadowsocksr-csharp/releases) [备用下载地址](https://nofile.io/f/6Jm7WJCyOVv/ShadowsocksR-4.7.0-win.7z)\n\nMAC SSR客户端 [下载地址](https://github.com/shadowsocksr-backup/ShadowsocksX-NG/releases) [备用下载地址](https://nofile.io/f/jgMWFwCBonU#ab0d3c3b6ac54482)\n\n[Linux客户端一键安装配置使用脚本(使用方法见注释)](https://github.com/the0demiurge/CharlesScripts/blob/master/charles/bin/ssr) 或者采用图形界面的[linux ssr客户端](https://github.com/erguotou520/electron-ssr/releases)\n\n安卓SSR客户端 [下载地址](https://github.com/shadowsocksr-backup/shadowsocksr-android/releases/download/3.4.0.8/shadowsocksr-release.apk) [备用下载地址](https://nofile.io/f/rvTJoj0h5GC/shadowsocksr-release.apk) \n\n苹果手机SSR客户端：Potatso Lite、Potatso、shadowrocket都可以作为SSR客户端，但这些软件目前已经在国内的app商店下架，可以用美区的apple id账号来下载。但是，如果你配置的SSR账号兼容SS客户端，或者协议选择origin且混淆选择plain，那么你可以选择苹果SS客户端软件（即协议和混淆可以不填）。在大陆app商店里面可以尝试搜索：Wingy、shadowsock，如果软件都被下架了，建议自己注册美区appid来下载(或者淘宝购买“美区苹果id”)，美区商店有很多客户端软件！[苹果手机申请美区apple id方法](https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=%E8%8B%B9%E6%9E%9C%E6%89%8B%E6%9C%BA%E5%A6%82%E4%BD%95%E7%94%B3%E8%AF%B7%E7%BE%8E%E5%8C%BAapple%20id&oq=%25E8%258B%25B9%25E6%259E%259C%25E6%2589%258B%25E6%259C%25BA%25E5%25A6%2582%25E4%25BD%2595%25E6%25B3%25A8%25E5%2586%258C%25E7%25BE%258E%25E5%258C%25BAapple%2520id&rsv_pq=9b0ef06900045aac&rsv_t=a6daySwnrXFrSrC%2BIlgLIeU321j1oRm%2F%2FJgdL3RAdT6GSkIIcOaBGKnfvjE&rqlang=cn&rsv_enter=0&inputT=2113&rsv_sug3=54&rsv_sug2=0&rsv_sug4=2440&rsv_sug=1)\n\n\n\n**其它翻墙方法**\n\n[谷歌镜像](https://gitlab.com/Alvin9999/free/wikis/%E8%B0%B7%E6%AD%8C%E9%95%9C%E5%83%8F) \n\n[windows系统翻墙方法](https://gitlab.com/Alvin9999/free/wikis/home)\n\n[Linux系统翻墙方法](https://gitlab.com/Alvin9999/free/wikis/linux%E7%B3%BB%E7%BB%9F%E7%BF%BB%E5%A2%99%E6%96%B9%E6%B3%95)\n\n[MAC翻墙方法](https://gitlab.com/Alvin9999/free/wikis/%E8%8B%B9%E6%9E%9C%E7%94%B5%E8%84%91mac%E7%BF%BB%E5%A2%99%E8%BD%AF%E4%BB%B6) \n\n[ios翻墙方法](https://gitlab.com/Alvin9999/free/wikis/%E8%8B%B9%E6%9E%9C%E6%89%8B%E6%9C%BA%E7%BF%BB%E5%A2%99%E8%BD%AF%E4%BB%B6)  \n\n[安卓手机翻墙方法](https://gitlab.com/Alvin9999/free/wikis/%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E7%89%88)\n\n[免费节点](https://github.com/selierlin/Share-SSR-V2ray)\n***\n\n有问题可以发邮件至海外邮箱wandou911@gmail.com\n"
        },
        {
          "name": "SSH_Port.md",
          "type": "blob",
          "size": 2.1943359375,
          "content": "## 修改ssh端口的详细步骤（centos7）：\n\n\n### 检查SElinux是否关闭\n\n检查命令，输入看到是disable状态才行，要不需要先关闭掉，防止出现问题\n\n![](https://www.daniao.org/wp-content/uploads/2017/11/cos-ssh-1.jpg)\n\n1 查看当前selinux的状态。\n\n`/usr/sbin/sestatus`\n\n2 将SELINUX=enforcing 修改为 SELINUX=disabled 状态。\n\n```\nvi /etc/selinux/config\n\n#SELINUX=enforcing \nSELINUX=disabled\n\n```\n\n3重启生效。reboot。\n\n`reboot`\n\n\n### 修改端口\n\n1，控制SSH访问端口的文件为 /etc/ssh/sshd_config 。\n\n    因此，编辑SSH配置文件sshd_config：\n\n    #vi /etc/ssh/sshd_config\n\n\n\n2，查找到 Port=22字段，将其前面的注释去掉：\n\n\n    13  #Port 22        //将注释符#去掉 防止配置不好以后不能远程登录，等修改以后的端口能使用以后在注释掉\n\n    14  #AddressFamily any\n\n    15  #ListenAddress 0.0.0.0\n\n    16  #ListenAddress ::\n\n\n\n3，在这行下面再加同样的一行，端口号改为自己准备修改后的端口：\n\n\n   \t13  Port 22\n\n    14  Port 2022        //新增一行，增加修改后的端口号\n\n    15  #AddressFamily any\n\n    16  #ListenAddress 0.0.0.0\n\n    17  #ListenAddress ::\n\n    \n4，修改保存后，重启SSH服务：\n\n    #/etc/init.d/sshd restart     //或者\n\n    #service sshd restart \n\n5，这样，就可以通过2022远程访问linux主机了。\n\n测试修改端口以后的ssh连接，如果成功则将port 22 重新注释掉\n\n## 防火墙相关指令\n\n1、开启关闭防火墙\n\n```\nsystemctl start firewalld\nsystemctl stop firewalld\n```\n\n2、放行端口\n\n```\nfirewall-cmd --permanent --zone=public --add-port=21212/tcp\nfirewall-cmd --reload\n```\n\n\n这里红字部分是我们设置的端口，需要放行。如果有出现\"FirewallD is not running\"问题可以参考\"CentOS7出现的”Failed to start firewalld.service”问题以及端口添加记录\"解决，没有启动导致的。\n\n3、检查端口是否开启\n\n```\nfirewall-cmd --permanent --query-port=21212/tcp\n\n```\n参考链接: [Linux centos 远程SSH默认22端口修改为其他端口](https://blog.51cto.com/chidongting/1761061)\n\n\n参考链接：[CentOS7修改Linux服务器SSH默认端口的方法](https://www.daniao.org/2127.html)\n\n"
        },
        {
          "name": "V2Ray搭建.md",
          "type": "blob",
          "size": 4.3642578125,
          "content": "## 科学上网工具 V2Ray 简介及具体搭建流程\n\n### 关于V2Ray\n\n\nV2Ray是一个功能类似于Shadowsocks的代理工具，可以帮我们实现科学上网，支持 Socks、HTTP、Shadowsocks、VMess 等协议。\n\n\n### V2Ray与Shadowsocks有什么区别\n\n* 1.开发时间晚于Shadowsocks，功能更为强大，目前仍在维护更新。\n* 2.使用自主VMess协议，不易被墙屏蔽。\n* 3.网络传输效率更高，并且具有Mux多路复用功能，并发性能强\n* 4.自带mKCP协议，可免去KCPTUN的安装。\n* 5.可设置流量伪装，类似ShadowSocksR的混淆功能。\n* 6.目前比较小众，被封锁的可能性较小。\n\n### V2Ray的缺点：\n\n1.目前SSR科学上网仍是主流，V2Ray的教程不多，上手稍慢。\n2.因为功能强大，所有需要设置的参数稍多，不过已经有图形化界面了，设置并不复杂。\n\n### 搭建V2Ray所需条件\n\n\n其实搭建V2Ray的条件与SSR所需条件基本一致，并没有太特殊的。\n\nV2Ray也是需要在国外VPS服务器上安装服务端，然后在本地设备上安装V2Ray客户端，设置好后客户端成功连接服务端就可以。\n\n所以V2Ray的搭建流程：\n\n* 购买一台国外VPS服务器。\n* 一键安装V2Ray服务端。\n* 在本地设备安装V2Ray客户端\n* 连接成功。\n\n下面我们分别介绍。\n\n1.V2Ray服务器购买\n\n之前在SSR的相关教程里，我们介绍过，国外VPS服务器并不贵，512M内存的VPS就够用了，平均每月大概十几块钱，相当于一碗面钱，可以用支付宝付美元，与日常网购区别不大。\n\n用哪家的服务器，怎么购买\n\n[搬瓦工](https://bandwagonhost.com/aff.php?aff=19935) 或 [Vultr](https://www.vultr.com/?ref=7887711-4F) \n\n2.在VPS服务器上安装V2Ray\n\n2.1 Putty连接VPS服务器，复制以下命令输入开始安装：\n\n```\nwget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/V2ray.Fun/master/install.sh && bash install.sh\n```\n\n如果运行以上命令时，出现找不到wget的英文提示，则表示系统没有安装wget，根据系统不同，选择以下命令安装：\n\n`yum -y install wget`\n\n2.2 V2Ray安装接近完成时，会提示输入用户名、密码、控制面板端口，可随意设置，如下图：\n\n访问控制面板需要用这个端口，用户名和密码用于登录控制面板。\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_183309.jpg)\n\n2.3 正常来说，V2Ray已经安装成功了，可以尝试在浏览器打开控制面板地址。不过博主在这一步后无法打开V2Ray控制面板，可能是个例，保险起见，再复制以下命令运行：\n\n`pip install Flask-BasicAuth`\n\n2.4 以上命令运行完成后，我们再启动面板。Putty输入以下命令，然后选择1回车。如下图，提示V2ray.fun started，即表示启动成功。\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_183519.jpg)\n\n5.浏览器输入服务器IP+刚才设置的端口，访问V2Ray控制面板，输入用户名和密码登录，登录成功后的界面如下图所示：\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_194039.jpg)\n\n各项连接参数都显示在运行状态菜单。最下面的Vmess链接和二维码图片，都可以用于客户端连接。\n\n### V2Ray控制面板设置\nV2Ray.fun控制面板的修改连接菜单中，我们可以修改各项连接参数，如下图所示\n\n\n* 运行控制：用于控制V2Ray的状态。\n* UUID：用于客户端连接使用，默认是自动生成的，可以点击右侧按钮生成一个新的。\n* 主端口：用于客户端连接的端口，可设置一个新的端口，然后点击右侧的修改端口进行修改。\n* 加密方式：用于客户端连接的参数，不懂的话，默认即可。\n* 传输方式：也是客户端连接参数之一，默认即可。\n* TLS：不建议开启，默认是关闭的，右侧两个按钮是操作按钮，并非表示当前状态。\n* Mux cool：多路复用功能，可提高并发连接性能，默认开启\n\n\n以上各项参数设置完成后，就可以通过V2Ray客户端连接了。点击上图左侧的运行状态菜单，用V2Ray客户端扫描二维码即可连接，或者输入Vmess链接也可以\n\nV2Ray各客户端下载、安装及使用教程可参考：\n\n[V2Ray各平台客户端下载汇总 带图形化界面](https://ssr.tools/314)\n\n参考链接：\n\n[V2Ray一键安装脚本 自带图形化界面控制面板](https://ssr.tools/269)"
        },
        {
          "name": "clash.yaml",
          "type": "blob",
          "size": 53.0439453125,
          "content": "###############################################################\n# 本范例来源为网络\n# YouTube 搜索 波仔分享\n# 原文发布地址 https://www.v2rayssr.com/clashxx.html\n###############################################################\nport: 7890\nsocks-port: 7891\nredir-port: 7892\nallow-lan: false\nmode: Rule\nlog-level: info\nexternal-controller: '0.0.0.0:9090'\nsecret: ''\n\ndns:\n  enable: true\n  nameserver:\n    - 1.2.4.8\n    - 114.114.114.114\n    - 223.5.5.5\n    - tls://dns.rubyfish.cn:853\n  fallback:\n    - tls://1.0.0.1:853\n    - tls://dns.google:853\n\ncfw-bypass:\n    - qq.com\n    - taobao.com\n    - music.163.com\n    - '*.music.126.net'\n    - localhost\n    - 127.*\n    - 10.*\n    - 172.16.*\n    - 172.17.*\n    - 172.18.*\n    - 172.19.*\n    - 172.20.*\n    - 172.21.*\n    - 172.22.*\n    - 172.23.*\n    - 172.24.*\n    - 172.25.*\n    - 172.26.*\n    - 172.27.*\n    - 172.28.*\n    - 172.29.*\n    - 172.30.*\n    - 172.31.*\n    - 192.168.*\n    - <local>\ncfw-latency-timeout: 5000\n\n# 代理节点\nProxy:\n###############################################################配置分割线\n# Shadowsocks 支持的加密方式:\n#   aes-128-gcm aes-192-gcm aes-256-gcm\n#   aes-128-cfb aes-192-cfb aes-256-cfb\n#   aes-128-ctr aes-192-ctr aes-256-ctr\n#   rc4-md5 chacha20-ietf xchacha20\n#   chacha20-ietf-poly1305 xchacha20-ietf-poly1305\n \n# Shadowsocks 配置范本\n# 第一种配置\n#- name: \"你的SS节点1\"               # 软件显示的节点名字\n#  type: ss                                  # 代理类型\n#  server: 1.2.4.8                          # 服务器 IP\n#  port: 443                                 #  端口号\n#  cipher: chacha20-ietf-poly1305   # 加密方法\n#  password: \"password\"                # SS 密码\n#  # udp: true                                #默认不开启\n  \n#第二种配置\n# Shadowsocks + simple-obfs   配置范本\n#- name: \"你的SS节点2\"\n#  type: ss\n#  server: 1.2.4.8\n#  port: 443\n#  cipher: chacha20-ietf-poly1305\n#  password: \"password\"\n#  plugin: obfs\n#  plugin-opts:                 \n#    mode: tls # or http               #  大部分选择 HTTP\n#    # host: bing.com                  #  伪装\n \n# VMess 的配置\n#- name: \"你的V2RAY节点1\" # 软件显示的节点名字\n#  type: vmess # 代理类型\n#  server: v2rayssr.com # 服务器 IP\n#  port: 443 #  端口号\n#  uuid: a3482e88-686a-4a58-8126-99c9df64b7bf\n#  alterId: 64  #额外的 ID\n#  cipher: auto\n#  #上面几行为必选参数\n#  #下面几行为可选参数  根据你的配置情况来\n#  # udp: true    #默认不开启\n#  # tls: true      #TLS 开启\n#  # skip-cert-verify: true     #默认不开启\n#  # network: ws    # 网路类型 WS HTTP 等\n#  # ws-path: /path  # 路径\n#  # ws-headers:     #默认不开启\n#  #  Host: v2ray.com    # HOST\n\n# Trojan 的配置\n#- name: \"trojan\"\n#  type: trojan\n#  server: server\n#  port: 443\n#  password: yourpsk\n#  # udp: true\n#  # sni: example.com # aka server name\n#  # alpn:\n#  #   - h2\n#  #   - http/1.1\n#  # skip-cert-verify: true\n\n\n\n# 配置开始\n- name: \"V2ray节点的主机测试\"\n  type: vmess\n  server: v2rayssr.com\n  port: 443\n  uuid: 5b8098e0-c95d-4c74-b5d5-4a330969c8cb\n  alterId: 2\n  cipher: auto\n  tls: true\n  network: ws\n  ws-path: /v2rayssrcom/\n  Host: v2rayssr.com\n\n- name: \"Trojan节点的主机测试\"\n  type: trojan\n  server: www.v2rayssr.com\n  port: 443\n  password: v2rayssr.com\n\n \n###############################################################配置分割线\n\n# 代理组策略\nProxy Group:\n\n# url-test 通过指定的 URL 测试并选择延迟最低的节点\n- name: \"自动节点选择\"\n  type: url-test\n  proxies:\n    - \"V2ray节点的主机测试\"\n    - \"Trojan节点的主机测试\"\n  url: 'http://www.gstatic.com/generate_204'\n  interval: 300\n\n# 代理节点选择\n- name: \"PROXY\"\n  type: select\n  proxies:\n    - \"自动节点选择\"\n    - \"V2ray节点的主机测试\"\n    - \"Trojan节点的主机测试\"\n# 白名单模式 PROXY，黑名单模式 DIRECT\n- name: \"Final\"\n  type: select\n  proxies:\n    - \"PROXY\"\n    - \"DIRECT\"\n# Apple 服务代理\n- name: \"Apple\"\n  type: select\n  proxies:\n    - \"DIRECT\"\n    - \"PROXY\"\n# 国际流媒体服务\n- name: \"GlobalMedia\"\n  type: select\n  proxies:\n    - \"PROXY\"\n    - \"V2ray节点的主机测试\"\n    - \"Trojan节点的主机测试\"\n# 大陆流媒体面向港澳台限定服务\n- name: \"HKMTMedia\"\n  type: select\n  proxies:\n    - \"DIRECT\"\n    - \"V2ray节点的主机测试\"\n    - \"Trojan节点的主机测试\"\n# 运营商及声名狼藉网站劫持\n- name: \"Hijacking\"\n  type: select\n  proxies:\n    - \"REJECT\"\n    - \"DIRECT\"\n\n# 规则\nRule:\n# Unbreak\n# > Google\n- DOMAIN-SUFFIX,googletraveladservices.com,DIRECT\n- DOMAIN,dl.google.com,DIRECT\n- DOMAIN,mtalk.google.com,DIRECT\n\n# Internet Service Providers Hijacking 运营商劫持\n- DOMAIN-SUFFIX,17gouwuba.com,Hijacking\n- DOMAIN-SUFFIX,186078.com,Hijacking\n- DOMAIN-SUFFIX,189zj.cn,Hijacking\n- DOMAIN-SUFFIX,285680.com,Hijacking\n- DOMAIN-SUFFIX,3721zh.com,Hijacking\n- DOMAIN-SUFFIX,4336wang.cn,Hijacking\n- DOMAIN-SUFFIX,51chumoping.com,Hijacking\n- DOMAIN-SUFFIX,51mld.cn,Hijacking\n- DOMAIN-SUFFIX,51mypc.cn,Hijacking\n- DOMAIN-SUFFIX,58mingri.cn,Hijacking\n- DOMAIN-SUFFIX,58mingtian.cn,Hijacking\n- DOMAIN-SUFFIX,5vl58stm.com,Hijacking\n- DOMAIN-SUFFIX,6d63d3.com,Hijacking\n- DOMAIN-SUFFIX,7gg.cc,Hijacking\n- DOMAIN-SUFFIX,91veg.com,Hijacking\n- DOMAIN-SUFFIX,9s6q.cn,Hijacking\n- DOMAIN-SUFFIX,adsame.com,Hijacking\n- DOMAIN-SUFFIX,aiclk.com,Hijacking\n- DOMAIN-SUFFIX,akuai.top,Hijacking\n- DOMAIN-SUFFIX,atplay.cn,Hijacking\n- DOMAIN-SUFFIX,baiwanchuangyi.com,Hijacking\n- DOMAIN-SUFFIX,beerto.cn,Hijacking\n- DOMAIN-SUFFIX,beilamusi.com,Hijacking\n- DOMAIN-SUFFIX,benshiw.net,Hijacking\n- DOMAIN-SUFFIX,bianxianmao.com,Hijacking\n- DOMAIN-SUFFIX,bryonypie.com,Hijacking\n- DOMAIN-SUFFIX,cishantao.com,Hijacking\n- DOMAIN-SUFFIX,cszlks.com,Hijacking\n- DOMAIN-SUFFIX,cudaojia.com,Hijacking\n- DOMAIN-SUFFIX,dafapromo.com,Hijacking\n- DOMAIN-SUFFIX,daitdai.com,Hijacking\n- DOMAIN-SUFFIX,dsaeerf.com,Hijacking\n- DOMAIN-SUFFIX,dugesheying.com,Hijacking\n- DOMAIN-SUFFIX,dv8c1t.cn,Hijacking\n- DOMAIN-SUFFIX,echatu.com,Hijacking\n- DOMAIN-SUFFIX,erdoscs.com,Hijacking\n- DOMAIN-SUFFIX,fan-yong.com,Hijacking\n- DOMAIN-SUFFIX,feih.com.cn,Hijacking\n- DOMAIN-SUFFIX,fjlqqc.com,Hijacking\n- DOMAIN-SUFFIX,fkku194.com,Hijacking\n- DOMAIN-SUFFIX,freedrive.cn,Hijacking\n- DOMAIN-SUFFIX,gclick.cn,Hijacking\n- DOMAIN-SUFFIX,goufanli100.com,Hijacking\n- DOMAIN-SUFFIX,goupaoerdai.com,Hijacking\n- DOMAIN-SUFFIX,gouwubang.com,Hijacking\n- DOMAIN-SUFFIX,gzxnlk.com,Hijacking\n- DOMAIN-SUFFIX,haoshengtoys.com,Hijacking\n- DOMAIN-SUFFIX,hyunke.com,Hijacking\n- DOMAIN-SUFFIX,ichaosheng.com,Hijacking\n- DOMAIN-SUFFIX,ishop789.com,Hijacking\n- DOMAIN-SUFFIX,jdkic.com,Hijacking\n- DOMAIN-SUFFIX,jiubuhua.com,Hijacking\n- DOMAIN-SUFFIX,jsncke.com,Hijacking\n- DOMAIN-SUFFIX,junkucm.com,Hijacking\n- DOMAIN-SUFFIX,jwg365.cn,Hijacking\n- DOMAIN-SUFFIX,kawo77.com,Hijacking\n- DOMAIN-SUFFIX,kualianyingxiao.cn,Hijacking\n- DOMAIN-SUFFIX,kumihua.com,Hijacking\n- DOMAIN-SUFFIX,ltheanine.cn,Hijacking\n- DOMAIN-SUFFIX,maipinshangmao.com,Hijacking\n- DOMAIN-SUFFIX,minisplat.cn,Hijacking\n- DOMAIN-SUFFIX,mkitgfs.com,Hijacking\n- DOMAIN-SUFFIX,mlnbike.com,Hijacking\n- DOMAIN-SUFFIX,mobjump.com,Hijacking\n- DOMAIN-SUFFIX,nbkbgd.cn,Hijacking\n- DOMAIN-SUFFIX,newapi.com,Hijacking\n- DOMAIN-SUFFIX,pinzhitmall.com,Hijacking\n- DOMAIN-SUFFIX,poppyta.com,Hijacking\n- DOMAIN-SUFFIX,qianchuanghr.com,Hijacking\n- DOMAIN-SUFFIX,qichexin.com,Hijacking\n- DOMAIN-SUFFIX,qinchugudao.com,Hijacking\n- DOMAIN-SUFFIX,quanliyouxi.cn,Hijacking\n- DOMAIN-SUFFIX,qutaobi.com,Hijacking\n- DOMAIN-SUFFIX,ry51w.cn,Hijacking\n- DOMAIN-SUFFIX,sg536.cn,Hijacking\n- DOMAIN-SUFFIX,sifubo.cn,Hijacking\n- DOMAIN-SUFFIX,sifuce.cn,Hijacking\n- DOMAIN-SUFFIX,sifuda.cn,Hijacking\n- DOMAIN-SUFFIX,sifufu.cn,Hijacking\n- DOMAIN-SUFFIX,sifuge.cn,Hijacking\n- DOMAIN-SUFFIX,sifugu.cn,Hijacking\n- DOMAIN-SUFFIX,sifuhe.cn,Hijacking\n- DOMAIN-SUFFIX,sifuhu.cn,Hijacking\n- DOMAIN-SUFFIX,sifuji.cn,Hijacking\n- DOMAIN-SUFFIX,sifuka.cn,Hijacking\n- DOMAIN-SUFFIX,smgru.net,Hijacking\n- DOMAIN-SUFFIX,taoggou.com,Hijacking\n- DOMAIN-SUFFIX,tcxshop.com,Hijacking\n- DOMAIN-SUFFIX,tjqonline.cn,Hijacking\n- DOMAIN-SUFFIX,topitme.com,Hijacking\n- DOMAIN-SUFFIX,tt3sm4.cn,Hijacking\n- DOMAIN-SUFFIX,tuia.cn,Hijacking\n- DOMAIN-SUFFIX,tuipenguin.com,Hijacking\n- DOMAIN-SUFFIX,tuitiger.com,Hijacking\n- DOMAIN-SUFFIX,websd8.com,Hijacking\n- DOMAIN-SUFFIX,wsgblw.com,Hijacking\n- DOMAIN-SUFFIX,wx16999.com,Hijacking\n- DOMAIN-SUFFIX,xchmai.com,Hijacking\n- DOMAIN-SUFFIX,xiaohuau.xyz,Hijacking\n- DOMAIN-SUFFIX,ygyzx.cn,Hijacking\n- DOMAIN-SUFFIX,yinmong.com,Hijacking\n- DOMAIN-SUFFIX,yitaopt.com,Hijacking\n- DOMAIN-SUFFIX,yjqiqi.com,Hijacking\n- DOMAIN-SUFFIX,yukhj.com,Hijacking\n- DOMAIN-SUFFIX,zhaozecheng.cn,Hijacking\n- DOMAIN-SUFFIX,zhenxinet.com,Hijacking\n- DOMAIN-SUFFIX,zlne800.com,Hijacking\n- DOMAIN-SUFFIX,zunmi.cn,Hijacking\n- DOMAIN-SUFFIX,zzd6.com,Hijacking\n- IP-CIDR,39.107.15.115/32,Hijacking,no-resolve\n- IP-CIDR,47.89.59.182/32,Hijacking,no-resolve\n- IP-CIDR,103.49.209.27/32,Hijacking,no-resolve\n- IP-CIDR,123.56.152.96/32,Hijacking,no-resolve\n# > ChinaTelecom\n- IP-CIDR,61.160.200.223/32,Hijacking,no-resolve\n- IP-CIDR,61.160.200.242/32,Hijacking,no-resolve\n- IP-CIDR,61.160.200.252/32,Hijacking,no-resolve\n- IP-CIDR,61.174.50.214/32,Hijacking,no-resolve\n- IP-CIDR,111.175.220.163/32,Hijacking,no-resolve\n- IP-CIDR,111.175.220.164/32,Hijacking,no-resolve\n- IP-CIDR,122.229.8.47/32,Hijacking,no-resolve\n- IP-CIDR,122.229.29.89/32,Hijacking,no-resolve\n- IP-CIDR,124.232.160.178/32,Hijacking,no-resolve\n- IP-CIDR,175.6.223.15/32,Hijacking,no-resolve\n- IP-CIDR,183.59.53.237/32,Hijacking,no-resolve\n- IP-CIDR,218.93.127.37/32,Hijacking,no-resolve\n- IP-CIDR,221.228.17.152/32,Hijacking,no-resolve\n- IP-CIDR,221.231.6.79/32,Hijacking,no-resolve\n- IP-CIDR,222.186.61.91/32,Hijacking,no-resolve\n- IP-CIDR,222.186.61.95/32,Hijacking,no-resolve\n- IP-CIDR,222.186.61.96/32,Hijacking,no-resolve\n- IP-CIDR,222.186.61.97/32,Hijacking,no-resolve\n# > ChinaUnicom\n- IP-CIDR,106.75.231.48/32,Hijacking,no-resolve\n- IP-CIDR,119.4.249.166/32,Hijacking,no-resolve\n- IP-CIDR,220.196.52.141/32,Hijacking,no-resolve\n- IP-CIDR,221.6.4.148/32,Hijacking,no-resolve\n# > ChinaMobile\n- IP-CIDR,114.247.28.96/32,Hijacking,no-resolve\n- IP-CIDR,221.179.131.72/32,Hijacking,no-resolve\n- IP-CIDR,221.179.140.145/32,Hijacking,no-resolve\n# > Dr.Peng\n# - IP-CIDR,10.72.25.0/24,Hijacking,no-resolve\n- IP-CIDR,115.182.16.79/32,Hijacking,no-resolve\n- IP-CIDR,118.144.88.126/32,Hijacking,no-resolve\n- IP-CIDR,118.144.88.215/32,Hijacking,no-resolve\n- IP-CIDR,118.144.88.216/32,Hijacking,no-resolve\n- IP-CIDR,120.76.189.132/32,Hijacking,no-resolve\n- IP-CIDR,124.14.21.147/32,Hijacking,no-resolve\n- IP-CIDR,124.14.21.151/32,Hijacking,no-resolve\n- IP-CIDR,180.166.52.24/32,Hijacking,no-resolve\n- IP-CIDR,211.161.101.106/32,Hijacking,no-resolve\n- IP-CIDR,220.115.251.25/32,Hijacking,no-resolve\n- IP-CIDR,222.73.156.235/32,Hijacking,no-resolve\n\n# Malware 恶意网站\n# > 快压\n# https://zhuanlan.zhihu.com/p/39534279\n- DOMAIN-SUFFIX,kuaizip.com,Hijacking\n# > MacKeeper\n# https://www.lizhi.io/blog/40002904\n- DOMAIN-SUFFIX,mackeeper.com,Hijacking\n- DOMAIN-SUFFIX,zryydi.com,Hijacking\n# > Adobe Flash China Special Edition\n# https://www.zhihu.com/question/281163698/answer/441388130\n- DOMAIN-SUFFIX,flash.cn,Hijacking\n- DOMAIN,geo2.adobe.com,Hijacking\n# > C&J Marketing 思杰马克丁软件\n# https://www.zhihu.com/question/46746200\n- DOMAIN-SUFFIX,4009997658.com,Hijacking\n- DOMAIN-SUFFIX,abbyychina.com,Hijacking\n- DOMAIN-SUFFIX,bartender.cc,Hijacking\n- DOMAIN-SUFFIX,betterzip.net,Hijacking\n- DOMAIN-SUFFIX,betterzipcn.com,Hijacking\n- DOMAIN-SUFFIX,beyondcompare.cc,Hijacking\n- DOMAIN-SUFFIX,bingdianhuanyuan.cn,Hijacking\n- DOMAIN-SUFFIX,chemdraw.com.cn,Hijacking\n- DOMAIN-SUFFIX,cjmakeding.com,Hijacking\n- DOMAIN-SUFFIX,cjmkt.com,Hijacking\n- DOMAIN-SUFFIX,codesoftchina.com,Hijacking\n- DOMAIN-SUFFIX,coreldrawchina.com,Hijacking\n- DOMAIN-SUFFIX,crossoverchina.com,Hijacking\n- DOMAIN-SUFFIX,dongmansoft.com,Hijacking\n- DOMAIN-SUFFIX,earmasterchina.cn,Hijacking\n- DOMAIN-SUFFIX,easyrecoverychina.com,Hijacking\n- DOMAIN-SUFFIX,ediuschina.com,Hijacking\n- DOMAIN-SUFFIX,flstudiochina.com,Hijacking\n- DOMAIN-SUFFIX,formysql.com,Hijacking\n- DOMAIN-SUFFIX,guitarpro.cc,Hijacking\n- DOMAIN-SUFFIX,huishenghuiying.com.cn,Hijacking\n- DOMAIN-SUFFIX,hypersnap.net,Hijacking\n- DOMAIN-SUFFIX,iconworkshop.cn,Hijacking\n- DOMAIN-SUFFIX,imindmap.cc,Hijacking\n- DOMAIN-SUFFIX,jihehuaban.com.cn,Hijacking\n- DOMAIN-SUFFIX,keyshot.cc,Hijacking\n- DOMAIN-SUFFIX,kingdeecn.cn,Hijacking\n- DOMAIN-SUFFIX,logoshejishi.com,Hijacking\n- DOMAIN-SUFFIX,luping.net.cn,Hijacking\n- DOMAIN-SUFFIX,mairuan.cn,Hijacking\n- DOMAIN-SUFFIX,mairuan.com,Hijacking\n- DOMAIN-SUFFIX,mairuan.com.cn,Hijacking\n- DOMAIN-SUFFIX,mairuan.net,Hijacking\n- DOMAIN-SUFFIX,mairuanwang.com,Hijacking\n- DOMAIN-SUFFIX,makeding.com,Hijacking\n- DOMAIN-SUFFIX,mathtype.cn,Hijacking\n- DOMAIN-SUFFIX,mindmanager.cc,Hijacking\n- DOMAIN-SUFFIX,mindmanager.cn,Hijacking\n- DOMAIN-SUFFIX,mindmapper.cc,Hijacking\n- DOMAIN-SUFFIX,mycleanmymac.com,Hijacking\n- DOMAIN-SUFFIX,nicelabel.cc,Hijacking\n- DOMAIN-SUFFIX,ntfsformac.cc,Hijacking\n- DOMAIN-SUFFIX,ntfsformac.cn,Hijacking\n- DOMAIN-SUFFIX,overturechina.com,Hijacking\n- DOMAIN-SUFFIX,passwordrecovery.cn,Hijacking\n- DOMAIN-SUFFIX,pdfexpert.cc,Hijacking\n- DOMAIN-SUFFIX,photozoomchina.com,Hijacking\n- DOMAIN-SUFFIX,shankejingling.com,Hijacking\n- DOMAIN-SUFFIX,ultraiso.net,Hijacking\n- DOMAIN-SUFFIX,vegaschina.cn,Hijacking\n- DOMAIN-SUFFIX,xmindchina.net,Hijacking\n- DOMAIN-SUFFIX,xshellcn.com,Hijacking\n- DOMAIN-SUFFIX,yihuifu.cn,Hijacking\n- DOMAIN-SUFFIX,yuanchengxiezuo.com,Hijacking\n- DOMAIN-SUFFIX,zbrushcn.com,Hijacking\n- DOMAIN-SUFFIX,zhzzx.com,Hijacking\n\n# Global Area Network\n# (GlobalMedia)\n# (Music)\n# > Deezer\n# USER-AGENT,Deezer*,GlobalMedia\n- DOMAIN-SUFFIX,deezer.com,GlobalMedia\n- DOMAIN-SUFFIX,dzcdn.net,GlobalMedia\n# > KKBOX\n- DOMAIN-SUFFIX,kkbox.com,GlobalMedia\n- DOMAIN-SUFFIX,kkbox.com.tw,GlobalMedia\n- DOMAIN-SUFFIX,kfs.io,GlobalMedia\n# > JOOX\n# USER-AGENT,WeMusic*,GlobalMedia\n# USER-AGENT,JOOX*,GlobalMedia\n- DOMAIN-SUFFIX,joox.com,GlobalMedia\n# > Pandora\n# USER-AGENT,Pandora*,GlobalMedia\n- DOMAIN-SUFFIX,pandora.com,GlobalMedia\n# > SoundCloud\n# USER-AGENT,SoundCloud*,GlobalMedia\n- DOMAIN-SUFFIX,p-cdn.us,GlobalMedia\n- DOMAIN-SUFFIX,sndcdn.com,GlobalMedia\n- DOMAIN-SUFFIX,soundcloud.com,GlobalMedia\n# > Spotify\n# USER-AGENT,Spotify*,GlobalMedia\n- DOMAIN-SUFFIX,pscdn.co,GlobalMedia\n- DOMAIN-SUFFIX,scdn.co,GlobalMedia\n- DOMAIN-SUFFIX,spotify.com,GlobalMedia\n- DOMAIN-SUFFIX,spoti.fi,GlobalMedia\n- DOMAIN-KEYWORD,spotify.com,GlobalMedia\n- DOMAIN-KEYWORD,-spotify-com,GlobalMedia\n# > TIDAL\n# USER-AGENT,TIDAL*,GlobalMedia\n- DOMAIN-SUFFIX,tidal.com,GlobalMedia\n# > YouTubeMusic\n# USER-AGENT,com.google.ios.youtubemusic*,GlobalMedia\n# USER-AGENT,YouTubeMusic*,GlobalMedia\n# (Video)\n# > All4\n# USER-AGENT,All4*,GlobalMedia\n- DOMAIN-SUFFIX,c4assets.com,GlobalMedia\n- DOMAIN-SUFFIX,channel4.com,GlobalMedia\n# > AbemaTV\n# USER-AGENT,AbemaTV*,GlobalMedia\n- DOMAIN-SUFFIX,abema.io,GlobalMedia\n- DOMAIN-SUFFIX,ameba.jp,GlobalMedia\n- DOMAIN-SUFFIX,abema.tv,GlobalMedia\n- DOMAIN-SUFFIX,hayabusa.io,GlobalMedia\n- DOMAIN,abematv.akamaized.net,GlobalMedia\n- DOMAIN,ds-linear-abematv.akamaized.net,GlobalMedia\n- DOMAIN,ds-vod-abematv.akamaized.net,GlobalMedia\n- DOMAIN,linear-abematv.akamaized.net,GlobalMedia\n# > Amazon Prime Video\n# USER-AGENT,InstantVideo.US*,GlobalMedia\n# USER-AGENT,Prime%20Video*,GlobalMedia\n- DOMAIN-SUFFIX,aiv-cdn.net,GlobalMedia\n- DOMAIN-SUFFIX,aiv-delivery.net,GlobalMedia\n- DOMAIN-SUFFIX,amazonvideo.com,GlobalMedia\n- DOMAIN-SUFFIX,primevideo.com,GlobalMedia\n- DOMAIN,avodmp4s3ww-a.akamaihd.net,GlobalMedia\n- DOMAIN,d25xi40x97liuc.cloudfront.net,GlobalMedia\n- DOMAIN,dmqdd6hw24ucf.cloudfront.net,GlobalMedia\n- DOMAIN,d22qjgkvxw22r6.cloudfront.net,GlobalMedia\n- DOMAIN,d1v5ir2lpwr8os.cloudfront.net,GlobalMedia\n- DOMAIN-KEYWORD,avoddashs,GlobalMedia\n# > Bahamut\n# USER-AGENT,Anime*,GlobalMedia\n- DOMAIN-SUFFIX,bahamut.com.tw,GlobalMedia\n- DOMAIN-SUFFIX,gamer.com.tw,GlobalMedia\n- DOMAIN,gamer-cds.cdn.hinet.net,GlobalMedia\n- DOMAIN,gamer2-cds.cdn.hinet.net,GlobalMedia\n# > BBC iPlayer\n# USER-AGENT,BBCiPlayer*,GlobalMedia\n- DOMAIN-SUFFIX,bbc.co.uk,GlobalMedia\n- DOMAIN-SUFFIX,bbci.co.uk,GlobalMedia\n- DOMAIN-KEYWORD,bbcfmt,GlobalMedia\n- DOMAIN-KEYWORD,uk-live,GlobalMedia\n# > DAZN\n# USER-AGENT,DAZN*,GlobalMedia\n- DOMAIN-SUFFIX,dazn.com,GlobalMedia\n- DOMAIN-SUFFIX,dazn-api.com,GlobalMedia\n- DOMAIN,d151l6v8er5bdm.cloudfront.net,GlobalMedia\n- DOMAIN-KEYWORD,voddazn,GlobalMedia\n# > Disney+\n# USER-AGENT,Disney+*,GlobalMedia\n- DOMAIN-SUFFIX,bamgrid.com,GlobalMedia\n- DOMAIN-SUFFIX,disney-plus.net,GlobalMedia\n- DOMAIN-SUFFIX,disneyplus.com,GlobalMedia\n- DOMAIN-SUFFIX,dssott.com,GlobalMedia\n- DOMAIN,cdn.registerdisney.go.com,GlobalMedia\n# > encoreTVB\n# USER-AGENT,encoreTVB*,GlobalMedia\n- DOMAIN-SUFFIX,encoretvb.com,GlobalMedia\n- DOMAIN,edge.api.brightcove.com,GlobalMedia\n- DOMAIN,bcbolt446c5271-a.akamaihd.net,GlobalMedia\n# > FOX NOW\n# USER-AGENT,FOX%20NOW*,GlobalMedia\n- DOMAIN-SUFFIX,fox.com,GlobalMedia\n- DOMAIN-SUFFIX,foxdcg.com,GlobalMedia\n- DOMAIN-SUFFIX,theplatform.com,GlobalMedia\n- DOMAIN-SUFFIX,uplynk.com,GlobalMedia\n# > HBO NOW\n# USER-AGENT,HBO%20NOW*,GlobalMedia\n- DOMAIN-SUFFIX,hbo.com,GlobalMedia\n- DOMAIN-SUFFIX,hbogo.com,GlobalMedia\n- DOMAIN-SUFFIX,hbonow.com,GlobalMedia\n# > HBO GO HKG\n# USER-AGENT,HBO%20GO%20PROD%20HKG*,GlobalMedia\n- DOMAIN-SUFFIX,hbogoasia.com,GlobalMedia\n- DOMAIN-SUFFIX,hbogoasia.hk,GlobalMedia\n- DOMAIN,bcbolthboa-a.akamaihd.net,GlobalMedia\n- DOMAIN,players.brightcove.net,GlobalMedia\n- DOMAIN,s3-ap-southeast-1.amazonaws.com,GlobalMedia\n- DOMAIN,dai3fd1oh325y.cloudfront.net,GlobalMedia\n- DOMAIN,44wilhpljf.execute-api.ap-southeast-1.amazonaws.com,GlobalMedia\n- DOMAIN,hboasia1-i.akamaihd.net,GlobalMedia\n- DOMAIN,hboasia2-i.akamaihd.net,GlobalMedia\n- DOMAIN,hboasia3-i.akamaihd.net,GlobalMedia\n- DOMAIN,hboasia4-i.akamaihd.net,GlobalMedia\n- DOMAIN,hboasia5-i.akamaihd.net,GlobalMedia\n- DOMAIN,cf-images.ap-southeast-1.prod.boltdns.net,GlobalMedia\n# > 华文电视\n# USER-AGENT,HWTVMobile*,GlobalMedia\n- DOMAIN-SUFFIX,5itv.tv,GlobalMedia\n- DOMAIN-SUFFIX,ocnttv.com,GlobalMedia\n# > Hulu\n- DOMAIN-SUFFIX,hulu.com,GlobalMedia\n- DOMAIN-SUFFIX,huluim.com,GlobalMedia\n- DOMAIN-SUFFIX,hulustream.com,GlobalMedia\n# > Hulu(フールー)\n- DOMAIN-SUFFIX,happyon.jp,GlobalMedia\n- DOMAIN-SUFFIX,hulu.jp,GlobalMedia\n# > ITV\n# USER-AGENT,ITV_Player*,GlobalMedia\n- DOMAIN-SUFFIX,itv.com,GlobalMedia\n- DOMAIN-SUFFIX,itvstatic.com,GlobalMedia\n- DOMAIN,itvpnpmobile-a.akamaihd.net,GlobalMedia\n# > KKTV\n# USER-AGENT,KKTV*,GlobalMedia\n# USER-AGENT,com.kktv.ios.kktv*,GlobalMedia\n- DOMAIN-SUFFIX,kktv.com.tw,GlobalMedia\n- DOMAIN-SUFFIX,kktv.me,GlobalMedia\n- DOMAIN,kktv-theater.kk.stream,GlobalMedia\n# > Line TV\n# USER-AGENT,LINE%20TV*,GlobalMedia\n- DOMAIN-SUFFIX,linetv.tw,GlobalMedia\n- DOMAIN,d3c7rimkq79yfu.cloudfront.net,GlobalMedia\n# > LiTV\n- DOMAIN-SUFFIX,litv.tv,GlobalMedia\n- DOMAIN,litvfreemobile-hichannel.cdn.hinet.net,GlobalMedia\n# > My5\n# USER-AGENT,My5*,GlobalMedia\n- DOMAIN-SUFFIX,channel5.com,GlobalMedia\n- DOMAIN-SUFFIX,my5.tv,GlobalMedia\n- DOMAIN,d349g9zuie06uo.cloudfront.net,GlobalMedia\n# > myTV SUPER\n# USER-AGENT,mytv*,GlobalMedia\n- DOMAIN-SUFFIX,mytvsuper.com,GlobalMedia\n- DOMAIN-SUFFIX,tvb.com,GlobalMedia\n# > Netflix\n# USER-AGENT,Argo*,GlobalMedia\n- DOMAIN-SUFFIX,netflix.com,GlobalMedia\n- DOMAIN-SUFFIX,netflix.net,GlobalMedia\n- DOMAIN-SUFFIX,nflxext.com,GlobalMedia\n- DOMAIN-SUFFIX,nflximg.com,GlobalMedia\n- DOMAIN-SUFFIX,nflximg.net,GlobalMedia\n- DOMAIN-SUFFIX,nflxso.net,GlobalMedia\n- DOMAIN-SUFFIX,nflxvideo.net,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest0.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest1.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest2.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest3.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest4.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest5.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest6.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest7.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest8.com,GlobalMedia\n- DOMAIN-SUFFIX,netflixdnstest9.com,GlobalMedia\n- IP-CIDR,23.246.0.0/18,GlobalMedia,no-resolve\n- IP-CIDR,37.77.184.0/21,GlobalMedia,no-resolve\n- IP-CIDR,45.57.0.0/17,GlobalMedia,no-resolve\n- IP-CIDR,64.120.128.0/17,GlobalMedia,no-resolve\n- IP-CIDR,66.197.128.0/17,GlobalMedia,no-resolve\n- IP-CIDR,108.175.32.0/20,GlobalMedia,no-resolve\n- IP-CIDR,192.173.64.0/18,GlobalMedia,no-resolve\n- IP-CIDR,198.38.96.0/19,GlobalMedia,no-resolve\n- IP-CIDR,198.45.48.0/20,GlobalMedia,no-resolve\n# > niconico\n# USER-AGENT,Niconico*,GlobalMedia\n- DOMAIN-SUFFIX,dmc.nico,GlobalMedia\n- DOMAIN-SUFFIX,nicovideo.jp,GlobalMedia\n- DOMAIN-SUFFIX,nimg.jp,GlobalMedia\n- DOMAIN-SUFFIX,socdm.com,GlobalMedia\n# > PBS\n# USER-AGENT,PBS*,GlobalMedia\n- DOMAIN-SUFFIX,pbs.org,GlobalMedia\n# > Pornhub\n- DOMAIN-SUFFIX,phncdn.com,GlobalMedia\n- DOMAIN-SUFFIX,pornhub.com,GlobalMedia\n- DOMAIN-SUFFIX,pornhubpremium.com,GlobalMedia\n# > 台湾好\n# USER-AGENT,TaiwanGood*,GlobalMedia\n- DOMAIN-SUFFIX,skyking.com.tw,GlobalMedia\n- DOMAIN,hamifans.emome.net,GlobalMedia\n# > Twitch\n- DOMAIN-SUFFIX,twitch.tv,GlobalMedia\n- DOMAIN-SUFFIX,twitchcdn.net,GlobalMedia\n- DOMAIN-SUFFIX,ttvnw.net,GlobalMedia\n- DOMAIN-SUFFIX,jtvnw.net,GlobalMedia\n# > ViuTV\n# USER-AGENT,Viu*,GlobalMedia\n# USER-AGENT,ViuTV*,GlobalMedia\n- DOMAIN-SUFFIX,viu.com,GlobalMedia\n- DOMAIN-SUFFIX,viu.tv,GlobalMedia\n- DOMAIN,api.viu.now.com,GlobalMedia\n- DOMAIN,d1k2us671qcoau.cloudfront.net,GlobalMedia\n- DOMAIN,d2anahhhmp1ffz.cloudfront.net,GlobalMedia\n- DOMAIN,dfp6rglgjqszk.cloudfront.net,GlobalMedia\n# > YouTube\n# USER-AGENT,com.google.ios.youtube*,GlobalMedia\n# USER-AGENT,YouTube*,GlobalMedia\n- DOMAIN-SUFFIX,googlevideo.com,GlobalMedia\n- DOMAIN-SUFFIX,youtube.com,GlobalMedia\n- DOMAIN,youtubei.googleapis.com,GlobalMedia\n\n# (HKMTMedia)\n# > 愛奇藝台灣站\n- DOMAIN-SUFFIX,iqiyi.com,HKMTMedia\n- DOMAIN-SUFFIX,71.am,HKMTMedia\n# > bilibili\n- DOMAIN-SUFFIX,bilibili.com,HKMTMedia\n- DOMAIN,upos-hz-mirrorakam.akamaized.net,HKMTMedia\n\n# (DNS Cache Pollution Protection)\n# > Google\n- DOMAIN-SUFFIX,ampproject.org,PROXY\n- DOMAIN-SUFFIX,appspot.com,PROXY\n- DOMAIN-SUFFIX,blogger.com,PROXY\n- DOMAIN-SUFFIX,getoutline.org,PROXY\n- DOMAIN-SUFFIX,gvt0.com,PROXY\n- DOMAIN-SUFFIX,gvt1.com,PROXY\n- DOMAIN-SUFFIX,gvt3.com,PROXY\n- DOMAIN-SUFFIX,xn--ngstr-lra8j.com,PROXY\n- DOMAIN-KEYWORD,google,PROXY\n- DOMAIN-KEYWORD,blogspot,PROXY\n# > Microsoft\n- DOMAIN-SUFFIX,onedrive.live.com,PROXY\n- DOMAIN-SUFFIX,xboxlive.com,PROXY\n# > Facebook\n- DOMAIN-SUFFIX,cdninstagram.com,PROXY\n- DOMAIN-SUFFIX,fb.com,PROXY\n- DOMAIN-SUFFIX,fb.me,PROXY\n- DOMAIN-SUFFIX,fbaddins.com,PROXY\n- DOMAIN-SUFFIX,fbcdn.net,PROXY\n- DOMAIN-SUFFIX,fbsbx.com,PROXY\n- DOMAIN-SUFFIX,fbworkmail.com,PROXY\n- DOMAIN-SUFFIX,instagram.com,PROXY\n- DOMAIN-SUFFIX,m.me,PROXY\n- DOMAIN-SUFFIX,messenger.com,PROXY\n- DOMAIN-SUFFIX,oculus.com,PROXY\n- DOMAIN-SUFFIX,oculuscdn.com,PROXY\n- DOMAIN-SUFFIX,rocksdb.org,PROXY\n- DOMAIN-SUFFIX,whatsapp.com,PROXY\n- DOMAIN-SUFFIX,whatsapp.net,PROXY\n- DOMAIN-KEYWORD,facebook,PROXY\n- IP-CIDR,3.123.36.126/32,PROXY,no-resolve\n- IP-CIDR,35.157.215.84/32,PROXY,no-resolve\n- IP-CIDR,35.157.217.255/32,PROXY,no-resolve\n- IP-CIDR,52.58.209.134/32,PROXY,no-resolve\n- IP-CIDR,54.93.124.31/32,PROXY,no-resolve\n- IP-CIDR,54.162.243.80/32,PROXY,no-resolve\n- IP-CIDR,54.173.34.141/32,PROXY,no-resolve\n- IP-CIDR,54.235.23.242/32,PROXY,no-resolve\n- IP-CIDR,169.45.248.118/32,PROXY,no-resolve\n# > Twitter\n- DOMAIN-SUFFIX,pscp.tv,PROXY\n- DOMAIN-SUFFIX,periscope.tv,PROXY\n- DOMAIN-SUFFIX,t.co,PROXY\n- DOMAIN-SUFFIX,twimg.co,PROXY\n- DOMAIN-SUFFIX,twimg.com,PROXY\n- DOMAIN-SUFFIX,twitpic.com,PROXY\n- DOMAIN-SUFFIX,vine.co,PROXY\n- DOMAIN-KEYWORD,twitter,PROXY\n# > Telegram\n- DOMAIN-SUFFIX,t.me,PROXY\n- DOMAIN-SUFFIX,tdesktop.com,PROXY\n- DOMAIN-SUFFIX,telegra.ph,PROXY\n- DOMAIN-SUFFIX,telegram.me,PROXY\n- DOMAIN-SUFFIX,telegram.org,PROXY\n- IP-CIDR,91.108.4.0/22,PROXY,no-resolve\n- IP-CIDR,91.108.8.0/22,PROXY,no-resolve\n- IP-CIDR,91.108.12.0/22,PROXY,no-resolve\n- IP-CIDR,91.108.16.0/22,PROXY,no-resolve\n- IP-CIDR,91.108.56.0/22,PROXY,no-resolve\n- IP-CIDR,149.154.160.0/20,PROXY,no-resolve\n# > Line\n- DOMAIN-SUFFIX,line.me,PROXY\n- DOMAIN-SUFFIX,line-apps.com,PROXY\n- DOMAIN-SUFFIX,line-scdn.net,PROXY\n- DOMAIN-SUFFIX,naver.jp,PROXY\n- IP-CIDR,103.2.30.0/23,PROXY,no-resolve\n- IP-CIDR,125.209.208.0/20,PROXY,no-resolve\n- IP-CIDR,147.92.128.0/17,PROXY,no-resolve\n- IP-CIDR,203.104.144.0/21,PROXY,no-resolve\n# > Other\n- DOMAIN-SUFFIX,4shared.com,PROXY\n- DOMAIN-SUFFIX,520cc.cc,PROXY\n- DOMAIN-SUFFIX,881903.com,PROXY\n- DOMAIN-SUFFIX,9cache.com,PROXY\n- DOMAIN-SUFFIX,9gag.com,PROXY\n- DOMAIN-SUFFIX,abc.com,PROXY\n- DOMAIN-SUFFIX,abc.net.au,PROXY\n- DOMAIN-SUFFIX,abebooks.com,PROXY\n- DOMAIN-SUFFIX,amazon.co.jp,PROXY\n- DOMAIN-SUFFIX,apigee.com,PROXY\n- DOMAIN-SUFFIX,apk-dl.com,PROXY\n- DOMAIN-SUFFIX,apkfind.com,PROXY\n- DOMAIN-SUFFIX,apkmirror.com,PROXY\n- DOMAIN-SUFFIX,apkmonk.com,PROXY\n- DOMAIN-SUFFIX,apkpure.com,PROXY\n- DOMAIN-SUFFIX,aptoide.com,PROXY\n- DOMAIN-SUFFIX,archive.is,PROXY\n- DOMAIN-SUFFIX,archive.org,PROXY\n- DOMAIN-SUFFIX,arte.tv,PROXY\n- DOMAIN-SUFFIX,artstation.com,PROXY\n- DOMAIN-SUFFIX,arukas.io,PROXY\n- DOMAIN-SUFFIX,ask.com,PROXY\n- DOMAIN-SUFFIX,avg.com,PROXY\n- DOMAIN-SUFFIX,avgle.com,PROXY\n- DOMAIN-SUFFIX,badoo.com,PROXY\n- DOMAIN-SUFFIX,bandwagonhost.com,PROXY\n- DOMAIN-SUFFIX,bbc.com,PROXY\n- DOMAIN-SUFFIX,behance.net,PROXY\n- DOMAIN-SUFFIX,bibox.com,PROXY\n- DOMAIN-SUFFIX,biggo.com.tw,PROXY\n- DOMAIN-SUFFIX,binance.com,PROXY\n- DOMAIN-SUFFIX,bitcointalk.org,PROXY\n- DOMAIN-SUFFIX,bitfinex.com,PROXY\n- DOMAIN-SUFFIX,bitmex.com,PROXY\n- DOMAIN-SUFFIX,bit-z.com,PROXY\n- DOMAIN-SUFFIX,bloglovin.com,PROXY\n- DOMAIN-SUFFIX,bloomberg.cn,PROXY\n- DOMAIN-SUFFIX,bloomberg.com,PROXY\n- DOMAIN-SUFFIX,blubrry.com,PROXY\n- DOMAIN-SUFFIX,book.com.tw,PROXY\n- DOMAIN-SUFFIX,booklive.jp,PROXY\n- DOMAIN-SUFFIX,books.com.tw,PROXY\n- DOMAIN-SUFFIX,boslife.net,PROXY\n- DOMAIN-SUFFIX,box.com,PROXY\n- DOMAIN-SUFFIX,businessinsider.com,PROXY\n- DOMAIN-SUFFIX,bwh1.net,PROXY\n- DOMAIN-SUFFIX,castbox.fm,PROXY\n- DOMAIN-SUFFIX,cbc.ca,PROXY\n- DOMAIN-SUFFIX,cdw.com,PROXY\n- DOMAIN-SUFFIX,change.org,PROXY\n- DOMAIN-SUFFIX,channelnewsasia.com,PROXY\n- DOMAIN-SUFFIX,ck101.com,PROXY\n- DOMAIN-SUFFIX,clarionproject.org,PROXY\n- DOMAIN-SUFFIX,clyp.it,PROXY\n- DOMAIN-SUFFIX,cna.com.tw,PROXY\n- DOMAIN-SUFFIX,comparitech.com,PROXY\n- DOMAIN-SUFFIX,conoha.jp,PROXY\n- DOMAIN-SUFFIX,crucial.com,PROXY\n- DOMAIN-SUFFIX,cts.com.tw,PROXY\n- DOMAIN-SUFFIX,cw.com.tw,PROXY\n- DOMAIN-SUFFIX,cyberctm.com,PROXY\n- DOMAIN-SUFFIX,dailymotion.com,PROXY\n- DOMAIN-SUFFIX,dailyview.tw,PROXY\n- DOMAIN-SUFFIX,daum.net,PROXY\n- DOMAIN-SUFFIX,daumcdn.net,PROXY\n- DOMAIN-SUFFIX,dcard.tw,PROXY\n- DOMAIN-SUFFIX,deepdiscount.com,PROXY\n- DOMAIN-SUFFIX,depositphotos.com,PROXY\n- DOMAIN-SUFFIX,deviantart.com,PROXY\n- DOMAIN-SUFFIX,disconnect.me,PROXY\n- DOMAIN-SUFFIX,discordapp.com,PROXY\n- DOMAIN-SUFFIX,discordapp.net,PROXY\n- DOMAIN-SUFFIX,disqus.com,PROXY\n- DOMAIN-SUFFIX,dlercloud.com,PROXY\n- DOMAIN-SUFFIX,dns2go.com,PROXY\n- DOMAIN-SUFFIX,dowjones.com,PROXY\n- DOMAIN-SUFFIX,dropbox.com,PROXY\n- DOMAIN-SUFFIX,dropboxusercontent.com,PROXY\n- DOMAIN-SUFFIX,duckduckgo.com,PROXY\n- DOMAIN-SUFFIX,dw.com,PROXY\n- DOMAIN-SUFFIX,dynu.com,PROXY\n- DOMAIN-SUFFIX,earthcam.com,PROXY\n- DOMAIN-SUFFIX,ebookservice.tw,PROXY\n- DOMAIN-SUFFIX,economist.com,PROXY\n- DOMAIN-SUFFIX,edgecastcdn.net,PROXY\n- DOMAIN-SUFFIX,edu,PROXY\n- DOMAIN-SUFFIX,elpais.com,PROXY\n- DOMAIN-SUFFIX,enanyang.my,PROXY\n- DOMAIN-SUFFIX,encyclopedia.com,PROXY\n- DOMAIN-SUFFIX,esoir.be,PROXY\n- DOMAIN-SUFFIX,etherscan.io,PROXY\n- DOMAIN-SUFFIX,euronews.com,PROXY\n- DOMAIN-SUFFIX,evozi.com,PROXY\n- DOMAIN-SUFFIX,feedly.com,PROXY\n- DOMAIN-SUFFIX,firech.at,PROXY\n- DOMAIN-SUFFIX,flickr.com,PROXY\n- DOMAIN-SUFFIX,flitto.com,PROXY\n- DOMAIN-SUFFIX,foreignpolicy.com,PROXY\n- DOMAIN-SUFFIX,freebrowser.org,PROXY\n- DOMAIN-SUFFIX,freewechat.com,PROXY\n- DOMAIN-SUFFIX,freeweibo.com,PROXY\n- DOMAIN-SUFFIX,friday.tw,PROXY\n- DOMAIN-SUFFIX,ftchinese.com,PROXY\n- DOMAIN-SUFFIX,ftimg.net,PROXY\n- DOMAIN-SUFFIX,gate.io,PROXY\n- DOMAIN-SUFFIX,getlantern.org,PROXY\n- DOMAIN-SUFFIX,getsync.com,PROXY\n- DOMAIN-SUFFIX,globalvoices.org,PROXY\n- DOMAIN-SUFFIX,goo.ne.jp,PROXY\n- DOMAIN-SUFFIX,goodreads.com,PROXY\n- DOMAIN-SUFFIX,gov,PROXY\n- DOMAIN-SUFFIX,gov.tw,PROXY\n- DOMAIN-SUFFIX,greatfire.org,PROXY\n- DOMAIN-SUFFIX,gumroad.com,PROXY\n- DOMAIN-SUFFIX,hbg.com,PROXY\n- DOMAIN-SUFFIX,heroku.com,PROXY\n- DOMAIN-SUFFIX,hightail.com,PROXY\n- DOMAIN-SUFFIX,hk01.com,PROXY\n- DOMAIN-SUFFIX,hkbf.org,PROXY\n- DOMAIN-SUFFIX,hkbookcity.com,PROXY\n- DOMAIN-SUFFIX,hkej.com,PROXY\n- DOMAIN-SUFFIX,hket.com,PROXY\n- DOMAIN-SUFFIX,hkgolden.com,PROXY\n- DOMAIN-SUFFIX,hootsuite.com,PROXY\n- DOMAIN-SUFFIX,hudson.org,PROXY\n- DOMAIN-SUFFIX,hyread.com.tw,PROXY\n- DOMAIN-SUFFIX,ibtimes.com,PROXY\n- DOMAIN-SUFFIX,i-cable.com,PROXY\n- DOMAIN-SUFFIX,icij.org,PROXY\n- DOMAIN-SUFFIX,icoco.com,PROXY\n- DOMAIN-SUFFIX,imgur.com,PROXY\n- DOMAIN-SUFFIX,initiummall.com,PROXY\n- DOMAIN-SUFFIX,insecam.org,PROXY\n- DOMAIN-SUFFIX,ipfs.io,PROXY\n- DOMAIN-SUFFIX,issuu.com,PROXY\n- DOMAIN-SUFFIX,istockphoto.com,PROXY\n- DOMAIN-SUFFIX,japantimes.co.jp,PROXY\n- DOMAIN-SUFFIX,jiji.com,PROXY\n- DOMAIN-SUFFIX,jinx.com,PROXY\n- DOMAIN-SUFFIX,jkforum.net,PROXY\n- DOMAIN-SUFFIX,joinmastodon.org,PROXY\n- DOMAIN-SUFFIX,justmysocks.net,PROXY\n- DOMAIN-SUFFIX,justpaste.it,PROXY\n- DOMAIN-SUFFIX,kakao.com,PROXY\n- DOMAIN-SUFFIX,kakaocorp.com,PROXY\n- DOMAIN-SUFFIX,kik.com,PROXY\n- DOMAIN-SUFFIX,kobo.com,PROXY\n- DOMAIN-SUFFIX,kobobooks.com,PROXY\n- DOMAIN-SUFFIX,kodingen.com,PROXY\n- DOMAIN-SUFFIX,lemonde.fr,PROXY\n- DOMAIN-SUFFIX,lepoint.fr,PROXY\n- DOMAIN-SUFFIX,lihkg.com,PROXY\n- DOMAIN-SUFFIX,listennotes.com,PROXY\n- DOMAIN-SUFFIX,livestream.com,PROXY\n- DOMAIN-SUFFIX,logmein.com,PROXY\n- DOMAIN-SUFFIX,mail.ru,PROXY\n- DOMAIN-SUFFIX,mailchimp.com,PROXY\n- DOMAIN-SUFFIX,marc.info,PROXY\n- DOMAIN-SUFFIX,matters.news,PROXY\n- DOMAIN-SUFFIX,maying.co,PROXY\n- DOMAIN-SUFFIX,medium.com,PROXY\n- DOMAIN-SUFFIX,mega.nz,PROXY\n- DOMAIN-SUFFIX,mil,PROXY\n- DOMAIN-SUFFIX,mingpao.com,PROXY\n- DOMAIN-SUFFIX,mobile01.com,PROXY\n- DOMAIN-SUFFIX,myspace.com,PROXY\n- DOMAIN-SUFFIX,myspacecdn.com,PROXY\n- DOMAIN-SUFFIX,nanyang.com,PROXY\n- DOMAIN-SUFFIX,naver.com,PROXY\n- DOMAIN-SUFFIX,neowin.net,PROXY\n- DOMAIN-SUFFIX,newstapa.org,PROXY\n- DOMAIN-SUFFIX,nexitally.com,PROXY\n- DOMAIN-SUFFIX,nhk.or.jp,PROXY\n- DOMAIN-SUFFIX,nicovideo.jp,PROXY\n- DOMAIN-SUFFIX,nii.ac.jp,PROXY\n- DOMAIN-SUFFIX,nikkei.com,PROXY\n- DOMAIN-SUFFIX,nofile.io,PROXY\n- DOMAIN-SUFFIX,now.com,PROXY\n- DOMAIN-SUFFIX,nrk.no,PROXY\n- DOMAIN-SUFFIX,nyt.com,PROXY\n- DOMAIN-SUFFIX,nytchina.com,PROXY\n- DOMAIN-SUFFIX,nytcn.me,PROXY\n- DOMAIN-SUFFIX,nytco.com,PROXY\n- DOMAIN-SUFFIX,nytimes.com,PROXY\n- DOMAIN-SUFFIX,nytimg.com,PROXY\n- DOMAIN-SUFFIX,nytlog.com,PROXY\n- DOMAIN-SUFFIX,nytstyle.com,PROXY\n- DOMAIN-SUFFIX,ok.ru,PROXY\n- DOMAIN-SUFFIX,okex.com,PROXY\n- DOMAIN-SUFFIX,on.cc,PROXY\n- DOMAIN-SUFFIX,orientaldaily.com.my,PROXY\n- DOMAIN-SUFFIX,overcast.fm,PROXY\n- DOMAIN-SUFFIX,paltalk.com,PROXY\n- DOMAIN-SUFFIX,pao-pao.net,PROXY\n- DOMAIN-SUFFIX,parsevideo.com,PROXY\n- DOMAIN-SUFFIX,pbxes.com,PROXY\n- DOMAIN-SUFFIX,pcdvd.com.tw,PROXY\n- DOMAIN-SUFFIX,pchome.com.tw,PROXY\n- DOMAIN-SUFFIX,pcloud.com,PROXY\n- DOMAIN-SUFFIX,picacomic.com,PROXY\n- DOMAIN-SUFFIX,pinimg.com,PROXY\n- DOMAIN-SUFFIX,pixiv.net,PROXY\n- DOMAIN-SUFFIX,player.fm,PROXY\n- DOMAIN-SUFFIX,plurk.com,PROXY\n- DOMAIN-SUFFIX,po18.tw,PROXY\n- DOMAIN-SUFFIX,potato.im,PROXY\n- DOMAIN-SUFFIX,potatso.com,PROXY\n- DOMAIN-SUFFIX,prism-break.org,PROXY\n- DOMAIN-SUFFIX,proxifier.com,PROXY\n- DOMAIN-SUFFIX,pt.im,PROXY\n- DOMAIN-SUFFIX,pts.org.tw,PROXY\n- DOMAIN-SUFFIX,pubu.com.tw,PROXY\n- DOMAIN-SUFFIX,pubu.tw,PROXY\n- DOMAIN-SUFFIX,pureapk.com,PROXY\n- DOMAIN-SUFFIX,quora.com,PROXY\n- DOMAIN-SUFFIX,quoracdn.net,PROXY\n- DOMAIN-SUFFIX,rakuten.co.jp,PROXY\n- DOMAIN-SUFFIX,readingtimes.com.tw,PROXY\n- DOMAIN-SUFFIX,readmoo.com,PROXY\n- DOMAIN-SUFFIX,redbubble.com,PROXY\n- DOMAIN-SUFFIX,reddit.com,PROXY\n- DOMAIN-SUFFIX,redditmedia.com,PROXY\n- DOMAIN-SUFFIX,resilio.com,PROXY\n- DOMAIN-SUFFIX,reuters.com,PROXY\n- DOMAIN-SUFFIX,reutersmedia.net,PROXY\n- DOMAIN-SUFFIX,rfi.fr,PROXY\n- DOMAIN-SUFFIX,rixcloud.com,PROXY\n- DOMAIN-SUFFIX,roadshow.hk,PROXY\n- DOMAIN-SUFFIX,scmp.com,PROXY\n- DOMAIN-SUFFIX,scribd.com,PROXY\n- DOMAIN-SUFFIX,seatguru.com,PROXY\n- DOMAIN-SUFFIX,shadowsocks.org,PROXY\n- DOMAIN-SUFFIX,shopee.tw,PROXY\n- DOMAIN-SUFFIX,slideshare.net,PROXY\n- DOMAIN-SUFFIX,softfamous.com,PROXY\n- DOMAIN-SUFFIX,soundcloud.com,PROXY\n- DOMAIN-SUFFIX,ssrcloud.org,PROXY\n- DOMAIN-SUFFIX,startpage.com,PROXY\n- DOMAIN-SUFFIX,steamcommunity.com,PROXY\n- DOMAIN-SUFFIX,steemit.com,PROXY\n- DOMAIN-SUFFIX,steemitwallet.com,PROXY\n- DOMAIN-SUFFIX,t66y.com,PROXY\n- DOMAIN-SUFFIX,tapatalk.com,PROXY\n- DOMAIN-SUFFIX,teco-hk.org,PROXY\n- DOMAIN-SUFFIX,teco-mo.org,PROXY\n- DOMAIN-SUFFIX,teddysun.com,PROXY\n- DOMAIN-SUFFIX,textnow.me,PROXY\n- DOMAIN-SUFFIX,theguardian.com,PROXY\n- DOMAIN-SUFFIX,theinitium.com,PROXY\n- DOMAIN-SUFFIX,thetvdb.com,PROXY\n- DOMAIN-SUFFIX,tineye.com,PROXY\n- DOMAIN-SUFFIX,torproject.org,PROXY\n- DOMAIN-SUFFIX,tumblr.com,PROXY\n- DOMAIN-SUFFIX,turbobit.net,PROXY\n- DOMAIN-SUFFIX,tutanota.com,PROXY\n- DOMAIN-SUFFIX,tvboxnow.com,PROXY\n- DOMAIN-SUFFIX,udn.com,PROXY\n- DOMAIN-SUFFIX,unseen.is,PROXY\n- DOMAIN-SUFFIX,upmedia.mg,PROXY\n- DOMAIN-SUFFIX,uptodown.com,PROXY\n- DOMAIN-SUFFIX,urbandictionary.com,PROXY\n- DOMAIN-SUFFIX,ustream.tv,PROXY\n- DOMAIN-SUFFIX,uwants.com,PROXY\n- DOMAIN-SUFFIX,v2ray.com,PROXY\n- DOMAIN-SUFFIX,viber.com,PROXY\n- DOMAIN-SUFFIX,videopress.com,PROXY\n- DOMAIN-SUFFIX,vimeo.com,PROXY\n- DOMAIN-SUFFIX,voachinese.com,PROXY\n- DOMAIN-SUFFIX,voanews.com,PROXY\n- DOMAIN-SUFFIX,voxer.com,PROXY\n- DOMAIN-SUFFIX,vzw.com,PROXY\n- DOMAIN-SUFFIX,w3schools.com,PROXY\n- DOMAIN-SUFFIX,washingtonpost.com,PROXY\n- DOMAIN-SUFFIX,wattpad.com,PROXY\n- DOMAIN-SUFFIX,whoer.net,PROXY\n- DOMAIN-SUFFIX,wikimapia.org,PROXY\n- DOMAIN-SUFFIX,wikipedia.org,PROXY\n- DOMAIN-SUFFIX,wikiquote.org,PROXY\n- DOMAIN-SUFFIX,wikiwand.com,PROXY\n- DOMAIN-SUFFIX,winudf.com,PROXY\n- DOMAIN-SUFFIX,wire.com,PROXY\n- DOMAIN-SUFFIX,wordpress.com,PROXY\n- DOMAIN-SUFFIX,workflow.is,PROXY\n- DOMAIN-SUFFIX,worldcat.org,PROXY\n- DOMAIN-SUFFIX,wsj.com,PROXY\n- DOMAIN-SUFFIX,wsj.net,PROXY\n- DOMAIN-SUFFIX,xhamster.com,PROXY\n- DOMAIN-SUFFIX,xn--90wwvt03e.com,PROXY\n- DOMAIN-SUFFIX,xn--i2ru8q2qg.com,PROXY\n- DOMAIN-SUFFIX,xnxx.com,PROXY\n- DOMAIN-SUFFIX,xvideos.com,PROXY\n- DOMAIN-SUFFIX,yahoo.com,PROXY\n- DOMAIN-SUFFIX,yandex.ru,PROXY\n- DOMAIN-SUFFIX,ycombinator.com,PROXY\n- DOMAIN-SUFFIX,yesasia.com,PROXY\n- DOMAIN-SUFFIX,yes-news.com,PROXY\n- DOMAIN-SUFFIX,yomiuri.co.jp,PROXY\n- DOMAIN-SUFFIX,you-get.org,PROXY\n- DOMAIN-SUFFIX,zaobao.com,PROXY\n- DOMAIN-SUFFIX,zb.com,PROXY\n- DOMAIN-SUFFIX,zello.com,PROXY\n- DOMAIN-SUFFIX,zeronet.io,PROXY\n- DOMAIN-SUFFIX,zoom.us,PROXY\n- DOMAIN-KEYWORD,github,PROXY\n- DOMAIN-KEYWORD,jav,PROXY\n- DOMAIN-KEYWORD,pinterest,PROXY\n- DOMAIN-KEYWORD,porn,PROXY\n- DOMAIN-KEYWORD,wikileaks,PROXY\n\n# (Region-Restricted Access Denied)\n- DOMAIN-SUFFIX,apartmentratings.com,PROXY\n- DOMAIN-SUFFIX,apartments.com,PROXY\n- DOMAIN-SUFFIX,bankmobilevibe.com,PROXY\n- DOMAIN-SUFFIX,bing.com,PROXY\n- DOMAIN-SUFFIX,booktopia.com.au,PROXY\n- DOMAIN-SUFFIX,cccat.io,PROXY\n- DOMAIN-SUFFIX,centauro.com.br,PROXY\n- DOMAIN-SUFFIX,clearsurance.com,PROXY\n- DOMAIN-SUFFIX,costco.com,PROXY\n- DOMAIN-SUFFIX,crackle.com,PROXY\n- DOMAIN-SUFFIX,depositphotos.cn,PROXY\n- DOMAIN-SUFFIX,dish.com,PROXY\n- DOMAIN-SUFFIX,dmm.co.jp,PROXY\n- DOMAIN-SUFFIX,dmm.com,PROXY\n- DOMAIN-SUFFIX,dnvod.tv,PROXY\n- DOMAIN-SUFFIX,esurance.com,PROXY\n- DOMAIN-SUFFIX,extmatrix.com,PROXY\n- DOMAIN-SUFFIX,fastpic.ru,PROXY\n- DOMAIN-SUFFIX,flipboard.com,PROXY\n- DOMAIN-SUFFIX,fnac.be,PROXY\n- DOMAIN-SUFFIX,fnac.com,PROXY\n- DOMAIN-SUFFIX,funkyimg.com,PROXY\n- DOMAIN-SUFFIX,fxnetworks.com,PROXY\n- DOMAIN-SUFFIX,gettyimages.com,PROXY\n- DOMAIN-SUFFIX,go.com,PROXY\n- DOMAIN-SUFFIX,here.com,PROXY\n- DOMAIN-SUFFIX,jcpenney.com,PROXY\n- DOMAIN-SUFFIX,jiehua.tv,PROXY\n- DOMAIN-SUFFIX,mailfence.com,PROXY\n- DOMAIN-SUFFIX,nationwide.com,PROXY\n- DOMAIN-SUFFIX,nbc.com,PROXY\n- DOMAIN-SUFFIX,nexon.com,PROXY\n- DOMAIN-SUFFIX,nordstrom.com,PROXY\n- DOMAIN-SUFFIX,nordstromimage.com,PROXY\n- DOMAIN-SUFFIX,nordstromrack.com,PROXY\n- DOMAIN-SUFFIX,superpages.com,PROXY\n- DOMAIN-SUFFIX,target.com,PROXY\n- DOMAIN-SUFFIX,thinkgeek.com,PROXY\n- DOMAIN-SUFFIX,tracfone.com,PROXY\n- DOMAIN-SUFFIX,unity3d.com,PROXY\n- DOMAIN-SUFFIX,uploader.jp,PROXY\n- DOMAIN-SUFFIX,vevo.com,PROXY\n- DOMAIN-SUFFIX,viu.tv,PROXY\n- DOMAIN-SUFFIX,vk.com,PROXY\n- DOMAIN-SUFFIX,vsco.co,PROXY\n- DOMAIN-SUFFIX,xfinity.com,PROXY\n- DOMAIN-SUFFIX,zattoo.com,PROXY\n# USER-AGENT,Roam*,PROXY\n\n# (The Most Popular Sites)\n# > Apple\n# >> TestFlight\n- DOMAIN,testflight.apple.com,PROXY\n# >> Apple URL Shortener\n- DOMAIN-SUFFIX,appsto.re,PROXY\n# >> iBooks Store download\n- DOMAIN,books.itunes.apple.com,PROXY\n# >> iTunes Store Moveis Trailers\n- DOMAIN,hls.itunes.apple.com,PROXY\n# >> App Store Preview\n- DOMAIN,apps.apple.com,PROXY\n- DOMAIN,itunes.apple.com,PROXY\n# >> Spotlight\n- DOMAIN,api-glb-sea.smoot.apple.com,PROXY\n# >> Dictionary\n- DOMAIN,lookup-api.apple.com,PROXY\n# > Google\n- DOMAIN-SUFFIX,abc.xyz,PROXY\n- DOMAIN-SUFFIX,android.com,PROXY\n- DOMAIN-SUFFIX,androidify.com,PROXY\n- DOMAIN-SUFFIX,dialogflow.com,PROXY\n- DOMAIN-SUFFIX,autodraw.com,PROXY\n- DOMAIN-SUFFIX,capitalg.com,PROXY\n- DOMAIN-SUFFIX,certificate-transparency.org,PROXY\n- DOMAIN-SUFFIX,chrome.com,PROXY\n- DOMAIN-SUFFIX,chromeexperiments.com,PROXY\n- DOMAIN-SUFFIX,chromestatus.com,PROXY\n- DOMAIN-SUFFIX,chromium.org,PROXY\n- DOMAIN-SUFFIX,creativelab5.com,PROXY\n- DOMAIN-SUFFIX,debug.com,PROXY\n- DOMAIN-SUFFIX,deepmind.com,PROXY\n- DOMAIN-SUFFIX,firebaseio.com,PROXY\n- DOMAIN-SUFFIX,getmdl.io,PROXY\n- DOMAIN-SUFFIX,ggpht.com,PROXY\n- DOMAIN-SUFFIX,gmail.com,PROXY\n- DOMAIN-SUFFIX,gmodules.com,PROXY\n- DOMAIN-SUFFIX,godoc.org,PROXY\n- DOMAIN-SUFFIX,golang.org,PROXY\n- DOMAIN-SUFFIX,gstatic.com,PROXY\n- DOMAIN-SUFFIX,gv.com,PROXY\n- DOMAIN-SUFFIX,gwtproject.org,PROXY\n- DOMAIN-SUFFIX,itasoftware.com,PROXY\n- DOMAIN-SUFFIX,madewithcode.com,PROXY\n- DOMAIN-SUFFIX,material.io,PROXY\n- DOMAIN-SUFFIX,polymer-project.org,PROXY\n- DOMAIN-SUFFIX,admin.recaptcha.net,PROXY\n- DOMAIN-SUFFIX,recaptcha.net,PROXY\n- DOMAIN-SUFFIX,shattered.io,PROXY\n- DOMAIN-SUFFIX,synergyse.com,PROXY\n- DOMAIN-SUFFIX,tensorflow.org,PROXY\n- DOMAIN-SUFFIX,tfhub.dev,PROXY\n- DOMAIN-SUFFIX,tiltbrush.com,PROXY\n- DOMAIN-SUFFIX,waveprotocol.org,PROXY\n- DOMAIN-SUFFIX,waymo.com,PROXY\n- DOMAIN-SUFFIX,webmproject.org,PROXY\n- DOMAIN-SUFFIX,webrtc.org,PROXY\n- DOMAIN-SUFFIX,whatbrowser.org,PROXY\n- DOMAIN-SUFFIX,widevine.com,PROXY\n- DOMAIN-SUFFIX,x.company,PROXY\n- DOMAIN-SUFFIX,youtu.be,PROXY\n- DOMAIN-SUFFIX,yt.be,PROXY\n- DOMAIN-SUFFIX,ytimg.com,PROXY\n# > Microsoft\n# >> Microsoft OneDrive\n- DOMAIN-SUFFIX,1drv.com,PROXY\n- DOMAIN-SUFFIX,1drv.ms,PROXY\n- DOMAIN-SUFFIX,blob.core.windows.net,PROXY\n- DOMAIN-SUFFIX,livefilestore.com,PROXY\n- DOMAIN-SUFFIX,onedrive.com,PROXY\n- DOMAIN-SUFFIX,storage.live.com,PROXY\n- DOMAIN-SUFFIX,storage.msn.com,PROXY\n- DOMAIN,oneclient.sfx.ms,PROXY\n# > Other\n- DOMAIN-SUFFIX,0rz.tw,PROXY\n- DOMAIN-SUFFIX,4bluestones.biz,PROXY\n- DOMAIN-SUFFIX,9bis.net,PROXY\n- DOMAIN-SUFFIX,allconnected.co,PROXY\n- DOMAIN-SUFFIX,aol.com,PROXY\n- DOMAIN-SUFFIX,bcc.com.tw,PROXY\n- DOMAIN-SUFFIX,bit.ly,PROXY\n- DOMAIN-SUFFIX,bitshare.com,PROXY\n- DOMAIN-SUFFIX,blog.jp,PROXY\n- DOMAIN-SUFFIX,blogimg.jp,PROXY\n- DOMAIN-SUFFIX,blogtd.org,PROXY\n- DOMAIN-SUFFIX,broadcast.co.nz,PROXY\n- DOMAIN-SUFFIX,camfrog.com,PROXY\n- DOMAIN-SUFFIX,cfos.de,PROXY\n- DOMAIN-SUFFIX,citypopulation.de,PROXY\n- DOMAIN-SUFFIX,cloudfront.net,PROXY\n- DOMAIN-SUFFIX,ctitv.com.tw,PROXY\n- DOMAIN-SUFFIX,cuhk.edu.hk,PROXY\n- DOMAIN-SUFFIX,cusu.hk,PROXY\n- DOMAIN-SUFFIX,discord.gg,PROXY\n- DOMAIN-SUFFIX,discuss.com.hk,PROXY\n- DOMAIN-SUFFIX,dropboxapi.com,PROXY\n- DOMAIN-SUFFIX,duolingo.cn,PROXY\n- DOMAIN-SUFFIX,edditstatic.com,PROXY\n- DOMAIN-SUFFIX,flickriver.com,PROXY\n- DOMAIN-SUFFIX,focustaiwan.tw,PROXY\n- DOMAIN-SUFFIX,free.fr,PROXY\n- DOMAIN-SUFFIX,gigacircle.com,PROXY\n- DOMAIN-SUFFIX,hk-pub.com,PROXY\n- DOMAIN-SUFFIX,hosting.co.uk,PROXY\n- DOMAIN-SUFFIX,hwcdn.net,PROXY\n- DOMAIN-SUFFIX,ifixit.com,PROXY\n- DOMAIN-SUFFIX,iphone4hongkong.com,PROXY\n- DOMAIN-SUFFIX,iphonetaiwan.org,PROXY\n- DOMAIN-SUFFIX,iptvbin.com,PROXY\n- DOMAIN-SUFFIX,linksalpha.com,PROXY\n- DOMAIN-SUFFIX,manyvids.com,PROXY\n- DOMAIN-SUFFIX,myactimes.com,PROXY\n- DOMAIN-SUFFIX,newsblur.com,PROXY\n- DOMAIN-SUFFIX,now.im,PROXY\n- DOMAIN-SUFFIX,nowe.com,PROXY\n- DOMAIN-SUFFIX,redditlist.com,PROXY\n- DOMAIN-SUFFIX,s3.amazonaws.com,PROXY\n- DOMAIN-SUFFIX,signal.org,PROXY\n- DOMAIN-SUFFIX,smartmailcloud.com,PROXY\n- DOMAIN-SUFFIX,sparknotes.com,PROXY\n- DOMAIN-SUFFIX,streetvoice.com,PROXY\n- DOMAIN-SUFFIX,supertop.co,PROXY\n- DOMAIN-SUFFIX,tv.com,PROXY\n- DOMAIN-SUFFIX,typepad.com,PROXY\n- DOMAIN-SUFFIX,udnbkk.com,PROXY\n- DOMAIN-SUFFIX,urbanairship.com,PROXY\n- DOMAIN-SUFFIX,whispersystems.org,PROXY\n- DOMAIN-SUFFIX,wikia.com,PROXY\n- DOMAIN-SUFFIX,wn.com,PROXY\n- DOMAIN-SUFFIX,wolframalpha.com,PROXY\n- DOMAIN-SUFFIX,x-art.com,PROXY\n- DOMAIN-SUFFIX,yimg.com,PROXY\n- DOMAIN,api.steampowered.com,PROXY\n- DOMAIN,store.steampowered.com,PROXY\n\n# China Area Network\n# > 360\n- DOMAIN-SUFFIX,qhres.com,DIRECT\n- DOMAIN-SUFFIX,qhimg.com,DIRECT\n# > Akamai\n- DOMAIN-SUFFIX,akadns.net,DIRECT\n# - DOMAIN-SUFFIX,akamai.net,DIRECT\n# - DOMAIN-SUFFIX,akamaiedge.net,DIRECT\n# - DOMAIN-SUFFIX,akamaihd.net,DIRECT\n# - DOMAIN-SUFFIX,akamaistream.net,DIRECT\n# - DOMAIN-SUFFIX,akamaized.net,DIRECT\n# > Alibaba\n# USER-AGENT,%E4%BC%98%E9%85%B7*,DIRECT\n- DOMAIN-SUFFIX,alibaba.com,DIRECT\n- DOMAIN-SUFFIX,alicdn.com,DIRECT\n- DOMAIN-SUFFIX,alikunlun.com,DIRECT\n- DOMAIN-SUFFIX,alipay.com,DIRECT\n- DOMAIN-SUFFIX,amap.com,DIRECT\n- DOMAIN-SUFFIX,autonavi.com,DIRECT\n- DOMAIN-SUFFIX,dingtalk.com,DIRECT\n- DOMAIN-SUFFIX,mxhichina.com,DIRECT\n- DOMAIN-SUFFIX,soku.com,DIRECT\n- DOMAIN-SUFFIX,taobao.com,DIRECT\n- DOMAIN-SUFFIX,tmall.com,DIRECT\n- DOMAIN-SUFFIX,tmall.hk,DIRECT\n- DOMAIN-SUFFIX,ykimg.com,DIRECT\n- DOMAIN-SUFFIX,youku.com,DIRECT\n- DOMAIN-SUFFIX,xiami.com,DIRECT\n- DOMAIN-SUFFIX,xiami.net,DIRECT\n# > Baidu\n- DOMAIN-SUFFIX,baidu.com,DIRECT\n- DOMAIN-SUFFIX,baidubcr.com,DIRECT\n- DOMAIN-SUFFIX,bdstatic.com,DIRECT\n- DOMAIN-SUFFIX,yunjiasu-cdn.net,DIRECT\n# > bilibili\n- DOMAIN-SUFFIX,acgvideo.com,DIRECT\n- DOMAIN-SUFFIX,biliapi.com,DIRECT\n- DOMAIN-SUFFIX,biliapi.net,DIRECT\n- DOMAIN-SUFFIX,bilibili.com,DIRECT\n- DOMAIN-SUFFIX,bilibili.tv,DIRECT\n- DOMAIN-SUFFIX,hdslb.com,DIRECT\n# > Blizzard\n- DOMAIN-SUFFIX,blizzard.com,DIRECT\n- DOMAIN-SUFFIX,battle.net,DIRECT\n- DOMAIN,blzddist1-a.akamaihd.net,DIRECT\n# > ByteDance\n- DOMAIN-SUFFIX,feiliao.com,DIRECT\n- DOMAIN-SUFFIX,pstatp.com,DIRECT\n- DOMAIN-SUFFIX,snssdk.com,DIRECT\n- DOMAIN-SUFFIX,iesdouyin.com,DIRECT\n- DOMAIN-SUFFIX,toutiao.com,DIRECT\n# > CCTV\n- DOMAIN-SUFFIX,cctv.com,DIRECT\n- DOMAIN-SUFFIX,cctvpic.com,DIRECT\n- DOMAIN-SUFFIX,livechina.com,DIRECT\n# > DiDi\n- DOMAIN-SUFFIX,didialift.com,DIRECT\n- DOMAIN-SUFFIX,didiglobal.com,DIRECT\n- DOMAIN-SUFFIX,udache.com,DIRECT\n# > 蛋蛋赞\n- DOMAIN-SUFFIX,343480.com,DIRECT\n- DOMAIN-SUFFIX,baduziyuan.com,DIRECT\n- DOMAIN-SUFFIX,com-hs-hkdy.com,DIRECT\n- DOMAIN-SUFFIX,czybjz.com,DIRECT\n- DOMAIN-SUFFIX,dandanzan.com,DIRECT\n- DOMAIN-SUFFIX,fjhps.com,DIRECT\n- DOMAIN-SUFFIX,kuyunbo.club,DIRECT\n# > ChinaNet\n- DOMAIN-SUFFIX,21cn.com,DIRECT\n# > HunanTV\n- DOMAIN-SUFFIX,hitv.com,DIRECT\n- DOMAIN-SUFFIX,mgtv.com,DIRECT\n# > iQiyi\n- DOMAIN-SUFFIX,iqiyi.com,DIRECT\n- DOMAIN-SUFFIX,iqiyipic.com,DIRECT\n- DOMAIN-SUFFIX,71.am.com,DIRECT\n# > JD\n- DOMAIN-SUFFIX,jd.com,DIRECT\n- DOMAIN-SUFFIX,jd.hk,DIRECT\n- DOMAIN-SUFFIX,jdpay.com,DIRECT\n- DOMAIN-SUFFIX,360buyimg.com,DIRECT\n# > Kingsoft\n- DOMAIN-SUFFIX,iciba.com,DIRECT\n- DOMAIN-SUFFIX,ksosoft.com,DIRECT\n# > Meitu\n- DOMAIN-SUFFIX,meitu.com,DIRECT\n- DOMAIN-SUFFIX,meitudata.com,DIRECT\n- DOMAIN-SUFFIX,meitustat.com,DIRECT\n- DOMAIN-SUFFIX,meipai.com,DIRECT\n# > MI\n- DOMAIN-SUFFIX,duokan.com,DIRECT\n- DOMAIN-SUFFIX,mi-img.com,DIRECT\n- DOMAIN-SUFFIX,miui.com,DIRECT\n- DOMAIN-SUFFIX,miwifi.com,DIRECT\n- DOMAIN-SUFFIX,xiaomi.com,DIRECT\n# > Microsoft\n- DOMAIN-SUFFIX,microsoft.com,DIRECT\n- DOMAIN-SUFFIX,msecnd.net,DIRECT\n- DOMAIN-SUFFIX,office365.com,DIRECT\n- DOMAIN-SUFFIX,outlook.com,DIRECT\n- DOMAIN-SUFFIX,s-microsoft.com,DIRECT\n- DOMAIN-SUFFIX,visualstudio.com,DIRECT\n- DOMAIN-SUFFIX,windows.com,DIRECT\n- DOMAIN-SUFFIX,windowsupdate.com,DIRECT\n- DOMAIN,officecdn-microsoft-com.akamaized.net,DIRECT\n# > NetEase\n# USER-AGENT,NeteaseMusic*,DIRECT\n# USER-AGENT,%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90*,DIRECT\n- DOMAIN-SUFFIX,163.com,DIRECT\n- DOMAIN-SUFFIX,126.net,DIRECT\n- DOMAIN-SUFFIX,127.net,DIRECT\n- DOMAIN-SUFFIX,163yun.com,DIRECT\n- DOMAIN-SUFFIX,lofter.com,DIRECT\n- DOMAIN-SUFFIX,netease.com,DIRECT\n- DOMAIN-SUFFIX,ydstatic.com,DIRECT\n# > Sina\n- DOMAIN-SUFFIX,sina.com,DIRECT\n- DOMAIN-SUFFIX,weibo.com,DIRECT\n- DOMAIN-SUFFIX,weibocdn.com,DIRECT\n# > Sohu\n- DOMAIN-SUFFIX,sohu.com,DIRECT\n- DOMAIN-SUFFIX,sohucs.com,DIRECT\n- DOMAIN-SUFFIX,sohu-inc.com,DIRECT\n- DOMAIN-SUFFIX,v-56.com,DIRECT\n# > Sogo\n- DOMAIN-SUFFIX,sogo.com,DIRECT\n- DOMAIN-SUFFIX,sogou.com,DIRECT\n- DOMAIN-SUFFIX,sogoucdn.com,DIRECT\n# > Steam\n- DOMAIN-SUFFIX,steampowered.com,DIRECT\n- DOMAIN-SUFFIX,steam-chat.com,DIRECT\n- DOMAIN-SUFFIX,steamgames.com,DIRECT\n- DOMAIN-SUFFIX,steamusercontent.com,DIRECT\n- DOMAIN-SUFFIX,steamcontent.com,DIRECT\n- DOMAIN-SUFFIX,steamstatic.com,DIRECT\n- DOMAIN-SUFFIX,steamcdn-a.akamaihd.net,DIRECT\n- DOMAIN-SUFFIX,steamstat.us,DIRECT\n# > Tencent\n# USER-AGENT,MicroMessenger%20Client,DIRECT\n# USER-AGENT,WeChat*,DIRECT\n- DOMAIN-SUFFIX,gtimg.com,DIRECT\n- DOMAIN-SUFFIX,idqqimg.com,DIRECT\n- DOMAIN-SUFFIX,igamecj.com,DIRECT\n- DOMAIN-SUFFIX,myapp.com,DIRECT\n- DOMAIN-SUFFIX,myqcloud.com,DIRECT\n- DOMAIN-SUFFIX,qq.com,DIRECT\n- DOMAIN-SUFFIX,tencent.com,DIRECT\n- DOMAIN-SUFFIX,tencent-cloud.net,DIRECT\n# > YYeTs\n# USER-AGENT,YYeTs*,DIRECT\n- DOMAIN-SUFFIX,jstucdn.com,DIRECT\n- DOMAIN-SUFFIX,zimuzu.io,DIRECT\n- DOMAIN-SUFFIX,zimuzu.tv,DIRECT\n- DOMAIN-SUFFIX,zmz2019.com,DIRECT\n- DOMAIN-SUFFIX,zmzapi.com,DIRECT\n- DOMAIN-SUFFIX,zmzapi.net,DIRECT\n- DOMAIN-SUFFIX,zmzfile.com,DIRECT\n# > Content Delivery Network\n- DOMAIN-SUFFIX,ccgslb.com,DIRECT\n- DOMAIN-SUFFIX,ccgslb.net,DIRECT\n- DOMAIN-SUFFIX,chinanetcenter.com,DIRECT\n- DOMAIN-SUFFIX,meixincdn.com,DIRECT\n- DOMAIN-SUFFIX,ourdvs.com,DIRECT\n- DOMAIN-SUFFIX,staticdn.net,DIRECT\n- DOMAIN-SUFFIX,wangsu.com,DIRECT\n# > IP Query\n- DOMAIN-SUFFIX,ipip.net,DIRECT\n- DOMAIN-SUFFIX,ip.la,DIRECT\n- DOMAIN-SUFFIX,ip-cdn.com,DIRECT\n- DOMAIN-SUFFIX,ipv6-test.com,DIRECT\n- DOMAIN-SUFFIX,test-ipv6.com,DIRECT\n- DOMAIN-SUFFIX,whatismyip.com,DIRECT\n# > Speed Test\n# - DOMAIN-SUFFIX,speedtest.net,DIRECT\n- DOMAIN-SUFFIX,netspeedtestmaster.com,DIRECT\n- DOMAIN,speedtest.macpaw.com,DIRECT\n# > Private Tracker\n- DOMAIN-SUFFIX,awesome-hd.me,DIRECT\n- DOMAIN-SUFFIX,broadcasthe.net,DIRECT\n- DOMAIN-SUFFIX,chdbits.co,DIRECT\n- DOMAIN-SUFFIX,classix-unlimited.co.uk,DIRECT\n- DOMAIN-SUFFIX,empornium.me,DIRECT\n- DOMAIN-SUFFIX,gazellegames.net,DIRECT\n- DOMAIN-SUFFIX,hdchina.org,DIRECT\n- DOMAIN-SUFFIX,hdsky.me,DIRECT\n- DOMAIN-SUFFIX,icetorrent.org,DIRECT\n- DOMAIN-SUFFIX,jpopsuki.eu,DIRECT\n- DOMAIN-SUFFIX,keepfrds.com,DIRECT\n- DOMAIN-SUFFIX,madsrevolution.net,DIRECT\n- DOMAIN-SUFFIX,m-team.cc,DIRECT\n- DOMAIN-SUFFIX,nanyangpt.com,DIRECT\n- DOMAIN-SUFFIX,ncore.cc,DIRECT\n- DOMAIN-SUFFIX,open.cd,DIRECT\n- DOMAIN-SUFFIX,ourbits.club,DIRECT\n- DOMAIN-SUFFIX,passthepopcorn.me,DIRECT\n- DOMAIN-SUFFIX,privatehd.to,DIRECT\n- DOMAIN-SUFFIX,redacted.ch,DIRECT\n- DOMAIN-SUFFIX,springsunday.net,DIRECT\n- DOMAIN-SUFFIX,tjupt.org,DIRECT\n- DOMAIN-SUFFIX,totheglory.im,DIRECT\n# > Scholar\n- DOMAIN-SUFFIX,acm.org,DIRECT\n- DOMAIN-SUFFIX,acs.org,DIRECT\n- DOMAIN-SUFFIX,aip.org,DIRECT\n- DOMAIN-SUFFIX,ams.org,DIRECT\n- DOMAIN-SUFFIX,annualreviews.org,DIRECT\n- DOMAIN-SUFFIX,aps.org,DIRECT\n- DOMAIN-SUFFIX,ascelibrary.org,DIRECT\n- DOMAIN-SUFFIX,asm.org,DIRECT\n- DOMAIN-SUFFIX,asme.org,DIRECT\n- DOMAIN-SUFFIX,astm.org,DIRECT\n- DOMAIN-SUFFIX,bmj.com,DIRECT\n- DOMAIN-SUFFIX,cambridge.org,DIRECT\n- DOMAIN-SUFFIX,cas.org,DIRECT\n- DOMAIN-SUFFIX,clarivate.com,DIRECT\n- DOMAIN-SUFFIX,ebscohost.com,DIRECT\n- DOMAIN-SUFFIX,emerald.com,DIRECT\n- DOMAIN-SUFFIX,engineeringvillage.com,DIRECT\n- DOMAIN-SUFFIX,icevirtuallibrary.com,DIRECT\n- DOMAIN-SUFFIX,ieee.org,DIRECT\n- DOMAIN-SUFFIX,imf.org,DIRECT\n- DOMAIN-SUFFIX,iop.org,DIRECT\n- DOMAIN-SUFFIX,jamanetwork.com,DIRECT\n- DOMAIN-SUFFIX,jhu.edu,DIRECT\n- DOMAIN-SUFFIX,jstor.org,DIRECT\n- DOMAIN-SUFFIX,karger.com,DIRECT\n- DOMAIN-SUFFIX,libguides.com,DIRECT\n- DOMAIN-SUFFIX,madsrevolution.net,DIRECT\n- DOMAIN-SUFFIX,mpg.de,DIRECT\n- DOMAIN-SUFFIX,myilibrary.com,DIRECT\n- DOMAIN-SUFFIX,nature.com,DIRECT\n- DOMAIN-SUFFIX,oecd-ilibrary.org,DIRECT\n- DOMAIN-SUFFIX,osapublishing.org,DIRECT\n- DOMAIN-SUFFIX,oup.com,DIRECT\n- DOMAIN-SUFFIX,ovid.com,DIRECT\n- DOMAIN-SUFFIX,oxfordartonline.com,DIRECT\n- DOMAIN-SUFFIX,oxfordbibliographies.com,DIRECT\n- DOMAIN-SUFFIX,oxfordmusiconline.com,DIRECT\n- DOMAIN-SUFFIX,pnas.org,DIRECT\n- DOMAIN-SUFFIX,proquest.com,DIRECT\n- DOMAIN-SUFFIX,rsc.org,DIRECT\n- DOMAIN-SUFFIX,sagepub.com,DIRECT\n- DOMAIN-SUFFIX,sciencedirect.com,DIRECT\n- DOMAIN-SUFFIX,sciencemag.org,DIRECT\n- DOMAIN-SUFFIX,scopus.com,DIRECT\n- DOMAIN-SUFFIX,siam.org,DIRECT\n- DOMAIN-SUFFIX,spiedigitallibrary.org,DIRECT\n- DOMAIN-SUFFIX,springer.com,DIRECT\n- DOMAIN-SUFFIX,springerlink.com,DIRECT\n- DOMAIN-SUFFIX,tandfonline.com,DIRECT\n- DOMAIN-SUFFIX,un.org,DIRECT\n- DOMAIN-SUFFIX,uni-bielefeld.de,DIRECT\n- DOMAIN-SUFFIX,webofknowledge.com,DIRECT\n- DOMAIN-SUFFIX,westlaw.com,DIRECT\n- DOMAIN-SUFFIX,wiley.com,DIRECT\n- DOMAIN-SUFFIX,worldbank.org,DIRECT\n- DOMAIN-SUFFIX,worldscientific.com,DIRECT\n# > Other\n- DOMAIN-SUFFIX,cn,DIRECT\n- DOMAIN-SUFFIX,360in.com,DIRECT\n- DOMAIN-SUFFIX,51ym.me,DIRECT\n- DOMAIN-SUFFIX,8686c.com,DIRECT\n- DOMAIN-SUFFIX,abchina.com,DIRECT\n- DOMAIN-SUFFIX,accuweather.com,DIRECT\n- DOMAIN-SUFFIX,aicoinstorge.com,DIRECT\n- DOMAIN-SUFFIX,air-matters.com,DIRECT\n- DOMAIN-SUFFIX,air-matters.io,DIRECT\n- DOMAIN-SUFFIX,aixifan.com,DIRECT\n- DOMAIN-SUFFIX,amd.com,DIRECT\n- DOMAIN-SUFFIX,b612.net,DIRECT\n- DOMAIN-SUFFIX,bdatu.com,DIRECT\n- DOMAIN-SUFFIX,beitaichufang.com,DIRECT\n- DOMAIN-SUFFIX,bjango.com,DIRECT\n- DOMAIN-SUFFIX,booking.com,DIRECT\n- DOMAIN-SUFFIX,bstatic.com,DIRECT\n- DOMAIN-SUFFIX,cailianpress.com,DIRECT\n- DOMAIN-SUFFIX,camera360.com,DIRECT\n- DOMAIN-SUFFIX,chinaso.com,DIRECT\n- DOMAIN-SUFFIX,chua.pro,DIRECT\n- DOMAIN-SUFFIX,chuimg.com,DIRECT\n- DOMAIN-SUFFIX,chunyu.mobi,DIRECT\n- DOMAIN-SUFFIX,chushou.tv,DIRECT\n- DOMAIN-SUFFIX,cmbchina.com,DIRECT\n- DOMAIN-SUFFIX,cmbimg.com,DIRECT\n- DOMAIN-SUFFIX,ctrip.com,DIRECT\n- DOMAIN-SUFFIX,dfcfw.com,DIRECT\n- DOMAIN-SUFFIX,docschina.org,DIRECT\n- DOMAIN-SUFFIX,douban.com,DIRECT\n- DOMAIN-SUFFIX,doubanio.com,DIRECT\n- DOMAIN-SUFFIX,douyu.com,DIRECT\n- DOMAIN-SUFFIX,dxycdn.com,DIRECT\n- DOMAIN-SUFFIX,dytt8.net,DIRECT\n- DOMAIN-SUFFIX,eastmoney.com,DIRECT\n- DOMAIN-SUFFIX,eudic.net,DIRECT\n- DOMAIN-SUFFIX,feng.com,DIRECT\n- DOMAIN-SUFFIX,fengkongcloud.com,DIRECT\n- DOMAIN-SUFFIX,frdic.com,DIRECT\n- DOMAIN-SUFFIX,futu5.com,DIRECT\n- DOMAIN-SUFFIX,futunn.com,DIRECT\n- DOMAIN-SUFFIX,gandi.net,DIRECT\n- DOMAIN-SUFFIX,geilicdn.com,DIRECT\n- DOMAIN-SUFFIX,getpricetag.com,DIRECT\n- DOMAIN-SUFFIX,gifshow.com,DIRECT\n- DOMAIN-SUFFIX,godic.net,DIRECT\n- DOMAIN-SUFFIX,hicloud.com,DIRECT\n- DOMAIN-SUFFIX,hongxiu.com,DIRECT\n- DOMAIN-SUFFIX,hostbuf.com,DIRECT\n- DOMAIN-SUFFIX,huxiucdn.com,DIRECT\n- DOMAIN-SUFFIX,huya.com,DIRECT\n- DOMAIN-SUFFIX,infinitynewtab.com,DIRECT\n- DOMAIN-SUFFIX,ithome.com,DIRECT\n- DOMAIN-SUFFIX,java.com,DIRECT\n- DOMAIN-SUFFIX,jidian.im,DIRECT\n- DOMAIN-SUFFIX,kaiyanapp.com,DIRECT\n- DOMAIN-SUFFIX,kaspersky-labs.com,DIRECT\n- DOMAIN-SUFFIX,keepcdn.com,DIRECT\n- DOMAIN-SUFFIX,kkmh.com,DIRECT\n- DOMAIN-SUFFIX,licdn.com,DIRECT\n- DOMAIN-SUFFIX,linkedin.com,DIRECT\n- DOMAIN-SUFFIX,loli.net,DIRECT\n- DOMAIN-SUFFIX,luojilab.com,DIRECT\n- DOMAIN-SUFFIX,maoyan.com,DIRECT\n- DOMAIN-SUFFIX,maoyun.tv,DIRECT\n- DOMAIN-SUFFIX,meituan.com,DIRECT\n- DOMAIN-SUFFIX,meituan.net,DIRECT\n- DOMAIN-SUFFIX,mobike.com,DIRECT\n- DOMAIN-SUFFIX,moke.com,DIRECT\n- DOMAIN-SUFFIX,mubu.com,DIRECT\n- DOMAIN-SUFFIX,myzaker.com,DIRECT\n- DOMAIN-SUFFIX,nim-lang-cn.org,DIRECT\n- DOMAIN-SUFFIX,nvidia.com,DIRECT\n- DOMAIN-SUFFIX,oracle.com,DIRECT\n- DOMAIN-SUFFIX,paypal.com,DIRECT\n- DOMAIN-SUFFIX,paypalobjects.com,DIRECT\n- DOMAIN-SUFFIX,qdaily.com,DIRECT\n- DOMAIN-SUFFIX,qidian.com,DIRECT\n- DOMAIN-SUFFIX,qyer.com,DIRECT\n- DOMAIN-SUFFIX,qyerstatic.com,DIRECT\n- DOMAIN-SUFFIX,raychase.net,DIRECT\n- DOMAIN-SUFFIX,ronghub.com,DIRECT\n- DOMAIN-SUFFIX,ruguoapp.com,DIRECT\n- DOMAIN-SUFFIX,s-reader.com,DIRECT\n- DOMAIN-SUFFIX,sankuai.com,DIRECT\n- DOMAIN-SUFFIX,scomper.me,DIRECT\n- DOMAIN-SUFFIX,seafile.com,DIRECT\n- DOMAIN-SUFFIX,sm.ms,DIRECT\n- DOMAIN-SUFFIX,smzdm.com,DIRECT\n- DOMAIN-SUFFIX,snapdrop.net,DIRECT\n- DOMAIN-SUFFIX,snwx.com,DIRECT\n- DOMAIN-SUFFIX,sspai.com,DIRECT\n- DOMAIN-SUFFIX,takungpao.com,DIRECT\n- DOMAIN-SUFFIX,teamviewer.com,DIRECT\n- DOMAIN-SUFFIX,tianyancha.com,DIRECT\n- DOMAIN-SUFFIX,udacity.com,DIRECT\n- DOMAIN-SUFFIX,uning.com,DIRECT\n- DOMAIN-SUFFIX,vmware.com,DIRECT\n- DOMAIN-SUFFIX,weather.com,DIRECT\n- DOMAIN-SUFFIX,weico.cc,DIRECT\n- DOMAIN-SUFFIX,weidian.com,DIRECT\n- DOMAIN-SUFFIX,xiachufang.com,DIRECT\n- DOMAIN-SUFFIX,ximalaya.com,DIRECT\n- DOMAIN-SUFFIX,xinhuanet.com,DIRECT\n- DOMAIN-SUFFIX,xmcdn.com,DIRECT\n- DOMAIN-SUFFIX,yangkeduo.com,DIRECT\n- DOMAIN-SUFFIX,zhangzishi.cc,DIRECT\n- DOMAIN-SUFFIX,zhihu.com,DIRECT\n- DOMAIN-SUFFIX,zhimg.com,DIRECT\n- DOMAIN-SUFFIX,zhuihd.com,DIRECT\n- DOMAIN,download.jetbrains.com,DIRECT\n- DOMAIN,images-cn.ssl-images-amazon.com,DIRECT\n\n# > Apple\n- DOMAIN-SUFFIX,aaplimg.com,Apple\n- DOMAIN-SUFFIX,apple.co,Apple\n- DOMAIN-SUFFIX,apple.com,Apple\n- DOMAIN-SUFFIX,apple-cloudkit.com,Apple\n- DOMAIN-SUFFIX,appstore.com,Apple\n- DOMAIN-SUFFIX,cdn-apple.com,Apple\n- DOMAIN-SUFFIX,crashlytics.com,Apple\n- DOMAIN-SUFFIX,icloud.com,Apple\n- DOMAIN-SUFFIX,icloud-content.com,Apple\n- DOMAIN-SUFFIX,me.com,Apple\n- DOMAIN-SUFFIX,mzstatic.com,Apple\n- DOMAIN,www-cdn.icloud.com.akadns.net,Apple\n- IP-CIDR,17.0.0.0/8,Apple,no-resolve\n\n# Local Area Network\n- IP-CIDR,192.168.0.0/16,DIRECT\n- IP-CIDR,10.0.0.0/8,DIRECT\n- IP-CIDR,172.16.0.0/12,DIRECT\n- IP-CIDR,127.0.0.0/8,DIRECT\n- IP-CIDR,100.64.0.0/10,DIRECT\n\n# DNSPod Public DNS+\n- IP-CIDR,119.28.28.28/32,DIRECT,no-resolve\n# GeoIP China\n- GEOIP,CN,DIRECT\n\n- MATCH,Final\n"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "shadowrocket-trojan.md",
          "type": "blob",
          "size": 3.9765625,
          "content": "Shadowrocket介绍\n\nShadowrocket logo是一个发射的火箭，因此别名小火箭，是ios系统上一款非常知名的vpn/代理应用。小火箭支持ss/ssr/vmess/trojan等多种网络协议，功能强大，是目前极少数支持trojan协议的软件之一。软件提供中文、英文、繁体界面，简单易用。本文详细介绍Shadowrocket配置trojan教程。\n\n![shadowrocket](https://www.hijk.pw/wp-content/uploads/2019/12/shadowrocket.jpeg)\n\n因众所周知的原因，国内的app store无法搜索和下载小火箭。请使用一个境外apple id登录app store，没有境外apple id请从这里找：境外apple id信息汇总，境外apple id登录app store请参考：切换apple id下载其它国家和地区的应用，然后再购买和下载。\n\n再次提醒：不要用网上找到的apple id登录icloud！\n\n下载好小火箭后，请确保已有服务端信息，获取服务端信息请参考：获取科学上网服务端信息。\n\n配置教程\n\n1. 用境外apple id登录app store，然后下载小火箭（未购买过可能需要付费）；\n\n2. 桌面上点击shadowrocket图标，进入主界面：\n\n![shadowrocket主界面](https://www.hijk.pw/wp-content/uploads/2020/03/shadowrocket%E4%B8%BB%E7%95%8C%E9%9D%A2.jpeg)\n\n3. 点击右上角的“➕” 添加节点。进入节点配置界面：\n\n![shadowrocket节点配置界面](https://www.hijk.pw/wp-content/uploads/2020/03/shadowrocket%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E7%95%8C%E9%9D%A2.jpeg)\n\n\n4. 点击“类型”进入协议选择界面，选择最下面的trojan：\n\n![shadowrocket选择trojan协议](https://www.hijk.pw/wp-content/uploads/2020/03/shadowrocket%E9%80%89%E6%8B%A9trojan%E5%8D%8F%E8%AE%AE.jpeg)\n\n\n5. 程序跳回配置界面，服务器一栏填入域名、端口(一般是443)、密码，勾选“允许不安全”，Peer名称填写域名。除非服务端支持，不要勾选“快速打开”，不用理会转发选项（除非你知道怎么回事），备注填一个好记的名字，比如“trojan”：\n\n![shadowrocket填写trojan信息](https://www.hijk.pw/wp-content/uploads/2020/03/shadowrocket%E5%A1%AB%E5%86%99trojan%E4%BF%A1%E6%81%AF.jpeg)\n\n\n \n\n6. 填好后点击右上角的“完成”，程序提示“保存成功”，然后回到主界面，“服务器节点”下方出现刚才配置的服务器。点击“延迟测试”，可以查看服务器的延迟：\n\n![shadowrocket节点列表](https://www.hijk.pw/wp-content/uploads/2020/03/shadowrocket%E8%8A%82%E7%82%B9%E5%88%97%E8%A1%A8.jpeg)\n\n\n7. 接下来点“未连接”那一栏右边的开关，打开VPN。首次使用会弹出添加vpn确认框：\n\n![shadowrocket vpn确认框](https://www.hijk.pw/wp-content/uploads/2019/12/shadowrocket-vpn%E7%A1%AE%E8%AE%A4%E6%A1%86.jpg)\n\n\n9. 点击“允许”，弹出密码界面，输入iphone/ipad的解锁密码，软件界面的按钮变蓝表示成功开启，同时状态栏出现vpn图标：\n\n![shadowrocket启动成功](https://www.hijk.pw/wp-content/uploads/2019/12/shadowrocket%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.jpg)\n\n如果配置没有问题且到服务端的网络正常的话，应该就可以用浏览器打开youtube：\n\n![浏览器打开youtube](https://www.hijk.pw/wp-content/uploads/2020/03/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%BC%80youtube.jpeg)\n\n\ntwitter、youtube、telegram等app应该也可以正常联网使用。\n\n高级设置\n\n对普通用户而言，上文的教程已经足够，能让你正常使用小火箭科学上网。对于高级玩家，可以进行一些高级配置。\n\n主界面的“全局路由”配置，最建议的选择是“配置”，也可以根据需求选择“代理”、“直连”等；\n\n“配置”标签卡里可以管理配置文件。小火箭制定了一些默认规则，如果不满意，可以添加自己和测试自己的规则；\n\n“设置”标签里可以管理订阅服务器的行为，隐藏vpn图标等，请根据自己的需要选择。\n\n参考链接：\n\n[Shadowrocket配置trojan教程](https://www.hijk.pw/shadowrocket-config-trojan-tutorial/)\n"
        },
        {
          "name": "shadowrocket_online",
          "type": "tree",
          "content": null
        },
        {
          "name": "ssl证书.md",
          "type": "blob",
          "size": 1.9619140625,
          "content": "有时候我们为了测试会用一个临时的域名来测试，比如test.toodyao.com，测试完成后也许会置之不理，但是在90天更新证书的时候总会有这个域名的失败提示，很不爽，而且lnmp下只提供add，没有del指令，遂手动删之。\n\n1. 找到Let’s Encrypt的目录\n\n对于lnmp安装的用户，目录在 /etc/letsencrypt\n\n2. 删除\n\n需要删除 live ， archive ， renewal 三个目录下你想删除的域名文件/目录，都是以域名命名\n\n另外，如果没有更新证书的话，90天后会自动过期，过期前会有邮件提醒\n\n参考：https://zhaodi.me/remove-domains-from-lets-encrypt-ssl-tls-certificate/\n\n————\n\n2018-3-1 更新\n\n需要删除nginx下相应域名的vhost，否则在重启的时候，会提示找不到该域名的SSL文件而启动失败，如下：\n\n```\n\nStarting nginx... nginx: [emerg] BIO_new_file(\"/etc/letsencrypt/live/test.toodyao.com/fullchain.pem\") failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen('/etc/letsencrypt/live/test.toodyao.com/fullchain.pem','r') error:2006D080:BIO routines:BIO_new_file:no such file)\n failed\n \n ```\n如果使用的是lnmp，直接键入 lnmp vhost del ，然后键入你想删除的域名即可\n\nnginx关闭的时候SSR竟然也用不了，奇怪\n\n3 使用certbot命令删除证书\n\n进入 /etc/letsencrypt/renewal 目录\n\n```\n[root@vultr ~]# cd /etc/letsencrypt/renewal\n\n[root@vultr live]# ls\nREADME  www.xiaokeli.me\n\n[root@vultr renewal]# certbot delete --cert-name www.xiaokeli.me\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nDeleted all files relating to certificate www.xiaokeli.me\n```\n\n4 certbot更新证书 \n\n```\n[root@vultr certbot]# service nginx stop\nStoping nginx...  done\n[root@vultr certbot]# certbot renew\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\n\n[root@vultr certbot]# service nginx start\nStarting nginx...  done\n```\n"
        },
        {
          "name": "ssr443.md",
          "type": "blob",
          "size": 0.748046875,
          "content": "\nSSR 443和80 端口配置实例\n\n示例1:\n\n```\n\"additional_ports\" : {      \"80\": {          \"passwd\": \"pubpassword\",          \"method\": \"aes-128-ctr\",          \"protocol\": \"auth_aes128_md5\",          \"protocol_param\": \"#\",          \"obfs\": \"tls1.2_ticket_auth_compatible\",          \"obfs_param\": \"\"      },      \"443\": {          \"passwd\": \"pubpassword\",          \"method\": \"aes-128-ctr\",          \"protocol\": \"auth_aes128_md5\",          \"protocol_param\": \"#\",          \"obfs\": \"tls1.2_ticket_auth_compatible\",          \"obfs_param\": \"\"      }  }, \n\n\n```\n\n\n示例2\n \n```\n\"additional_ports\" : {\"443\": {\"passwd\": \"xiaokeli.info\", \"method\": \"aes-128-ctr\", \"protocol\": \"auth_aes128_md5\", \"protocol_param\": \"#\", \"obfs\": \"tls1.2_ticket_auth\", \"obfs_param\": \"\" }  }, \n```\n"
        },
        {
          "name": "ssrpanel20190618.sql",
          "type": "blob",
          "size": 9073.8740234375,
          "content": ""
        },
        {
          "name": "ssrpanel20190625.sql",
          "type": "blob",
          "size": 8279.4287109375,
          "content": ""
        },
        {
          "name": "telegram",
          "type": "tree",
          "content": null
        },
        {
          "name": "trojan-go.sh",
          "type": "blob",
          "size": 28.1796875,
          "content": "#!/bin/bash\n# trojan-go一键安装脚本\n# Author: hijk<https://hijk.art>\n\n\nRED=\"\\033[31m\"      # Error message\nGREEN=\"\\033[32m\"    # Success message\nYELLOW=\"\\033[33m\"   # Warning message\nBLUE=\"\\033[36m\"     # Info message\nPLAIN='\\033[0m'\n\nOS=`hostnamectl | grep -i system | cut -d: -f2`\n\nV6_PROXY=\"\"\nIP=`curl -sL -4 ip.sb`\nif [[ \"$?\" != \"0\" ]]; then\n    IP=`curl -sL -6 ip.sb`\n    V6_PROXY=\"https://gh.hijk.art/\"\nfi\n\nBT=\"false\"\nNGINX_CONF_PATH=\"/etc/nginx/conf.d/\"\n\nres=`which bt 2>/dev/null`\nif [[ \"$res\" != \"\" ]]; then\n    BT=\"true\"\n    NGINX_CONF_PATH=\"/www/server/panel/vhost/nginx/\"\nfi\n\n# 以下网站是随机从Google上找到的无广告小说网站，不喜欢请改成其他网址，以http或https开头\n# 搭建好后无法打开伪装域名，可能是反代小说网站挂了，请在网站留言，或者Github发issue，以便替换新的网站\nSITES=(\nhttp://www.zhuizishu.com/\nhttp://xs.56dyc.com/\n#http://www.xiaoshuosk.com/\n#https://www.quledu.net/\nhttp://www.ddxsku.com/\nhttp://www.biqu6.com/\nhttps://www.wenshulou.cc/\n#http://www.auutea.com/\nhttp://www.55shuba.com/\nhttp://www.39shubao.com/\nhttps://www.23xsw.cc/\n#https://www.huanbige.com/\nhttps://www.jueshitangmen.info/\nhttps://www.zhetian.org/\nhttp://www.bequgexs.com/\nhttp://www.tjwl.com/\n)\n\nZIP_FILE=\"trojan-go\"\nCONFIG_FILE=\"/etc/trojan-go/config.json\"\n\nWS=\"false\"\n\ncolorEcho() {\n    echo -e \"${1}${@:2}${PLAIN}\"\n}\n\ncheckSystem() {\n    result=$(id | awk '{print $1}')\n    if [[ $result != \"uid=0(root)\" ]]; then\n        echo -e \" ${RED}请以root身份执行该脚本${PLAIN}\"\n        exit 1\n    fi\n\n    res=`which yum 2>/dev/null`\n    if [[ \"$?\" != \"0\" ]]; then\n        res=`which apt 2>/dev/null`\n        if [[ \"$?\" != \"0\" ]]; then\n            echo -e \" ${RED}不受支持的Linux系统${PLAIN}\"\n            exit 1\n        fi\n        PMT=\"apt\"\n        CMD_INSTALL=\"apt install -y \"\n        CMD_REMOVE=\"apt remove -y \"\n        CMD_UPGRADE=\"apt update; apt upgrade -y; apt autoremove -y\"\n    else\n        PMT=\"yum\"\n        CMD_INSTALL=\"yum install -y \"\n        CMD_REMOVE=\"yum remove -y \"\n        CMD_UPGRADE=\"yum update -y\"\n    fi\n    res=`which systemctl 2>/dev/null`\n    if [[ \"$?\" != \"0\" ]]; then\n        echo -e \" ${RED}系统版本过低，请升级到最新版本${PLAIN}\"\n        exit 1\n    fi\n}\n\nstatus() {\n    trojan_cmd=\"$(command -v trojan-go)\"\n    if [[ \"$trojan_cmd\" = \"\" ]]; then\n        echo 0\n        return\n    fi\n    if [[ ! -f $CONFIG_FILE ]]; then\n        echo 1\n        return\n    fi\n    port=`grep local_port $CONFIG_FILE|cut -d: -f2| tr -d \\\",' '`\n    res=`ss -ntlp| grep ${port} | grep trojan-go`\n    if [[ -z \"$res\" ]]; then\n        echo 2\n    else\n        echo 3\n    fi\n}\n\nstatusText() {\n    res=`status`\n    case $res in\n        2)\n            echo -e ${GREEN}已安装${PLAIN} ${RED}未运行${PLAIN}\n            ;;\n        3)\n            echo -e ${GREEN}已安装${PLAIN} ${GREEN}正在运行${PLAIN}\n            ;;\n        *)\n            echo -e ${RED}未安装${PLAIN}\n            ;;\n    esac\n}\n\ngetVersion() {\n    VERSION=`curl -fsSL ${V6_PROXY}https://api.github.com/repos/p4gefau1t/trojan-go/releases | grep tag_name | sed -E 's/.*\"v(.*)\".*/\\1/'| head -n1`\n    if [[ ${VERSION:0:1} != \"v\" ]];then\n        VERSION=\"v${VERSION}\"\n    fi\n}\n\narchAffix() {\n    case \"${1:-\"$(uname -m)\"}\" in\n        i686|i386)\n            echo '386'\n        ;;\n        x86_64|amd64)\n            echo 'amd64'\n        ;;\n        *armv7*|armv6l)\n            echo 'armv7'\n        ;;\n        *armv8*|aarch64)\n            echo 'armv8'\n        ;;\n        *armv6*)\n            echo 'armv6'\n        ;;\n        *arm*)\n            echo 'arm'\n        ;;\n        *mips64le*)\n            echo 'mips64le'\n        ;;\n        *mips64*)\n            echo 'mips64'\n        ;;\n        *mipsle*)\n            echo 'mipsle-softfloat'\n        ;;\n        *mips*)\n            echo 'mips-softfloat'\n        ;;\n        *)\n            return 1\n        ;;\n    esac\n\n\treturn 0\n}\n\ngetData() {\n    echo \"\"\n    can_change=$1\n    if [[ \"$can_change\" != \"yes\" ]]; then\n        echo \" trojan-go一键脚本，运行之前请确认如下条件已经具备：\"\n        echo -e \"  ${RED}1. 一个伪装域名${PLAIN}\"\n        echo -e \"  ${RED}2. 伪装域名DNS解析指向当前服务器ip（${IP}）${PLAIN}\"\n        echo -e \"  3. 如果/root目录下有 ${GREEN}trojan-go.pem${PLAIN} 和 ${GREEN}trojan-go.key${PLAIN} 证书密钥文件，无需理会条件2\"\n        echo \" \"\n        read -p \" 确认满足按y，按其他退出脚本：\" answer\n        if [[ \"${answer,,}\" != \"y\" ]]; then\n            exit 0\n        fi\n\n        echo \"\"\n        while true\n        do\n            read -p \" 请输入伪装域名：\" DOMAIN\n            if [[ -z \"${DOMAIN}\" ]]; then\n                echo -e \" ${RED}伪装域名输入错误，请重新输入！${PLAIN}\"\n            else\n                break\n            fi\n        done\n        colorEcho $BLUE \" 伪装域名(host)：$DOMAIN\"\n\n        echo \"\"\n        DOMAIN=${DOMAIN,,}\n        if [[ -f ~/trojan-go.pem && -f ~/trojan-go.key ]]; then\n            echo -e \"${GREEN} 检测到自有证书，将使用其部署${PLAIN}\"\n            CERT_FILE=\"/etc/trojan-go/${DOMAIN}.pem\"\n            KEY_FILE=\"/etc/trojan-go/${DOMAIN}.key\"\n        else\n            resolve=`curl -sL https:///hostip.php?d=${DOMAIN}`\n            res=`echo -n ${resolve} | grep ${IP}`\n            if [[ -z \"${res}\" ]]; then\n                echo \" ${DOMAIN} 解析结果：${resolve}\"\n                echo -e \" ${RED}伪装域名未解析到当前服务器IP(${IP})!${PLAIN}\"\n                exit 1\n            fi\n        fi\n    else\n        DOMAIN=`grep sni $CONFIG_FILE | cut -d\\\" -f4`\n        CERT_FILE=`grep cert $CONFIG_FILE | cut -d\\\" -f4`\n        KEY_FILE=`grep key $CONFIG_FILE | cut -d\\\" -f4`\n        read -p \" 是否转换成WS版本？[y/n]\" answer\n        if [[ \"${answer,,}\" = \"y\" ]]; then\n            WS=\"true\"\n        fi\n    fi\n\n    echo \"\"\n    read -p \" 请设置trojan-go密码（不输则随机生成）:\" PASSWORD\n    [[ -z \"$PASSWORD\" ]] && PASSWORD=`cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 16 | head -n 1`\n    colorEcho $BLUE \" trojan-go密码：$PASSWORD\"\n    echo \"\"\n    while true\n    do\n        read -p \" 是否需要再设置一组密码？[y/n]\" answer\n        if [[ ${answer,,} = \"n\" ]]; then\n            break\n        fi\n        read -p \" 请设置trojan-go密码（不输则随机生成）:\" pass\n        [[ -z \"$pass\" ]] && pass=`cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 16 | head -n 1`\n        echo \"\"\n        colorEcho $BLUE \" trojan-go密码：$pass\"\n        PASSWORD=\"${PASSWORD}\\\",\\\"$pass\"\n    done\n\n    echo \"\"\n    read -p \" 请输入trojan-go端口[100-65535的一个数字，默认443]：\" PORT\n    [[ -z \"${PORT}\" ]] && PORT=443\n    if [[ \"${PORT:0:1}\" = \"0\" ]]; then\n        echo -e \"${RED}端口不能以0开头${PLAIN}\"\n        exit 1\n    fi\n    colorEcho $BLUE \" trojan-go端口：$PORT\"\n\n    if [[ ${WS} = \"true\" ]]; then\n        echo \"\"\n        while true\n        do\n            read -p \" 请输入伪装路径，以/开头(不懂请直接回车)：\" WSPATH\n            if [[ -z \"${WSPATH}\" ]]; then\n                len=`shuf -i5-12 -n1`\n                ws=`cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w $len | head -n 1`\n                WSPATH=\"/$ws\"\n                break\n            elif [[ \"${WSPATH:0:1}\" != \"/\" ]]; then\n                echo \" 伪装路径必须以/开头！\"\n            elif [[ \"${WSPATH}\" = \"/\" ]]; then\n                echo  \" 不能使用根路径！\"\n            else\n                break\n            fi\n        done\n        echo \"\"\n        colorEcho $BLUE \" ws路径：$WSPATH\"\n    fi\n\n    echo \"\"\n    colorEcho $BLUE \" 请选择伪装站类型:\"\n    echo \"   1) 静态网站(位于/usr/share/nginx/html)\"\n    echo \"   2) 小说站(随机选择)\"\n    echo \"   3) 美女站(https://imeizi.me)\"\n    echo \"   4) 高清壁纸站(https://bing.imeizi.me)\"\n    echo \"   5) 自定义反代站点(需以http或者https开头)\"\n    read -p \"  请选择伪装网站类型[默认:高清壁纸站]\" answer\n    if [[ -z \"$answer\" ]]; then\n        PROXY_URL=\"https://bing.imeizi.me\"\n    else\n        case $answer in\n        1)\n            PROXY_URL=\"\"\n            ;;\n        2)\n            len=${#SITES[@]}\n            ((len--))\n            while true\n            do\n                index=`shuf -i0-${len} -n1`\n                PROXY_URL=${SITES[$index]}\n                host=`echo ${PROXY_URL} | cut -d/ -f3`\n                ip=`curl -sL https://hijk.art/hostip.php?d=${host}`\n                res=`echo -n ${ip} | grep ${host}`\n                if [[ \"${res}\" = \"\" ]]; then\n                    echo \"$ip $host\" >> /etc/hosts\n                    break\n                fi\n            done\n            ;;\n        3)\n            PROXY_URL=\"https://imeizi.me\"\n            ;;\n        4)\n            PROXY_URL=\"https://bing.imeizi.me\"\n            ;;\n        5)\n            read -p \" 请输入反代站点(以http或者https开头)：\" PROXY_URL\n            if [[ -z \"$PROXY_URL\" ]]; then\n                colorEcho $RED \" 请输入反代网站！\"\n                exit 1\n            elif [[ \"${PROXY_URL:0:4}\" != \"http\" ]]; then\n                colorEcho $RED \" 反代网站必须以http或https开头！\"\n                exit 1\n            fi\n            ;;\n        *)\n            colorEcho $RED \" 请输入正确的选项！\"\n            exit 1\n        esac\n    fi\n    REMOTE_HOST=`echo ${PROXY_URL} | cut -d/ -f3`\n    echo \"\"\n    colorEcho $BLUE \" 伪装网站：$PROXY_URL\"\n\n    echo \"\"\n    colorEcho $BLUE \" 是否允许搜索引擎爬取网站？[默认：不允许]\"\n    echo \"    y)允许，会有更多ip请求网站，但会消耗一些流量，vps流量充足情况下推荐使用\"\n    echo \"    n)不允许，爬虫不会访问网站，访问ip比较单一，但能节省vps流量\"\n    read -p \"  请选择：[y/n]\" answer\n    if [[ -z \"$answer\" ]]; then\n        ALLOW_SPIDER=\"n\"\n    elif [[ \"${answer,,}\" = \"y\" ]]; then\n        ALLOW_SPIDER=\"y\"\n    else\n        ALLOW_SPIDER=\"n\"\n    fi\n    echo \"\"\n    colorEcho $BLUE \" 允许搜索引擎：$ALLOW_SPIDER\"\n\n    echo \"\"\n    read -p \" 是否安装BBR(默认安装)?[y/n]:\" NEED_BBR\n    [[ -z \"$NEED_BBR\" ]] && NEED_BBR=y\n    [[ \"$NEED_BBR\" = \"Y\" ]] && NEED_BBR=y\n    colorEcho $BLUE \" 安装BBR：$NEED_BBR\"\n}\n\ninstallNginx() {\n    echo \"\"\n    colorEcho $BLUE \" 安装nginx...\"\n    if [[ \"$BT\" = \"false\" ]]; then\n        if [[ \"$PMT\" = \"yum\" ]]; then\n            $CMD_INSTALL epel-release\n            if [[ \"$?\" != \"0\" ]]; then\n                echo '[nginx-stable]\nname=nginx stable repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=1\nenabled=1\ngpgkey=https://nginx.org/keys/nginx_signing.key\nmodule_hotfixes=true' > /etc/yum.repos.d/nginx.repo\n            fi\n        fi\n        $CMD_INSTALL nginx\n        if [[ \"$?\" != \"0\" ]]; then\n            colorEcho $RED \" Nginx安装失败，请到 https://hijk.art 反馈\"\n            exit 1\n        fi\n        systemctl enable nginx\n    else\n        res=`which nginx 2>/dev/null`\n        if [[ \"$?\" != \"0\" ]]; then\n            colorEcho $RED \" 您安装了宝塔，请在宝塔后台安装nginx后再运行本脚本\"\n            exit 1\n        fi\n    fi\n}\n\nstartNginx() {\n    if [[ \"$BT\" = \"false\" ]]; then\n        systemctl start nginx\n    else\n        nginx -c /www/server/nginx/conf/nginx.conf\n    fi\n}\n\nstopNginx() {\n    if [[ \"$BT\" = \"false\" ]]; then\n        systemctl stop nginx\n    else\n        res=`ps aux | grep -i nginx`\n        if [[ \"$res\" != \"\" ]]; then\n            nginx -s stop\n        fi\n    fi\n}\n\ngetCert() {\n    mkdir -p /etc/trojan-go\n    if [[ -z ${CERT_FILE+x} ]]; then\n        stopNginx\n        systemctl stop trojan-go\n        sleep 2\n        res=`ss -ntlp| grep -E ':80 |:443 '`\n        if [[ \"${res}\" != \"\" ]]; then\n            echo -e \"${RED} 其他进程占用了80或443端口，请先关闭再运行一键脚本${PLAIN}\"\n            echo \" 端口占用信息如下：\"\n            echo ${res}\n            exit 1\n        fi\n\n        $CMD_INSTALL socat openssl\n        if [[ \"$PMT\" = \"yum\" ]]; then\n            $CMD_INSTALL cronie\n            systemctl start crond\n            systemctl enable crond\n        else\n            $CMD_INSTALL cron\n            systemctl start cron\n            systemctl enable cron\n        fi\n        curl -sL https://get.acme.sh | sh -s email=hijk.pw@protonmail.sh\n        source ~/.bashrc\n        ~/.acme.sh/acme.sh  --upgrade  --auto-upgrade --force\n        ~/.acme.sh/acme.sh --set-default-ca --server letsencrypt --force\n        if [[ \"$BT\" = \"false\" ]]; then\n            ~/.acme.sh/acme.sh   --issue -d $DOMAIN --keylength ec-256 --pre-hook \"systemctl stop nginx\" --post-hook \"systemctl restart nginx\"  --standalone\n        else\n            ~/.acme.sh/acme.sh   --issue -d $DOMAIN --keylength ec-256 --pre-hook \"nginx -s stop || { echo -n ''; }\" --post-hook \"nginx -c /www/server/nginx/conf/nginx.conf || { echo -n ''; }\"  --standalone\n        fi\n        [[ -f ~/.acme.sh/${DOMAIN}_ecc/ca.cer ]] || {\n            colorEcho $RED \" 获取证书失败，请复制上面的红色文字到 https://hijk.art 反馈\"\n            exit 1\n        }\n        CERT_FILE=\"/etc/trojan-go/${DOMAIN}.pem\"\n        KEY_FILE=\"/etc/trojan-go/${DOMAIN}.key\"\n        ~/.acme.sh/acme.sh  --install-cert -d $DOMAIN --ecc \\\n            --key-file       $KEY_FILE  \\\n            --fullchain-file $CERT_FILE \\\n            --reloadcmd     \"service nginx force-reload\"\n        [[ -f $CERT_FILE && -f $KEY_FILE ]] || {\n            colorEcho $RED \" 获取证书失败，请到 https://hijk.art 反馈\"\n            exit 1\n        }\n    else\n        cp ~/trojan-go.pem /etc/trojan-go/${DOMAIN}.pem\n        cp ~/trojan-go.key /etc/trojan-go/${DOMAIN}.key\n    fi\n}\n\nconfigNginx() {\n    mkdir -p /usr/share/nginx/html\n    if [[ \"$ALLOW_SPIDER\" = \"n\" ]]; then\n        echo 'User-Agent: *' > /usr/share/nginx/html/robots.txt\n        echo 'Disallow: /' >> /usr/share/nginx/html/robots.txt\n        ROBOT_CONFIG=\"    location = /robots.txt {}\"\n    else\n        ROBOT_CONFIG=\"\"\n    fi\n    if [[ \"$BT\" = \"false\" ]]; then\n        if [[ ! -f /etc/nginx/nginx.conf.bak ]]; then\n            mv /etc/nginx/nginx.conf /etc/nginx/nginx.conf.bak\n        fi\n        res=`id nginx 2>/dev/null`\n        if [[ \"$?\" != \"0\" ]]; then\n            user=\"www-data\"\n        else\n            user=\"nginx\"\n        fi\n        cat > /etc/nginx/nginx.conf<<-EOF\nuser $user;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\n# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    log_format  main  '\\$remote_addr - \\$remote_user [\\$time_local] \"\\$request\" '\n                      '\\$status \\$body_bytes_sent \"\\$http_referer\" '\n                      '\"\\$http_user_agent\" \"\\$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n    server_tokens off;\n\n    sendfile            on;\n    tcp_nopush          on;\n    tcp_nodelay         on;\n    keepalive_timeout   65;\n    types_hash_max_size 2048;\n    gzip                on;\n\n    include             /etc/nginx/mime.types;\n    default_type        application/octet-stream;\n\n    # Load modular configuration files from the /etc/nginx/conf.d directory.\n    # See http://nginx.org/en/docs/ngx_core_module.html#include\n    # for more information.\n    include /etc/nginx/conf.d/*.conf;\n}\nEOF\n    fi\n\n    mkdir -p $NGINX_CONF_PATH\n    if [[ \"$PROXY_URL\" = \"\" ]]; then\n        cat > $NGINX_CONF_PATH${DOMAIN}.conf<<-EOF\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name ${DOMAIN};\n    root /usr/share/nginx/html;\n\n    $ROBOT_CONFIG\n}\nEOF\n    else\n        cat > $NGINX_CONF_PATH${DOMAIN}.conf<<-EOF\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name ${DOMAIN};\n    root /usr/share/nginx/html;\n    location / {\n        proxy_ssl_server_name on;\n        proxy_pass $PROXY_URL;\n        proxy_set_header Accept-Encoding '';\n        sub_filter \"$REMOTE_HOST\" \"$DOMAIN\";\n        sub_filter_once off;\n    }\n    \n    $ROBOT_CONFIG\n}\nEOF\n    fi\n}\n\ndownloadFile() {\n    SUFFIX=`archAffix`\n    DOWNLOAD_URL=\"${V6_PROXY}https://github.com/p4gefau1t/trojan-go/releases/download/${VERSION}/trojan-go-linux-${SUFFIX}.zip\"\n    wget -O /tmp/${ZIP_FILE}.zip $DOWNLOAD_URL\n    if [[ ! -f /tmp/${ZIP_FILE}.zip ]]; then\n        echo -e \"{$RED} trojan-go安装文件下载失败，请检查网络或重试${PLAIN}\"\n        exit 1\n    fi\n}\n\ninstallTrojan() {\n    rm -rf /tmp/${ZIP_FILE}\n    unzip /tmp/${ZIP_FILE}.zip  -d /tmp/${ZIP_FILE}\n    cp /tmp/${ZIP_FILE}/trojan-go /usr/bin\n    cp /tmp/${ZIP_FILE}/example/trojan-go.service /etc/systemd/system/\n    sed -i '/User=nobody/d' /etc/systemd/system/trojan-go.service\n    systemctl daemon-reload\n\n    systemctl enable trojan-go\n    rm -rf /tmp/${ZIP_FILE}\n\n    colorEcho $BLUE \" trojan-go安装成功！\"\n}\n\nconfigTrojan() {\n    mkdir -p /etc/trojan-go\n    cat > $CONFIG_FILE <<-EOF\n{\n    \"run_type\": \"server\",\n    \"local_addr\": \"::\",\n    \"local_port\": ${PORT},\n    \"remote_addr\": \"127.0.0.1\",\n    \"remote_port\": 80,\n    \"password\": [\n        \"$PASSWORD\"\n    ],\n    \"ssl\": {\n        \"cert\": \"${CERT_FILE}\",\n        \"key\": \"${KEY_FILE}\",\n        \"sni\": \"${DOMAIN}\",\n        \"alpn\": [\n            \"http/1.1\"\n        ],\n        \"session_ticket\": true,\n        \"reuse_session\": true,\n        \"fallback_addr\": \"127.0.0.1\",\n        \"fallback_port\": 80\n    },\n    \"tcp\": {\n        \"no_delay\": true,\n        \"keep_alive\": true,\n        \"prefer_ipv4\": false\n    },\n    \"mux\": {\n        \"enabled\": false,\n        \"concurrency\": 8,\n        \"idle_timeout\": 60\n    },\n    \"websocket\": {\n        \"enabled\": ${WS},\n        \"path\": \"${WSPATH}\",\n        \"host\": \"${DOMAIN}\"\n    },\n    \"mysql\": {\n      \"enabled\": false,\n      \"server_addr\": \"localhost\",\n      \"server_port\": 3306,\n      \"database\": \"\",\n      \"username\": \"\",\n      \"password\": \"\",\n      \"check_rate\": 60\n    }\n}\nEOF\n}\n\nsetSelinux() {\n    if [[ -s /etc/selinux/config ]] && grep 'SELINUX=enforcing' /etc/selinux/config; then\n        sed -i 's/SELINUX=enforcing/SELINUX=permissive/g' /etc/selinux/config\n        setenforce 0\n    fi\n}\n\nsetFirewall() {\n    res=`which firewall-cmd 2>/dev/null`\n    if [[ $? -eq 0 ]]; then\n        systemctl status firewalld > /dev/null 2>&1\n        if [[ $? -eq 0 ]];then\n            firewall-cmd --permanent --add-service=http\n            firewall-cmd --permanent --add-service=https\n            if [[ \"$PORT\" != \"443\" ]]; then\n                firewall-cmd --permanent --add-port=${PORT}/tcp\n            fi\n            firewall-cmd --reload\n        else\n            nl=`iptables -nL | nl | grep FORWARD | awk '{print $1}'`\n            if [[ \"$nl\" != \"3\" ]]; then\n                iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n                iptables -I INPUT -p tcp --dport 443 -j ACCEPT\n                if [[ \"$PORT\" != \"443\" ]]; then\n                    iptables -I INPUT -p tcp --dport ${PORT} -j ACCEPT\n                fi\n            fi\n        fi\n    else\n        res=`which iptables 2>/dev/null`\n        if [[ $? -eq 0 ]]; then\n            nl=`iptables -nL | nl | grep FORWARD | awk '{print $1}'`\n            if [[ \"$nl\" != \"3\" ]]; then\n                iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n                iptables -I INPUT -p tcp --dport 443 -j ACCEPT\n                if [[ \"$PORT\" != \"443\" ]]; then\n                    iptables -I INPUT -p tcp --dport ${PORT} -j ACCEPT\n                fi\n            fi\n        else\n            res=`which ufw 2>/dev/null`\n            if [[ $? -eq 0 ]]; then\n                res=`ufw status | grep -i inactive`\n                if [[ \"$res\" = \"\" ]]; then\n                    ufw allow http/tcp\n                    ufw allow https/tcp\n                    if [[ \"$PORT\" != \"443\" ]]; then\n                        ufw allow ${PORT}/tcp\n                    fi\n                fi\n            fi\n        fi\n    fi\n}\n\ninstallBBR() {\n    if [[ \"$NEED_BBR\" != \"y\" ]]; then\n        INSTALL_BBR=false\n        return\n    fi\n    result=$(lsmod | grep bbr)\n    if [[ \"$result\" != \"\" ]]; then\n        echo \" BBR模块已安装\"\n        INSTALL_BBR=false\n        return\n    fi\n    res=`hostnamectl | grep -i openvz`\n    if [[ \"$res\" != \"\" ]]; then\n        echo  \" openvz机器，跳过安装\"\n        INSTALL_BBR=false\n        return\n    fi\n    \n    echo \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf\n    echo \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf\n    sysctl -p\n    result=$(lsmod | grep bbr)\n    if [[ \"$result\" != \"\" ]]; then\n        echo \" BBR模块已启用\"\n        INSTALL_BBR=false\n        return\n    fi\n\n    colorEcho $BLUE \" 安装BBR模块...\"\n    if [[ \"$PMT\" = \"yum\" ]]; then\n        if [[ \"$V6_PROXY\" = \"\" ]]; then\n            rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n            rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm\n            $CMD_INSTALL --enablerepo=elrepo-kernel kernel-ml\n            $CMD_REMOVE kernel-3.*\n            grub2-set-default 0\n            echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n            INSTALL_BBR=true\n        fi\n    else\n        $CMD_INSTALL --install-recommends linux-generic-hwe-16.04\n        grub-set-default 0\n        echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n        INSTALL_BBR=true\n    fi\n}\n\ninstall() {\n    getData\n\n    $PMT clean all\n    [[ \"$PMT\" = \"apt\" ]] && $PMT update\n    #echo $CMD_UPGRADE | bash\n    $CMD_INSTALL wget vim unzip tar gcc openssl\n    $CMD_INSTALL net-tools\n    if [[ \"$PMT\" = \"apt\" ]]; then\n        $CMD_INSTALL libssl-dev g++\n    fi\n    res=`which unzip 2>/dev/null`\n    if [[ $? -ne 0 ]]; then\n        echo -e \" ${RED}unzip安装失败，请检查网络${PLAIN}\"\n        exit 1\n    fi\n\n    installNginx\n    setFirewall\n    getCert\n    configNginx\n\n    echo \" 安装trojan-go...\"\n    getVersion\n    downloadFile\n    installTrojan\n    configTrojan\n\n    setSelinux\n    installBBR\n\n    start\n    showInfo\n\n    bbrReboot\n}\n\nbbrReboot() {\n    if [[ \"${INSTALL_BBR}\" == \"true\" ]]; then\n        echo  \n        echo \" 为使BBR模块生效，系统将在30秒后重启\"\n        echo  \n        echo -e \" 您可以按 ctrl + c 取消重启，稍后输入 ${RED}reboot${PLAIN} 重启系统\"\n        sleep 30\n        reboot\n    fi\n}\n\nupdate() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    echo \" 安装最新版trojan-go\"\n    getVersion\n    downloadFile\n    installTrojan\n\n    stop\n    start\n}\n\nuninstall() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    echo \"\"\n    read -p \" 确定卸载trojan-go？[y/n]：\" answer\n    if [[ \"${answer,,}\" = \"y\" ]]; then\n        domain=`grep sni $CONFIG_FILE | cut -d\\\" -f4`\n        \n        stop\n        rm -rf /etc/trojan-go\n        rm -rf /usr/bin/trojan-go\n        systemctl disable trojan-go\n        rm -rf /etc/systemd/system/trojan-go.service\n\n        if [[ \"$BT\" = \"false\" ]]; then\n            systemctl disable nginx\n            $CMD_REMOVE nginx\n            if [[ \"$PMT\" = \"apt\" ]]; then\n                $CMD_REMOVE nginx-common\n            fi\n            rm -rf /etc/nginx/nginx.conf\n            if [[ -f /etc/nginx/nginx.conf.bak ]]; then\n                mv /etc/nginx/nginx.conf.bak /etc/nginx/nginx.conf\n            fi\n        fi\n\n        rm -rf $NGINX_CONF_PATH${domain}.conf\n        ~/.acme.sh/acme.sh --uninstall\n        echo -e \" ${GREEN}trojan-go卸载成功${PLAIN}\"\n    fi\n}\n\nstart() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \"${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    stopNginx\n    startNginx\n    systemctl restart trojan-go\n    sleep 2\n    port=`grep local_port $CONFIG_FILE|cut -d: -f2| tr -d \\\",' '`\n    res=`ss -ntlp| grep ${port} | grep trojan-go`\n    if [[ \"$res\" = \"\" ]]; then\n        colorEcho $RED \" trojan-go启动失败，请检查端口是否被占用！\"\n    else\n        colorEcho $BLUE \" trojan-go启动成功\"\n    fi\n}\n\nstop() {\n    stopNginx\n    systemctl stop trojan-go\n    colorEcho $BLUE \" trojan-go停止成功\"\n}\n\n\nrestart() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    stop\n    start\n}\n\nreconfig() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    line1=`grep -n 'websocket' $CONFIG_FILE  | head -n1 | cut -d: -f1`\n    line11=`expr $line1 + 1`\n    WS=`sed -n \"${line11}p\" $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n    getData true\n    configTrojan\n    setFirewall\n    getCert\n    configNginx\n    stop\n    start\n    showInfo\n\n    bbrReboot\n}\n\n\nshowInfo() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    domain=`grep sni $CONFIG_FILE | cut -d\\\" -f4`\n    port=`grep local_port $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n    line1=`grep -n 'password' $CONFIG_FILE  | head -n1 | cut -d: -f1`\n    line11=`expr $line1 + 1`\n    password=`sed -n \"${line11}p\" $CONFIG_FILE | tr -d \\\"' '`\n    line1=`grep -n 'websocket' $CONFIG_FILE  | head -n1 | cut -d: -f1`\n    line11=`expr $line1 + 1`\n    ws=`sed -n \"${line11}p\" $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n    echo \"\"\n    echo -n \" trojan-go运行状态：\"\n    statusText\n    echo \"\"\n    echo -e \" ${BLUE}trojan-go配置文件: ${PLAIN} ${RED}${CONFIG_FILE}${PLAIN}\"\n    echo -e \" ${BLUE}trojan-go配置信息：${PLAIN}\"\n    echo -e \"   IP：${RED}$IP${PLAIN}\"\n    echo -e \"   伪装域名/主机名(host)/SNI/peer名称：${RED}$domain${PLAIN}\"\n    echo -e \"   端口(port)：${RED}$port${PLAIN}\"\n    echo -e \"   密码(password)：${RED}$password${PLAIN}\"\n    if [[ $ws = \"true\" ]]; then\n        echo -e \"   websocket：${RED}true${PLAIN}\"\n        wspath=`grep path $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n        echo -e \"   ws路径(ws path)：${RED}${wspath}${PLAIN}\"\n    fi\n    echo \"\"\n}\n\nshowLog() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \"${RED}trojan-go未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    journalctl -xen -u trojan-go --no-pager\n}\n\nmenu() {\n    clear\n    echo \"#############################################################\"\n    echo -e \"#                    ${RED}trojan-go一键安装脚本${PLAIN}                  #\"\n    echo -e \"# ${GREEN}作者${PLAIN}: 网络跳越(hijk)                                      #\"\n    echo -e \"# ${GREEN}网址${PLAIN}: https://hijk.art                                    #\"\n    echo -e \"# ${GREEN}论坛${PLAIN}: https://hijk.club                                   #\"\n    echo -e \"# ${GREEN}TG群${PLAIN}: https://t.me/hijkclub                               #\"\n    echo -e \"# ${GREEN}Youtube频道${PLAIN}: https://youtube.com/channel/UCYTB--VsObzepVJtc9yvUxQ #\"\n    echo \"#############################################################\"\n    echo \"\"\n\n    echo -e \"  ${GREEN}1.${PLAIN}  安装trojan-go\"\n    echo -e \"  ${GREEN}2.${PLAIN}  安装trojan-go+WS\"\n    echo -e \"  ${GREEN}3.${PLAIN}  更新trojan-go\"\n    echo -e \"  ${GREEN}4.  ${RED}卸载trojan-go${PLAIN}\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}5.${PLAIN}  启动trojan-go\"\n    echo -e \"  ${GREEN}6.${PLAIN}  重启trojan-go\"\n    echo -e \"  ${GREEN}7.${PLAIN}  停止trojan-go\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}8.${PLAIN}  查看trojan-go配置\"\n    echo -e \"  ${GREEN}9.  ${RED}修改trojan-go配置${PLAIN}\"\n    echo -e \"  ${GREEN}10.${PLAIN} 查看trojan-go日志\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}0.${PLAIN} 退出\"\n    echo \n    echo -n \" 当前状态：\"\n    statusText\n    echo \n\n    read -p \" 请选择操作[0-10]：\" answer\n    case $answer in\n        0)\n            exit 0\n            ;;\n        1)\n            install\n            ;;\n        2)\n            WS=\"true\"\n            install\n            ;;\n        3)\n            update\n            ;;\n        4)\n            uninstall\n            ;;\n        5)\n            start\n            ;;\n        6)\n            restart\n            ;;\n        7)\n            stop\n            ;;\n        8)\n            showInfo\n            ;;\n        9)\n            reconfig\n            ;;\n        10)\n            showLog\n            ;;\n        *)\n            echo -e \"$RED 请选择正确的操作！${PLAIN}\"\n            exit 1\n            ;;\n    esac\n}\n\ncheckSystem\n\naction=$1\n[[ -z $1 ]] && action=menu\ncase \"$action\" in\n    menu|update|uninstall|start|restart|stop|showInfo|showLog)\n        ${action}\n        ;;\n    *)\n        echo \" 参数错误\"\n        echo \" 用法: `basename $0` [menu|update|uninstall|start|restart|stop|showInfo|showLog]\"\n        ;;\nesac\n"
        },
        {
          "name": "trojan.sh",
          "type": "blob",
          "size": 26.6064453125,
          "content": "#!/bin/bash\n# trojan一键安装脚本\n# Author: hijk<https://hijk.art>\n\nRED=\"\\033[31m\"      # Error message\nGREEN=\"\\033[32m\"    # Success message\nYELLOW=\"\\033[33m\"   # Warning message\nBLUE=\"\\033[36m\"     # Info message\nPLAIN='\\033[0m'\n\nOS=`hostnamectl | grep -i system | cut -d: -f2`\n\nV6_PROXY=\"\"\nIP=`curl -sL -4 ip.sb`\nif [[ \"$?\" != \"0\" ]]; then\n    IP=`curl -sL -6 ip.sb`\n    V6_PROXY=\"https://gh.hijk.art/\"\nfi\n\nBT=\"false\"\nNGINX_CONF_PATH=\"/etc/nginx/conf.d/\"\nres=`which bt 2>/dev/null`\nif [[ \"$res\" != \"\" ]]; then\n    BT=\"true\"\n    NGINX_CONF_PATH=\"/www/server/panel/vhost/nginx/\"\nfi\n\n# 以下网站是随机从Google上找到的无广告小说网站，不喜欢请改成其他网址，以http或https开头\n# 搭建好后无法打开伪装域名，可能是反代小说网站挂了，请在网站留言，或者Github发issue，以便替换新的网站\nSITES=(\nhttp://www.zhuizishu.com/\nhttp://xs.56dyc.com/\n#http://www.xiaoshuosk.com/\n#https://www.quledu.net/\nhttp://www.ddxsku.com/\nhttp://www.biqu6.com/\nhttps://www.wenshulou.cc/\n#http://www.auutea.com/\nhttp://www.55shuba.com/\nhttp://www.39shubao.com/\nhttps://www.23xsw.cc/\n#https://www.huanbige.com/\nhttps://www.jueshitangmen.info/\nhttps://www.zhetian.org/\nhttp://www.bequgexs.com/\nhttp://www.tjwl.com/\n)\n\nCONFIG_FILE=/usr/local/etc/trojan/config.json\n\ncolorEcho() {\n    echo -e \"${1}${@:2}${PLAIN}\"\n}\n\nfunction checkSystem()\n{\n    result=$(id | awk '{print $1}')\n    if [ $result != \"uid=0(root)\" ]; then\n        colorEcho $RED \" 请以root身份执行该脚本\"\n        exit 1\n    fi\n\n    res=`which yum 2>/dev/null`\n    if [ \"$?\" != \"0\" ]; then\n        res=`which apt 2>/dev/null`\n        if [ \"$?\" != \"0\" ]; then\n            colorEcho $RED \" 不受支持的Linux系统\"\n            exit 1\n        fi\n        PMT=apt\n        CMD_INSTALL=\"apt install -y \"\n        CMD_REMOVE=\"apt remove -y \"\n        CMD_UPGRADE=\"apt update; apt upgrade -y; apt autoremove -y\"\n    else\n        PMT=yum\n        CMD_INSTALL=\"yum install -y \"\n        CMD_REMOVE=\"yum remove -y \"\n        CMD_UPGRADE=\"yum update -y\"\n    fi\n    res=`which systemctl 2>/dev/null`\n    if [ \"$?\" != \"0\" ]; then\n        colorEcho $RED \" 系统版本过低，请升级到最新版本\"\n        exit 1\n    fi\n}\n\nstatus() {\n    if [[ ! -f /usr/local/bin/trojan ]]; then\n        echo 0\n        return\n    fi\n\n    if [[ ! -f $CONFIG_FILE ]]; then\n        echo 1\n        return\n    fi\n    port=`grep local_port $CONFIG_FILE|cut -d: -f2| tr -d \\\",' '`\n    res=`ss -ntlp| grep ${port} | grep trojan`\n    if [[ -z \"$res\" ]]; then\n        echo 2\n    else\n        echo 3\n    fi\n}\n\nstatusText() {\n    res=`status`\n    case $res in\n        2)\n            echo -e ${GREEN}已安装${PLAIN} ${RED}未运行${PLAIN}\n            ;;\n        3)\n            echo -e ${GREEN}已安装${PLAIN} ${GREEN}正在运行${PLAIN}\n            ;;\n        *)\n            echo -e ${RED}未安装${PLAIN}\n            ;;\n    esac\n}\n\nfunction getData()\n{\n    echo \" \"\n    echo \" 本脚本为trojan一键脚本，运行之前请确认如下条件已经具备：\"\n    echo -e \"  ${RED}1. 一个伪装域名${PLAIN}\"\n    echo -e \"  ${RED}2. 伪装域名DNS解析指向当前服务器ip（${IP}）${PLAIN}\"\n    echo -e \"  3. 如果/root目录下有 ${GREEN}trojan.pem${PLAIN} 和 ${GREEN}trojan.key${PLAIN} 证书密钥文件，无需理会条件2\"\n    echo \" \"\n    read -p \" 确认满足按y，按其他退出脚本：\" answer\n    if [ \"${answer}\" != \"y\" ] && [ \"${answer}\" != \"Y\" ]; then\n        exit 0\n    fi\n\n    echo \"\"\n    while true\n    do\n        read -p \" 请输入伪装域名：\" DOMAIN\n        if [ -z \"${DOMAIN}\" ]; then\n            echo \" 域名输入错误，请重新输入！\"\n        else\n            break\n        fi\n    done\n    DOMAIN=${DOMAIN,,}\n    colorEcho $BLUE \" 伪装域名(host)： $DOMAIN\"\n\n    echo \"\"\n    if [[ -f ~/trojan.pem && -f ~/trojan.key ]]; then\n        echo -e \"${GREEN} 检测到自有证书，将使用其部署${PLAIN}\"\n        echo \n        CERT_FILE=\"/usr/local/etc/trojan/${DOMAIN}.pem\"\n        KEY_FILE=\"/usr/local/etc/trojan/${DOMAIN}.key\"\n    else\n        resolve=`curl -sL https://lefu.men/hostip.php?d=${DOMAIN}`\n        res=`echo -n ${resolve} | grep ${IP}`\n        if [[ -z \"${res}\" ]]; then\n            echo \" ${DOMAIN} 解析结果：${resolve}\"\n            echo -e \" ${RED}域名未解析到当前服务器IP(${IP})!${PLAIN}\"\n            exit 1\n        fi\n    fi\n\n    echo \"\"\n    read -p \" 请设置trojan密码（不输入则随机生成）:\" PASSWORD\n    [ -z \"$PASSWORD\" ] && PASSWORD=`cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 16 | head -n 1`\n    colorEcho $BLUE \" 密码： \" $PASSWORD\n\n    echo \"\"\n    read -p \" 请输入trojan端口[100-65535的一个数字，默认443]：\" PORT\n    [ -z \"${PORT}\" ] && PORT=443\n    if [ \"${PORT:0:1}\" = \"0\" ]; then\n        echo -e \" ${RED}端口不能以0开头${PLAIN}\"\n        exit 1\n    fi\n    colorEcho $BLUE \" trojan端口： \" $PORT\n\n    echo \"\"\n    colorEcho $BLUE \" 请选择伪装站类型:\"\n    echo \"   1) 静态网站(位于/usr/share/nginx/html)\"\n    echo \"   2) 小说站(随机选择)\"\n    echo \"   3) 美女站(https://imeizi.me)\"\n    echo \"   4) VPS优惠博客(https://www.lowendtalk.com)\"\n    echo \"   5) 自定义反代站点(需以http或者https开头)\"\n    read -p \"  请选择伪装网站类型[默认:美女站]\" answer\n    if [[ -z \"$answer\" ]]; then\n        PROXY_URL=\"https://imeizi.me\"\n    else\n        case $answer in\n        1)\n            PROXY_URL=\"\"\n            ;;\n        2)\n            len=${#SITES[@]}\n            ((len--))\n            index=`shuf -i0-${len} -n1`\n            PROXY_URL=${SITES[$index]}\n            ;;\n        3)\n            PROXY_URL=\"https://imeizi.me\"\n            ;;\n        4)\n            PROXY_URL=\"https://www.lowendtalk.com\"\n            ;;\n        5)\n            read -p \" 请输入反代站点(以http或者https开头)：\" PROXY_URL\n            if [[ -z \"$PROXY_URL\" ]]; then\n                colorEcho $RED \" 请输入反代网站！\"\n                exit 1\n            elif [[ \"${PROXY_URL:0:4}\" != \"http\" ]]; then\n                colorEcho $RED \" 反代网站必须以http或https开头！\"\n                exit 1\n            fi\n            ;;\n        *)\n            colorEcho $RED \" 请输入正确的选项！\"\n            exit 1\n        esac\n    fi\n    REMOTE_HOST=`echo ${PROXY_URL} | cut -d/ -f3`\n    echo \"\"\n    colorEcho $BLUE \" 伪装域名：$PROXY_URL\"\n\n    echo \"\"\n    colorEcho $BLUE \"  是否允许搜索引擎爬取网站？[默认：不允许]\"\n    echo \"    y)允许，会有更多ip请求网站，但会消耗一些流量，vps流量充足情况下推荐使用\"\n    echo \"    n)不允许，爬虫不会访问网站，访问ip比较单一，但能节省vps流量\"\n    read -p \"  请选择：[y/n]\" answer\n    if [[ -z \"$answer\" ]]; then\n        ALLOW_SPIDER=\"n\"\n    elif [[ \"${answer,,}\" = \"y\" ]]; then\n        ALLOW_SPIDER=\"y\"\n    else\n        ALLOW_SPIDER=\"n\"\n    fi\n    echo \"\"\n    colorEcho $BLUE \" 允许搜索引擎：$ALLOW_SPIDER\"\n\n    echo \"\"\n    read -p \"  是否安装BBR(默认安装)?[y/n]:\" NEED_BBR\n    [ -z \"$NEED_BBR\" ] && NEED_BBR=y\n    [ \"$NEED_BBR\" = \"Y\" ] && NEED_BBR=y\n    colorEcho $BLUE \" 安装BBR：$NEED_BBR\"\n}\n\nfunction preinstall()\n{\n    $PMT clean all\n    [[ \"$PMT\" = \"apt\" ]] && $PMT update\n    #colorEcho $BLUE \" 更新系统...\"\n    #echo $CMD_UPGRADE | bash\n\n    colorEcho $BLUE \" 安装必要软件\"\n    if [[ \"$PMT\" = \"yum\" ]]; then\n        $CMD_INSTALL epel-release\n    fi\n    $CMD_INSTALL wget vim unzip tar gcc openssl\n    $CMD_INSTALL net-tools\n    if [[ \"$PMT\" = \"apt\" ]]; then\n        $CMD_INSTALL libssl-dev g++\n    fi\n\n    if [[ -s /etc/selinux/config ]] && grep 'SELINUX=enforcing' /etc/selinux/config; then\n        sed -i 's/SELINUX=enforcing/SELINUX=permissive/g' /etc/selinux/config\n        setenforce 0\n    fi\n}\n\nfunction installTrojan()\n{\n    colorEcho $BLUE \" 安装最新版trojan...\"\n    rm -rf $CONFIG_FILE\n    rm -rf /etc/systemd/system/trojan.service\n\n    NAME=trojan\n    VERSION=`curl -fsSL ${V6_PROXY}https://api.github.com/repos/trojan-gfw/trojan/releases/latest | grep tag_name | sed -E 's/.*\"v(.*)\".*/\\1/'`\n    TARBALL=\"$NAME-$VERSION-linux-amd64.tar.xz\"\n    DOWNLOADURL=\"${V6_PROXY}https://github.com/trojan-gfw/$NAME/releases/download/v$VERSION/$TARBALL\"\n    TMPDIR=\"$(mktemp -d)\"\n    INSTALLPREFIX=/usr/local\n    SYSTEMDPREFIX=/etc/systemd/system\n\n    BINARYPATH=\"$INSTALLPREFIX/bin/$NAME\"\n    CONFIGPATH=\"$INSTALLPREFIX/etc/$NAME/config.json\"\n    SYSTEMDPATH=\"$SYSTEMDPREFIX/$NAME.service\"\n\n    echo Entering temp directory $TMPDIR...\n    cd \"$TMPDIR\"\n\n    echo Downloading $NAME $VERSION...\n    curl -LO --progress-bar \"$DOWNLOADURL\" || wget -q --show-progress \"$DOWNLOADURL\"\n\n    echo Unpacking $NAME $VERSION...\n    tar xf \"$TARBALL\"\n    cd \"$NAME\"\n\n    echo Installing $NAME $VERSION to $BINARYPATH...\n    cp \"$NAME\" \"$BINARYPATH\"\n    chmod 755 \"$BINARYPATH\"\n\n    mkdir -p $INSTALLPREFIX/etc/$NAME\n\n    echo Installing $NAME systemd service to $SYSTEMDPATH...\n    cat > \"$SYSTEMDPATH\" << EOF\n[Unit]\nDescription=$NAME\nDocumentation=https://trojan-gfw.github.io/$NAME/config https://trojan-gfw.github.io/$NAME/\nAfter=network.target network-online.target nss-lookup.target mysql.service mariadb.service mysqld.service\n\n[Service]\nType=simple\nStandardError=journal\nExecStart=\"$BINARYPATH\" \"$CONFIGPATH\"\nExecReload=/bin/kill -HUP \\$MAINPID\nLimitNOFILE=51200\nRestart=on-failure\nRestartSec=1s\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n    echo Reloading systemd daemon...\n    systemctl daemon-reload\n\n    echo Deleting temp directory $TMPDIR...\n    rm -rf \"$TMPDIR\"\n\n    echo Done!\n\n    if [[ ! -f \"$BINARYPATH\" ]]; then\n        colorEcho $RED \" $OS 安装trojan失败，请到 https://hijk.art 反馈\"\n        exit 1\n    fi\n\n    systemctl enable trojan\n    colorEcho $GREEN \" trojan安装成功！\"\n}\n\nconfigTrojan() {\n    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\n    cat >$CONFIG_FILE<<-EOF\n{\n    \"run_type\": \"server\",\n    \"local_addr\": \"::\",\n    \"local_port\": ${PORT},\n    \"remote_addr\": \"127.0.0.1\",\n    \"remote_port\": 80,\n    \"password\": [\n        \"$PASSWORD\"\n    ],\n    \"log_level\": 1,\n    \"ssl\": {\n        \"cert\": \"$CERT_FILE\",\n        \"key\": \"$KEY_FILE\",\n        \"key_password\": \"\",\n\t    \"sni\": \"$DOMAIN\",\n        \"cipher\": \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384\",\n        \"cipher_tls13\": \"TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_256_GCM_SHA384\",\n        \"prefer_server_cipher\": true,\n        \"alpn\": [\n            \"http/1.1\", \"h2\"\n        ],\n        \"alpn_port_override\": {\n            \"h2\": 81\n        },\n        \"reuse_session\": true,\n        \"session_ticket\": false,\n        \"session_timeout\": 600,\n        \"plain_http_response\": \"\",\n        \"curves\": \"\",\n        \"dhparam\": \"\"\n    },\n    \"tcp\": {\n        \"prefer_ipv4\": false,\n        \"no_delay\": true,\n        \"keep_alive\": true,\n        \"reuse_port\": false,\n        \"fast_open\": false,\n        \"fast_open_qlen\": 20\n    },\n    \"mysql\": {\n        \"enabled\": false,\n        \"server_addr\": \"127.0.0.1\",\n        \"server_port\": 3306,\n        \"database\": \"trojan\",\n        \"username\": \"trojan\",\n        \"password\": \"\",\n        \"key\": \"\",\n        \"cert\": \"\",\n        \"ca\": \"\"\n    }\n}\nEOF\n}\n\ngetCert() {\n    mkdir -p /usr/local/etc/trojan\n    if [[ -z ${CERT_FILE+x} ]]; then\n        stopNginx\n        res=`netstat -ntlp| grep -E ':80 |:443 '`\n        if [[ \"${res}\" != \"\" ]]; then\n            colorEcho $RED \" 其他进程占用了80或443端口，请先关闭再运行一键脚本\"\n            echo \" 端口占用信息如下：\"\n            echo ${res}\n            exit 1\n        fi\n\n        $CMD_INSTALL socat openssl\n        if [[ \"$PMT\" = \"yum\" ]]; then\n            $CMD_INSTALL cronie\n            systemctl start crond\n            systemctl enable crond\n        else\n            $CMD_INSTALL cron\n            systemctl start cron\n            systemctl enable cron\n        fi\n        curl -sL https://get.acme.sh | sh -s email=hijk.pw@protonmail.sh\n        source ~/.bashrc\n        ~/.acme.sh/acme.sh  --upgrade  --auto-upgrade --force\n        ~/.acme.sh/acme.sh --set-default-ca --server letsencrypt --force\n        if [[ \"$BT\" = \"false\" ]]; then\n            ~/.acme.sh/acme.sh   --issue -d $DOMAIN --keylength ec-256 --pre-hook \"systemctl stop nginx\" --post-hook \"systemctl restart nginx\"  --standalone\n        else\n            ~/.acme.sh/acme.sh   --issue -d $DOMAIN --keylength ec-256 --pre-hook \"nginx -s stop || { echo -n ''; }\" --post-hook \"nginx -c /www/server/nginx/conf/nginx.conf || { echo -n ''; }\"  --standalone\n        fi\n        [[ -f ~/.acme.sh/${DOMAIN}_ecc/ca.cer ]] || {\n            colorEcho $RED \" 获取证书失败，请复制上面的红色文字到 https://hijk.art 反馈\"\n            exit 1\n        }\n        CERT_FILE=\"/usr/local/etc/trojan/${DOMAIN}.pem\"\n        KEY_FILE=\"/usr/local/etc/trojan/${DOMAIN}.key\"\n        ~/.acme.sh/acme.sh  --install-cert -d $DOMAIN --ecc \\\n            --key-file       $KEY_FILE  \\\n            --fullchain-file $CERT_FILE \\\n            --reloadcmd     \"service nginx force-reload\"\n        [[ -f $CERT_FILE && -f $KEY_FILE ]] || {\n            colorEcho $RED \" 获取证书失败，请到 https://hijk.art 反馈\"\n            exit 1\n        }\n    else\n        cp ~/trojan.pem /usr/local/etc/trojan/${DOMAIN}.pem\n        cp ~/trojan.key /usr/local/etc/trojan/${DOMAIN}.key\n    fi\n}\n\nfunction installNginx()\n{\n    colorEcho $BLUE \" 安装nginx...\"\n    if [[ \"$BT\" = \"false\" ]]; then\n        if [[ \"$PMT\" = \"yum\" ]]; then\n            $CMD_INSTALL epel-release\n            if [[ \"$?\" != \"0\" ]]; then\n                echo '[nginx-stable]\nname=nginx stable repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=1\nenabled=1\ngpgkey=https://nginx.org/keys/nginx_signing.key\nmodule_hotfixes=true' > /etc/yum.repos.d/nginx.repo\n            fi\n        fi\n        $CMD_INSTALL nginx\n        if [[ \"$?\" != \"0\" ]]; then\n            colorEcho $RED \" Nginx安装失败，请到 https://hijk.art 反馈\"\n            exit 1\n        fi\n        systemctl enable nginx\n    else\n        res=`which nginx 2>/dev/null`\n        if [[ \"$?\" != \"0\" ]]; then\n            colorEcho $RED \" 您安装了宝塔，请在宝塔后台安装nginx后再运行本脚本\"\n            exit 1\n        fi\n    fi\n}\n\nconfigNginx() {\n    mkdir -p /usr/share/nginx/html\n    if [[ \"$ALLOW_SPIDER\" = \"n\" ]]; then\n        echo 'User-Agent: *' > /usr/share/nginx/html/robots.txt\n        echo 'Disallow: /' >> /usr/share/nginx/html/robots.txt\n        ROBOT_CONFIG=\"    location = /robots.txt {}\"\n    else\n        ROBOT_CONFIG=\"\"\n    fi\n\n    if [[ \"$BT\" = \"false\" ]]; then\n        if [ ! -f /etc/nginx/nginx.conf.bak ]; then\n            mv /etc/nginx/nginx.conf /etc/nginx/nginx.conf.bak\n        fi\n        res=`id nginx 2>/dev/null`\n        if [[ \"$?\" != \"0\" ]]; then\n            user=\"www-data\"\n        else\n            user=\"nginx\"\n        fi\n        cat > /etc/nginx/nginx.conf<<-EOF\nuser $user;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\n# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    log_format  main  '\\$remote_addr - \\$remote_user [\\$time_local] \"\\$request\" '\n                      '\\$status \\$body_bytes_sent \"\\$http_referer\" '\n                      '\"\\$http_user_agent\" \"\\$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile            on;\n    tcp_nopush          on;\n    tcp_nodelay         on;\n    keepalive_timeout   65;\n    types_hash_max_size 2048;\n    gzip                on;\n\n    include             /etc/nginx/mime.types;\n    default_type        application/octet-stream;\n\n    # Load modular configuration files from the /etc/nginx/conf.d directory.\n    # See http://nginx.org/en/docs/ngx_core_module.html#include\n    # for more information.\n    include /etc/nginx/conf.d/*.conf;\n}\nEOF\n    fi\n\n    mkdir -p $NGINX_CONF_PATH\n    if [[ \"$PROXY_URL\" = \"\" ]]; then\n        cat > $NGINX_CONF_PATH${DOMAIN}.conf<<-EOF\nserver {\n    listen 80;\n    listen [::]:80;\n    listen 81 http2;\n    server_name ${DOMAIN};\n    root /usr/share/nginx/html;\n\n    $ROBOT_CONFIG\n}\nEOF\n    else\n        cat > $NGINX_CONF_PATH${DOMAIN}.conf<<-EOF\nserver {\n    listen 80;\n    listen [::]:80;\n    listen 81 http2;\n    server_name ${DOMAIN};\n    root /usr/share/nginx/html;\n    location / {\n        proxy_ssl_server_name on;\n        proxy_pass $PROXY_URL;\n        proxy_set_header Accept-Encoding '';\n        sub_filter \"$REMOTE_HOST\" \"$DOMAIN\";\n        sub_filter_once off;\n    }\n    \n    $ROBOT_CONFIG\n}\nEOF\n    fi\n}\n\nstartNginx() {\n    if [[ \"$BT\" = \"false\" ]]; then\n        systemctl start nginx\n    else\n        nginx -c /www/server/nginx/conf/nginx.conf\n    fi\n}\n\nstopNginx() {\n    if [[ \"$BT\" = \"false\" ]]; then\n        systemctl stop nginx\n    else\n        res=`ps aux | grep -i nginx`\n        if [[ \"$res\" != \"\" ]]; then\n            nginx -s stop\n        fi\n    fi\n}\n\nfunction setFirewall()\n{\n    res=`which firewall-cmd 2>/dev/null`\n    if [[ $? -eq 0 ]]; then\n        systemctl status firewalld > /dev/null 2>&1\n        if [[ $? -eq 0 ]];then\n            firewall-cmd --permanent --add-service=http\n            firewall-cmd --permanent --add-service=https\n            if [[ \"$PORT\" != \"443\" ]]; then\n                firewall-cmd --permanent --add-port=${PORT}/tcp\n            fi\n            firewall-cmd --reload\n        else\n            nl=`iptables -nL | nl | grep FORWARD | awk '{print $1}'`\n            if [[ \"$nl\" != \"3\" ]]; then\n                iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n                iptables -I INPUT -p tcp --dport 443 -j ACCEPT\n                if [[ \"$PORT\" != \"443\" ]]; then\n                    iptables -I INPUT -p tcp --dport ${PORT} -j ACCEPT\n                fi\n            fi\n        fi\n    else\n        res=`which iptables 2>/dev/null`\n        if [[ $? -eq 0 ]]; then\n            nl=`iptables -nL | nl | grep FORWARD | awk '{print $1}'`\n            if [[ \"$nl\" != \"3\" ]]; then\n                iptables -I INPUT -p tcp --dport 80 -j ACCEPT\n                iptables -I INPUT -p tcp --dport 443 -j ACCEPT\n                if [[ \"$PORT\" != \"443\" ]]; then\n                    iptables -I INPUT -p tcp --dport ${PORT} -j ACCEPT\n                fi\n            fi\n        else\n            res=`which ufw 2>/dev/null`\n            if [[ $? -eq 0 ]]; then\n                res=`ufw status | grep -i inactive`\n                if [[ \"$res\" = \"\" ]]; then\n                    ufw allow http/tcp\n                    ufw allow https/tcp\n                    if [[ \"$PORT\" != \"443\" ]]; then\n                        ufw allow ${PORT}/tcp\n                    fi\n                fi\n            fi\n        fi\n    fi\n}\n\nfunction installBBR()\n{\n    if [ \"$NEED_BBR\" != \"y\" ]; then\n        INSTALL_BBR=false\n        return\n    fi\n\n    result=$(lsmod | grep bbr)\n    if [ \"$result\" != \"\" ]; then\n        colorEcho $YELLOW \" BBR模块已安装\"\n        INSTALL_BBR=false\n        return;\n    fi\n    res=`hostnamectl | grep -i openvz`\n    if [ \"$res\" != \"\" ]; then\n        colorEcho $YELLOW \" openvz机器，跳过安装\"\n        INSTALL_BBR=false\n        return\n    fi\n    \n    echo \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf\n    echo \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf\n    sysctl -p\n    result=$(lsmod | grep bbr)\n    if [[ \"$result\" != \"\" ]]; then\n        colorEcho $GREEN \" BBR模块已启用\"\n        INSTALL_BBR=false\n        return\n    fi\n\n    colorEcho $BLUE \" 安装BBR模块...\"\n    if [[ \"$PMT\" = \"yum\" ]]; then\n        if [[ \"$V6_PROXY\" = \"\" ]]; then\n            rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n            rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm\n            $CMD_INSTALL --enablerepo=elrepo-kernel kernel-ml\n            $CMD_REMOVE kernel-3.*\n            grub2-set-default 0\n            echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n            INSTALL_BBR=true\n        fi\n    else\n        $CMD_INSTALL --install-recommends linux-generic-hwe-16.04\n        grub-set-default 0\n        echo \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n        INSTALL_BBR=true\n    fi\n}\n\nfunction showInfo()\n{\n    res=`netstat -nltp | grep trojan`\n    [[ -z \"$res\" ]] && status=\"${RED}已停止${PLAIN}\" || status=\"${GREEN}正在运行${PLAIN}\"\n    \n    domain=`grep sni $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n    if [[ \"$domain\" = \"\" ]]; then\n        domain=`grep -m1 cert $CONFIG_FILE | cut -d/ -f5`\n    fi\n    port=`grep local_port $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n    line1=`grep -n 'password' $CONFIG_FILE  | head -n1 | cut -d: -f1`\n    line11=`expr $line1 + 1`\n    password=`sed -n \"${line11}p\" $CONFIG_FILE | tr -d \\\",' '`\n    \n    res=`netstat -nltp | grep ${port} | grep nginx`\n    [[ -z \"$res\" ]] && ngstatus=\"${RED}已停止${PLAIN}\" || ngstatus=\"${GREEN}正在运行${PLAIN}\"\n    \n    echo ============================================\n    echo -e \" ${BLUE}trojan运行状态：${PLAIN}${status}\"\n    echo \"\"\n    echo -e \" ${BLUE}trojan配置文件：${PLAIN}${RED}$CONFIG_FILE${PLAIN}\"\n    echo -e \" ${BLUE}trojan配置信息：${PLAIN}               \"\n    echo -e \"   ${BLUE}IP/域名(address):${PLAIN}  ${RED}${domain}${PLAIN}\"\n    echo -e \"   ${BLUE}端口(port)：${PLAIN}${RED}${port}${PLAIN}\"\n    echo -e \"   ${BLUE}密码(password)：${PLAIN}${RED}$password${PLAIN}\"\n    echo  \n    echo ============================================\n}\n\nfunction bbrReboot() {\n    if [ \"${INSTALL_BBR}\" == \"true\" ]; then\n        echo \"\"\n        colorEcho $BLUE \" 为使BBR模块生效，系统将在30秒后重启\"\n        echo  \n        echo -e \" 您可以按 ctrl + c 取消重启，稍后输入 ${RED}reboot${PLAIN} 重启系统\"\n        sleep 30\n        reboot\n    fi\n}\n\n\nfunction install() {\n    getData\n    preinstall\n    installBBR\n    setFirewall\n    installNginx\n    getCert\n    configNginx\n    installTrojan\n    configTrojan\n\n    start\n    showInfo\n    bbrReboot\n}\n\nreconfig() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    getData\n    setFirewall\n    getCert\n    configNginx\n    configTrojan\n    restart\n    showInfo\n}\n\nupdate() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    installTrojan\n\n    stop\n    start\n    colorEcho $BLUE \" 成功更新到最新版trojan\"\n}\n\nstart() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \"${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n    stopNginx\n    startNginx\n    systemctl restart trojan\n    sleep 2\n    port=`grep local_port $CONFIG_FILE|cut -d: -f2| tr -d \\\",' '`\n    res=`ss -ntlp| grep ${port} | grep trojan`\n    if [[ \"$res\" = \"\" ]]; then\n         colorEcho $RED \" trojan启动失败，请检查端口是否被占用！\"\n    else\n        colorEcho $BLUE \" trojan启动成功\"\n    fi\n}\n\nstop() {\n    stopNginx\n    systemctl stop trojan\n    colorEcho $BLUE \" trojan停止成功\"\n}\n\n\nrestart() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \" ${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    stop\n    start\n}\n\nshowLog() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \"${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    journalctl -xen -u trojan --no-pager\n}\n\nfunction uninstall() {\n    res=`status`\n    if [[ $res -lt 2 ]]; then\n        echo -e \"${RED}trojan未安装，请先安装！${PLAIN}\"\n        return\n    fi\n\n    echo \"\"\n    read -p \" 确定卸载trojan？(y/n)\" answer\n    [[ -z ${answer} ]] && answer=\"n\"\n\n    if [[ \"${answer}\" == \"y\" ]] || [[ \"${answer}\" == \"Y\" ]]; then\n        domain=`grep sni $CONFIG_FILE | cut -d: -f2 | tr -d \\\",' '`\n        if [[ \"$domain\" = \"\" ]]; then\n            domain=`grep -m1 cert $CONFIG_FILE | cut -d/ -f5`\n        fi\n\n        systemctl stop trojan\n        systemctl disable trojan\n        rm -rf /usr/local/bin/trojan\n        rm -rf /usr/local/etc/trojan\n        rm -rf /etc/systemd/system/trojan.service\n\n        if [[ \"$BT\" = \"false\" ]]; then\n            $CMD_REMOVE nginx\n            if [[ \"$PMT\" = \"apt\" ]]; then\n                $CMD_REMOVE nginx-common\n            fi\n            if [[ -d /usr/share/nginx/html.bak ]]; then\n                rm -rf /usr/share/nginx/html\n                mv /usr/share/nginx/html.bak /usr/share/nginx/html\n            fi\n        fi\n        rm -rf $NGINX_CONF_PATH${domain}.conf\n        ~/.acme.sh/acme.sh --uninstall\n        colorEcho $GREEN \" trojan卸载成功\"\n    fi\n}\n\nmenu() {\n    clear\n    echo \"#############################################################\"\n    echo -e \"#                    ${RED}trojan一键安装脚本${PLAIN}                    #\"\n    echo -e \"# ${GREEN}作者${PLAIN}: 网络跳越(hijk)                                      #\"\n    echo -e \"# ${GREEN}网址${PLAIN}: https://hijk.art                                    #\"\n    echo -e \"# ${GREEN}论坛${PLAIN}: https://hijk.club                                   #\"\n    echo -e \"# ${GREEN}TG群${PLAIN}: https://t.me/hijkclub                               #\"\n    echo -e \"# ${GREEN}Youtube频道${PLAIN}: https://youtube.com/channel/UCYTB--VsObzepVJtc9yvUxQ #\"\n    echo \"#############################################################\"\n    echo \"\"\n\n    echo -e \"  ${GREEN}1.${PLAIN}  安装trojan\"\n    echo -e \"  ${GREEN}2.${PLAIN}  更新trojan\"\n    echo -e \"  ${GREEN}3.  ${RED}卸载trojan${PLAIN}\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}4.${PLAIN}  启动trojan\"\n    echo -e \"  ${GREEN}5.${PLAIN}  重启trojan\"\n    echo -e \"  ${GREEN}6.${PLAIN}  停止trojan\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}7.${PLAIN}  查看trojan配置\"\n    echo -e \"  ${GREEN}8.  ${RED}修改trojan配置${PLAIN}\"\n    echo -e \"  ${GREEN}9.${PLAIN}  查看trojan日志\"\n    echo \" -------------\"\n    echo -e \"  ${GREEN}0.${PLAIN} 退出\"\n    echo \n    echo -n \" 当前状态：\"\n    statusText\n    echo \n\n    read -p \" 请选择操作[0-10]：\" answer\n    case $answer in\n        0)\n            exit 0\n            ;;\n        1)\n            install\n            ;;\n        2)\n            update\n            ;;\n        3)\n            uninstall\n            ;;\n        4)\n            start\n            ;;\n        5)\n            restart\n            ;;\n        6)\n            stop\n            ;;\n        7)\n            showInfo\n            ;;\n        8)\n            reconfig\n            ;;\n        9)\n            showLog\n            ;;\n        *)\n            echo -e \"$RED 请选择正确的操作！${PLAIN}\"\n            exit 1\n            ;;\n    esac\n}\n\ncheckSystem\n\naction=$1\n[[ -z $1 ]] && action=menu\ncase \"$action\" in\n    menu|install|update|uninstall|start|restart|stop|showInfo|showLog)\n        ${action}\n        ;;\n    *)\n        echo \" 参数错误\"\n        echo \" 用法: `basename $0` [menu|install|update|uninstall|start|restart|stop|showInfo|showLog]\"\n        ;;\nesac\n"
        },
        {
          "name": "v2ray(WS+TLS+web).md",
          "type": "blob",
          "size": 36.37890625,
          "content": "## 前言\n\n本文是搭建V2Ray服务器（ws+tls+web）的完整教程。除了搭建V2Ray+ws+tls+web的过程，还包括配置CDN隐藏IP，打开BBR加速，以及简单配置防火墙防探测。最近（2020年初开始）防火墙加大了封杀VPN的力度，很多SS，SSR，纯VMess都开始间歇掉线，有些代理甚至直接被封IP。如果你打算自己搭建翻墙服务，强烈推荐V2Ray+ws+tls+web（CDN可选）一步到位。\n\n本文面向小白，你只要会购买虚拟主机，会使用SSH连接服务器，那么看懂本教程就毫无压力。当然如果有搭建SS/SSR的经验，就更容易看懂了。建议能看懂本教程的，尽量购买VPS自建翻墙服务。按照本文搭建实在有困难的用户，可以考虑迷雾通或其它外资VPN。\n\n不推荐使用一键脚本，很多一键脚本都存在安全隐患，轻则屏蔽掉几个网站，重则把你的服务器变成“肉鸡”（即黑客攻击别人电脑的跳板）。另外，就算用脚本搭建服务器，本文中的大部分操作，比如购买域名，配置域名解析等等，脚本无法自动完成。你恐怕还要亲自购买域名，亲自配置域名解析，亲自登录VPS执行脚本。本文中的方法只比一键脚本多出几步，但是可以大大降低安全风险。\n\n自建V2Ray服务器首先要购买VPS（虚拟主机），为避免广告嫌疑，正文中不推荐VPS，我会在评论中补充一些常见的外资VPS。一般而言，自建服务的成本远远低于机场，大多数VPS每个月花费20-30元左右，流量1TB/月，有些外资VPS价格低到10-20元，甚至每月不到10元。如果愿意折腾，还可以用免费的谷歌云。此外，自建服务没有客户端数量限制，如果多人分摊成本，价格就更便宜了。\n\nV2Ray+ws+tls+web是目前最稳定的翻墙技术之一，即使在十一也稳如泰山。和SSR的流量混淆不同，V2Ray+ws+tls用真正的https流量翻墙，没有必要做任何混淆。在防火长城看来，你的流量和不计其数的https流量没有任何区别。但是，如果有好事者主动访问你的代理服务器，就会发现一些不对劲：\n\n![img1](https://i.imgur.com/avZQgib.png)\n\n尽管流量没有任何明显的特征，但是如果墙主动访问代理服务器，会发现流量的目的地没有真正的网站，从而识破https流量的目的。使用https流量不做掩护，反而增大了IP被墙的概率。因此你需要在V2Ray服务外面加一层真网站做掩护。\n\n![img2](https://i.imgur.com/raSjDmM.png)\n\n这就是V2Ray+ws+tls再加上web的原理。在配置了真实网站之后，只有你自己知道是个代理，在别人看来是个网站（包括墙）。反过来说，V2Ray+ws+tls+web也可以看作是自建了一个网站，然后利用这个网站来翻墙。因此，如果你读完本文，不仅能学会V2Ray翻墙，还能学到一点建网站的流程。\n\n上面“https流量”的正确叫法是“tls流量”，这东西就是你平时浏览网页发出的流量。这里为了方便新手理解，叫做“https流量”。\n\n安全提示：\n\n>如果服务器之前运行过SS，SSR，V2Ray（非TLS）等服务，请确保先停止原来的代理服务，再安装V2Ray。如果不知道怎么停止，请重装VPS（在网页控制面板上点reinstall，不到一分钟就搞定）。翻墙的隐蔽性取决于最薄弱的一环，如果服务器上同时运行其它代理软件，这些代理软件依然会被墙探测到，这种情况下V2Ray+ws+tls+web并不能保证隐蔽性。\n\n自建网站看上去很复杂，其实很简单，只要按照以下步骤：\n\n1 购买域名&配置域名解析：V2Ray需要域名伪装成真正的网站，因此你需要购买一个域名，并把域名绑定到服务器的IP地址上。\n\n2 一键填写配置文件：本文已经写好了配置文件，只要把域名，UUID等信息填进去就行了。\n\n3 一键安装v2ray+nginx\n\n4 上传配置文件&一键运行\n\n5 配置客户端\n\n成功翻墙以后，还可以做以下事情进一步强化：\n\n可选1. 加固服务器\n\n可选2. 配置CDN隐藏IP\n\n可选3. 使用BBR加速\n\n下面按照以上顺序讲解配置。\n\n## 1.购买域名&配置域名解析\n\n这里从域名注册商GoDaddy购买域名，用Cloudflare提供域名解析。GoDaddy本身也提供域名解析服务，这里用Cloudflare是为了配置CDN方便。如果遇到墙加高，或者IP被墙等极端情况，只要简单的配置就可以切换成v2ray+ws+tls+web+cdn。CDN翻墙速度较慢，但是稳定性极高。\n\n可能不少新手没听说过GoDaddy和Cloudflare，这里介绍一下，GoDaddy是世界上最大的域名提供商，占据市场30%的份额。Cloudflare是世界上最大的CDN提供商，全球半数的网站都在使用Cloudflare。注册不用担心隐私泄露或钓鱼风险。\n\n注册GoDaddy和CloudFlare需要邮箱。特别注意，购买域名之后，域名服务商会公开邮箱地址。建议至少使用gmail注册，如果对隐私有较高要求，可以用Protonmail等匿名邮箱注册。\n\n1.1 注册GoDaddy\n\n点击这里进入GoDaddy的新加坡官网，全过程都有中文界面。出于安全考虑，选择邮箱注册。\n\n![img1.1.1](https://i.imgur.com/bu3N2ZK.png)\n\n1.2 选择一个域名\n\nGoDaddy和淘宝的用法完全一样。注册完成以后，回到GoDaddy首页。点击搜索框，输入一个你想要的域名，查询价格。GoDaddy会根据域名包含的词汇定价，为了降低成本，域名尽量选得随机一些，其中不要包含任何单词，我这里头滚键盘输入hrw1rdzqa7c5a8u3ibkn。\n\n![img1.2.1](https://i.imgur.com/IxWvPW8.png)\n\n可以看到不同后缀的域名价格差别很大，通常.com .net这类域名比较昂贵.website，.site，.rocks，.xyz价格较低，选一个最便宜的。这里我们选www.hrw1rdzqa7c5a8u3ibkn.website，这个域名一年不到7块钱。如果你购买时发现价格贵一些也是正常的，域名首年的价格通常不到10块钱。\n\n![img1.2.2](https://i.imgur.com/ywKsYoB.png)\n\n接下来进入购物车，隐私保护不用选。\n\n![img-reg-cf](https://i.imgur.com/8fM0rJP.png)\n\n点进入购物车，进入结算页面。GoDaddy默认选购买2年，我们的域名只用来翻墙，选1年就可以了，到时候再换。\nGoDaddy支持支付宝或信用卡付款。第一次购买域名，GoDaddy会要求你填写个人信息，这里姓名和手机号随便填一个假的就行。\n\n购买完成，刚买到的域名不会马上在域名列表里出现，一般会有一两分钟的延迟。\n接下来注册Cloudflare。GoDaddy的页面暂时不要关，一会还要回来配置域名服务器。\n\n1.3 注册CloudFlare。\n\n打开Cloudflare官网，用邮箱注册，如图。注册页面入口[https://dash.cloudflare.com/sign-up](https://dash.cloudflare.com/sign-up)\n\n![img-reg-cf](https://i.imgur.com/S2epVPg.png)\n\n接下来输入刚才购买的域名，注意这里输入的是【二级域名】。所谓二级域名，可以理解为网址去掉www。\n比如我的网站的网址是www.hrw1rdzqa7c5a8u3ibkn.website，那么这里应该输入hrw1rdzqa7c5a8u3ibkn.website，如图：\n\n![img-cf-addsite](https://i.imgur.com/Q8Q5TA9.png)\n\n点【Add Site】，把域名交给Cloudflare托管。\n\n接下来选择套餐，这里选择FREE套餐。\n\n![img-cf-selectplan](https://i.imgur.com/brAXbxG.png)\n\n点【Confirm Plan】，进入管理页面，不要关掉页面，接下来配置域名解析。\n\n\n1.4 配置域名解析\n\n配置域名解析分两步：\n\n配置域名服务器记录（也叫name server，NS记录）\n\n配置地址解析记录（也叫address，A记录）\n\nNS记录用来表明由哪台服务器对域名进行解析。从GoDaddy买到域名后，域名是由Godaddy的服务器进行解析的。我们这里把Godaddy的服务器换成Cloudflare的服务器。\n\n如图是Cloudflare的管理界面，如果你的域名之前有配置域名解析，管理界面会显示之前的记录。暂时不用管这些。\n点Continue，修改域名服务器。\n\n点【Continue with default】\n\n![img-cf-continue](https://i.imgur.com/YiZuOAP.png)\n\n接下来Cloudflare会提示你变更域名服务器，并给出了方法。\n\n![img-cf-changenameserver](https://i.imgur.com/HTUNjSb.png)\n\n画红框的部分就是Cloudflare提供的两个域名服务器，我这里是ns90.domaincontrol.com和ns91.domaincontrol.com，\n你看到的的可能和我不一样。\n\n回到GoDaddy，点击屏幕右上角的用户名，选择【我的产品】。\n\n这里可以看到你拥有的域名，点击域名旁边的【DNS】，进入DNS管理页面。\n\n![img-godaddy-dns](https://i.imgur.com/he6OqIE.png)\n\n在DNS管理界面向下拉，找到域名服务器。如图所示，这里可以看到GoDaddy提供的两个域名服务器，点击【更改】。\n\n![img-godaddy-changedns](https://i.imgur.com/LBZ5vNd.png)\n\n选择【输入我自己的域名服务器】\n\n![img-godaddy-addnameserver](https://i.imgur.com/93ic5KS.png)\n\n输入刚才Cloudflare提供的两个域名服务器，我这里是fccp.ns.cloudflare.com和xjp.ns.cloudflare.com，\n点击【保存】。\n\n![fig1.4.8](https://i.imgur.com/LUl7HAd.png)\n\n注意不要有多余的域名服务器，不是CloudFlare提供的就要删除，否则可能会出问题。\n\n接下来转移域名服务器可能需要几分钟，转移完成后会收到Cloudflare的邮件，可以先等一阵子。\n\n配置地址解析（A记录）\n转移域名服务器完成后，进入cloudflare的首页，点击右上角的【log in】，进入你的账户，如图：\n\n![img1.4.9](https://i.imgur.com/rdFD2Ke.png)\n\n点击买来的域名，进入下一步，如图：\n\n![img1.4.10](https://i.imgur.com/dMSA0xq.png)\n\n点击【DNS】按钮，进入Cloudflare的DNS管理页面，如下图：\n\n![img1.4.11](https://i.imgur.com/BCeOWfm.png)\n\n点击【Add record】，一次可以添加一条解析记录.\n\n这里简单讲解一下，如果不想了解原理，可以跳过这一部分。\n\n每条域名解析有四个部分：Type，Name，Address，TTL\n\nType是域名解析的类型，常见的几种有\n\n* A记录：即地址（Address）记录，用来指定域名的IPv4地址。如果需要将域名指向一个IP地址，就需要添加A记录。举个例子，我们要把域名www.hrw1rdzqa7c5a8u3ibkn.website指向VPS的IP地址218.30.118.6，就要添加A记录。\n* AAAA记录，指定域名的IPv6地址。\n* CNAME：即规范名字（Canonical Name）记录，俗称“别名”。如果需要把域名指向另一个域名，就要添加CNAME记录。\n* NS：域名服务器记录，如果要把域名交给其他DNS服务器解析，就需要添加NS记录。我们刚才修改的就是NS记录。\n\n接下来说明每个选项应该填什么，以及为什么这么填：\n\nName\n\n对于A记录，这里介绍三种填法\n\n* www：表示解析带www的域名，即www.hrw1rdzqa7c5a8u3ibkn.website\n* @：直接解析裸域名，即hrw1rdzqa7c5a8u3ibkn.website\n* *：表示泛解析，即匹配其他所有域名*.hrw1rdzqa7c5a8u3ibkn.website\n\nAddress\n\n这里填VPS的IP地址，我这里是218.30.118.6\n\nTTL\n\n即 Time To Live，缓存的生存时间。指本地dns缓存解析记录的时间，缓存失效后会再次获取记录。在Cloudflare里，如果配置了CDN，则这里填Auto即可；如果没有配置CDN，可以选择Auto，也可以选择一个大于1小时的值。\n\n理解了上面的内容以后，接下来添加两条A记录（如果VPS只有IPv6地址则添加AAAA记录）\n\n点一下云朵，确保云是灰色的（DNS only）。橘色云朵表示此解析记录使用CDN，灰色云朵表示不使用 CDN，点击云朵可以切换。这里不要使用CDN，否则接下来的配置会出问题。\n\n* 第一条A记录，name填www，address填服务器IP地址，TTL选择1小时。（表示解析带www的地址）\n* 第二条A记录，name填@，address填服务器IP地址，TTL选择1小时。（表示解析不带www的裸域名）\n\n填好之后的正确结果如图：\n\n![img1.4.12](https://i.imgur.com/qDKfuRy.png)\n\n注意云一定是灰色的。\n\n\n检查是否配置成功：\n配置完成后点【save】就大功告成了，可以打开windows的powershell，输入\n\n`ping www.hrw1rdzqa7c5a8u3ibkn.website`\n\n(替换成你的域名)\n\nPing一下你的域名，如果能Ping通，就说明域名解析没问题。\n\n\n## 2. 配置文件\n\nV2Ray和Nginx的配置文件这里已经写好。你需要做的就是填表格，把配置中标出的地方换成自己的内容。\n编辑配置文件可以用Windows记事本，不过推荐使用Notepad++。\n\n下载地址：\n[网页链接，直接下载链接(7.8.4)](https://notepad-plus-plus.org/downloads/)\n\n2.1 V2Ray配置文件\n\nV2Ray配置文件如下：\n\n```\n{\n\"inbound\": {\n    \"protocol\": \"vmess\",\n    \"listen\": \"127.0.0.1\",\n \"port\": 8964,\n \"settings\": {\"clients\": [\n        {\"id\": \"◆◆◆◆◆◆◆◆◆◆◆◆\"}\n    ]},\n \"streamSettings\": {\n \"network\": \"ws\",\n \"wsSettings\": {\"path\": \"/★★★★★★★★★★★★\"}\n    }\n},\n\n\"outbound\": {\"protocol\": \"freedom\"}\n}\n```\n\n是不是很短？接下来把标了符号的地方换成你自己的信息。\n\n(1)\n\n◆◆◆◆◆◆◆◆◆◆◆◆：标“◆”的地方填写UUID。\n\nUUID可以从这个网站生成：https://www.uuidgenerator.net/。只要打开或者刷新这个网页就可以得到一个UUID。\n举个例子，我生成的UUID是：\n\n>63c0042a-4a85-4d03-a488-3ba3aa002461\n\n\n(2)\n\n★★★★★★★★★★★★：标“★”的地方填写一个随机字符串。注意不要删掉前面的斜杠。\n\n“随机字符串”就是你在键盘上胡乱敲打出来的东西，比如dsfhsdjfhref。[推荐用这个网站生成一个](https://www.random.org/strings/?num=1&len=7&digits=on&upperalpha=on&loweralpha=on&unique=off&format=html&rnd=new)，只要打开或刷新网页就可以得到一个随机字符串。\n\n我用这个网站随机生成的字符串是mL7Gg8K\n\n这个随机字符串就是WebSocket路径，不要抄我这里的例子，去自己生成一个！否则会被墙探测出来。建议WebSocket路径取得长一些（5个字符以上），过于简单，过于常见的路径（比如/ray，/v2，/v2ray之类的名称），很容易被墙探测出来。\n\n填好之后的配置如下图：\n\n![img2.1.1](https://i.imgur.com/K1FEnrw.png)\n\n最后，把V2Ray的配置文件另存为config.json\n\n2.2 Nginx配置文件\n\nNginx配置文件如下：\n\n```\nserver {\n    ### 1:\n    server_name ●●●●●●●●●●●●;\n\n    listen 80;\n    rewrite ^(.*) https://$server_name$1 permanent;\n    if ($request_method  !~ ^(POST|GET)$) { return  501; }\n    autoindex off;\n    server_tokens off;\n}\n\nserver {\n    ### 2:\n    ssl_certificate /etc/letsencrypt/live/●●●●●●●●●●●●/fullchain.pem;\n\n    ### 3:\n    ssl_certificate_key /etc/letsencrypt/live/●●●●●●●●●●●●/privkey.pem;\n\n    ### 4:\n    location /★★★★★★★★★★★★\n    {\n        proxy_pass http://127.0.0.1:8964;\n        proxy_redirect off;\n\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n\n        sendfile on;\n        tcp_nopush on;\n        tcp_nodelay on;\n        keepalive_requests 25600;\n        keepalive_timeout 300 300;\n        proxy_buffering off;\n        proxy_buffer_size 8k;\n    }\n\n    listen 443 ssl http2;\n    server_name $server_name;\n    charset utf-8;\n\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!3DES:!MD5:!PSK;\n    ssl_prefer_server_ciphers on;\n\n    ssl_session_cache shared:SSL:60m;\n    ssl_session_timeout 1d;\n    ssl_session_tickets off;\n\n    ssl_stapling on;\n    ssl_stapling_verify on;\n    resolver 8.8.8.8 8.8.4.4 valid=300s;\n    resolver_timeout 10s;\n\n    # Security settings\n    if ($request_method  !~ ^(POST|GET)$) { return 501; }\n    add_header X-Frame-Options DENY;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Content-Type-Options nosniff;\n    add_header Strict-Transport-Security max-age=31536000 always;\n    autoindex off;\n    server_tokens off;\n\n    index index.html index.htm index.php;\n    root /usr/share/nginx/html;\n    location ~ .*\\.(js|jpg|JPG|jpeg|JPEG|css|bmp|gif|GIF|png)$ { access_log off; }\n}\n```\n\n看上去很长，实际上只有四处需要填写，配置文件里用#1，#2，#3，#4标出了位置，把标符号的地方换成你自己的信息。\n\n●●●●●●●●●●●●：标注“●”的地方填写域名，注意这里的域名带www\n\n这个域名就是前面购买的域名，本文中是www.hrw1rdzqa7c5a8u3ibkn.website，一共有三处需要填，都以“●”标出：\n\n(1) server_name ●●●●●●●●●●●●; 注意域名和前面的server_name保持一个空格，后面的分号“;”不要删掉。\n填好之后：（注意带www，以下皆相同）\n\n`server_name www.hrw1rdzqa7c5a8u3ibkn.website;`\n\n(2) ssl_certificate /etc/letsencrypt/live/●●●●●●●●●●●●/fullchain.pem; 两边的斜杠“/”不要删掉。\n\n填好之后：\n\n`ssl_certificate /etc/letsencrypt/live/www.hrw1rdzqa7c5a8u3ibkn.website/fullchain.pem;`\n\n(3) ssl_certificate /etc/letsencrypt/live/●●●●●●●●●●●●/fullchain.pem; 一样，两边的斜杠“/”不要删掉\n\n填好之后：\n\n`ssl_certificate /etc/letsencrypt/live/www.hrw1rdzqa7c5a8u3ibkn.website/fullchain.pem;`\n\n(4) ★★★★★★★★★★★★：标注“★”的地方填写一个随机字符串，这个随机字符串必须和V2Ray配置中的一样，不然无法工作。注意不要删掉前面的斜杠。\n\n这个例子里，此处填mL7Gg8K。\n\n填好之后的配置如下图：\n\n![img2.1.2](https://i.imgur.com/Vc5LhXw.png)\n\n最后，把Nginx的配置文件另存为default.conf（注意扩展名就是.conf）\n\n\n## 3.上传配置 & 运行\n\n3.1 连接到服务器，安装v2ray+Nginx\n\n很多新手在买到VPS之后不知所措，其实VPS和游戏账号是一样的，买游戏账号付款之后，店家会私信告诉你两件东西：\n>用户名，密码\n\n\n买VPS付款之后，VPS提供商会给你发邮件，告诉你四件东西：\n>IP地址，密码，登录账号，端口\n\n\nIP地址和密码一定会有，登录账号如果没说，默认是root。端口如果没说，默认填22.\n\n拿到登录信息之后，就可以登录服务器了。这里推荐Bitvise SSH，轻量级，但是功能强大。\n\n下载链接：[https://www.bitvise.com/ssh-client-download](https://www.bitvise.com/ssh-client-download)\n\n直接下载链接：[https://dl.bitvise.com/BvSshClient-Inst.exe](https://dl.bitvise.com/BvSshClient-Inst.exe)\n\n安装好之后的界面如下图，点红框圈起的下拉菜单，【Initial method】下拉菜单里面选【password】，在【Store encrypted password in profile】选项上打勾。\n\n![img3.1.1](https://i.imgur.com/FliqoSK.png)\n\n这里假定我们的IP地址是218.30.118.6，密码是12345，登录账号和密码分别是root和22. 如图：\n\n* 【Host】：这里填IP地址\n* 【Port】：这里填端口，如果没说就是22\n* 【Username】：这里填用户名，如果没说就是root\n* 【Password】：登录密码。\n\n填好之后如下图，点【Log in】就可以登录了。\n\n![img3.1.2](https://i.imgur.com/mWm5Oxq.png)\n\n第一次登录服务器会弹出窗口，问是否要保存密钥，点【Accept and save】继续。\n\n成功登录之后会弹出两个窗口。\n\n![img3.1.3](https://i.imgur.com/DvucZdx.png)\n\n![img3.1.4](https://i.imgur.com/UNzAKOO.png)\n\n一个是文件浏览窗口，使用方法和Windows资源管理器一样，这里可以浏览服务器上的文件。把电脑中的文件拖拽到这里，就可以把文件上传到服务器。\n\n另一个黑色的窗口是命令窗口。在电脑上复制一段文字，在这个窗口上右键，就可以把文字粘贴到命令窗口。\n\n3.2 配置SSL证书\n\n为了用真正的https流量翻墙，我们的网站必须有合法的SSL证书。可以用自动化工具Certbot申请证书，只要把以下命令复制到命令窗口，依次执行即可。\n\n这里说的“证书”，实际指的是“数字证书”。当然申请完全是免费的，申请时需要邮箱地址。如有必要，可以使用匿名邮箱。\n\n(1) 安装Certbot：\n`yum install -y python36 && pip3 install certbot`\n\n\n运行这条命令后，如果显示：\nSuccessfully installed xxxx, xxxx, xxxx (各种软件包名字)\n\n就表示成功。\n\n(2) 停止防火墙\n`systemctl stop firewalld && systemctl disable firewalld`\n\n注意，在CentOS7版本以上，默认开启防火墙，不关闭防火墙将无法申请证书。某些系统上没有安装firewalld防火墙，执行这一步命令会报错，但是不影响后面的操作。\n\n运行这条命令后，如果显示：\n>Removed /etc/systemd/system/multi-user.target.wants/firewalld.service.\nRemoved /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.\n\n就表示成功\n\n(3) 申请SSL证书\n这一步做个填空题，把这条命令里的域名和邮箱，换成你自己的信息。\n`certbot certonly --standalone --agree-tos -n -d www.●●●●●● -d ●●●●●● -m ▲▲▲@▲▲▲.▲▲▲`\n\n第一个-d加一个带www的域名，第二个-d加一个不带www的域名，-m后面加你的电子邮箱。\n\n注意前后要带空格。\n\n例子：（域名：www.hrw1rdzqa7c5a8u3ibkn.website，邮箱：xijinping@protonmail.com）\n\n```\ncertbot certonly --standalone --agree-tos -n -d www.hrw1rdzqa7c5a8u3ibkn.website -d hrw1rdzqa7c5a8u3ibkn.website -m xijinping@protonmail.com\n```\n\n运行这条命令后，如果显示：\n\n>IMPORTANT NOTES:\n- Congratulations! Your certificate and chain have been saved at:\n  /etc/letsencrypt/live/www.hrw1rdzqa7c5a8u3ibkn.website/fullchain.pem\n  Your key file has been saved at:\n  /etc/letsencrypt/live/www.hrw1rdzqa7c5a8u3ibkn.website/privkey.pem\n  Your cert will expire on 2020-06-04. To obtain a new or tweaked\n  version of this certificate in the future, simply run certbot\n  again. To non-interactively renew *all* of your certificates, run\n  \"certbot renew\"\n- Your account credentials have been saved in your Certbot\n  configuration directory at /etc/letsencrypt. You should make a\n  secure backup of this folder now. This configuration directory will\n  also contain certificates and private keys obtained by Certbot so\n  making regular backups of this folder is ideal.\n- If you like Certbot, please consider supporting our work by:\n\n > Donating to ISRG / Let's Encrypt:  https://letsencrypt.org/donate\n  Donating to EFF:                    https://eff.org\n\n\n就表示成功。\n\n注意：这一步比较容易出错，常见的问题有：\n\n* 其它代理占用了80，443端口。解决方法：停止其它代理软件，或重装VPS。\n* 没有正确配置域名解析。解决方法：ping一下域名，看看能不能正确解析到IP。注意不要打开CDN（云朵点灰）。\n* 没有关闭防火墙。解决方法：回到（2），关闭防火墙。\n\n(4) 配置证书自动更新\n`echo \"0 0 1 */2 * service nginx stop; certbot renew; service nginx start;\" | crontab`\n\n运行这条命令后，如果没有任何信息输出，就表示成功。\n\n我们申请的证书只有三个月期限，上面的命令表示每隔两个月，证书就自动续命一次，从而保证可以一直用下去。\n\n3.3 安装V2Ray和Nginx\n\n(1) 一键安装\n\nV2Ray和Nginx可以一键安装，把下列命令复制粘贴到控制台，运行即可。\n\n`yum install -y nginx && yum install -y curl && bash -c \"$(curl -L -s https://install.direct/go.sh)\"`\n\n运行这条命令后，如果最后一行显示：\nV2Ray v4.x.x is installed.\n就表示成功。（如果V2Ray安装成功，那么Nginx也一定安装成功）\n\n(2) 关闭SELinux\n\n在某些系统上，需要关闭SELinux，否则Nginx无法正常将流量转发给V2Ray，输入\n`setsebool -P httpd_can_network_connect 1 && setenforce 0`\n\n关闭SELinux，没有提示就表示成功。\n\n## 4 上传配置文件&运行\n\n安装好V2Ray和Nginx后，我们终于来到了最后一步。在启动V2Ray之前，需要把之前的配置文件上传\n\n4.1 上传配置文件\n\n这一步把第（2）步编辑好的配置文件上传就可以了。\n首先上传V2Ray的配置文件，V2Ray的配置文件存储在\n\n`/etc/v2ray`\n\n目录下，把上面这个路径，复制到文件管理器的路径栏，回车，即可跳转到该目录下。如图：\n\n![img4.1.1](https://i.imgur.com/Cj92ghh.png)\n\n可以看到这里已经有一个config.json文件了，这是V2Ray安装时自动生成的。接下来的操作和Windows一样，把你编辑好的config.json拖拽到这里，就可以上传了。\n\n文件管理器会提示你存在同名文件，选择【Overwrite】覆盖原来的文件即可。\n\n![img4.1.2](https://i.imgur.com/n0Uqnj7.png)\n\n上传完成好以后，最好再验证一下，输入\n\n`/usr/bin/v2ray/v2ray -test -config=/etc/v2ray/config.json`\n\n如果显示：\n\n>V2Ray 4.x.x (V2Fly, a community-driven edition of V2Ray.)\n>\n>A unified platform for anti-censorship.\n>\n>Configuration OK.\n\n\n说明配置没有问题。\n\n然后按同样的步骤上传nginx配置文件，Nginx的配置文件存储在\n\n`/etc/nginx/conf.d`\n\n目录下，转到这个目录，拖拽上传你编辑的default.conf文件即可。\n\n再验证一下Nginx配置是否正确，输入：\n\n`nginx -t`\n\n如果显示：\n\n>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /etc/nginx/nginx.conf test is successful\n\n\n说明配置没有问题。\n\n4.2 启动\n\nV2Ray和Nginx都是守护进程，可以认为是Windows上的“后台服务”。把V2Ray和Nginx配置成守护进程以后，这两个程序就可以在服务器上持续运行了。Linux服务器的稳定性非常高，可以连续不重启运行一年，甚至更长。我们接下来就让V2Ray和Nginx在服务器上运行一年。\n\n在Linux上启动一个守护进程很简单，输入以下两条命令就可以启动V2Ray和Nginx：\n\n```\nservice v2ray start\nservice nginx start\n```\n\n有启动，也有其它操作，这里列出所有有用的命令，方便管理后台：\n\n启动V2Ray:\n\n`service v2ray start`\n\n重启V2Ray:\n\n`service v2ray restart`\n\n注：这一条是常用命令，每次修改配置文件后，都要重启一下V2Ray。\n\n查看V2Ray状态：\n\n`service v2ray status`\n\n停止V2Ray：\n\n`service v2ray stop`\n\n查看V2Ray版本:\n\n`/usr/bin/v2ray/v2ray -version`\n\n测试V2Ray配置文件:\n\n`/usr/bin/v2ray/v2ray -test -config=/etc/v2ray/config.json`\n\n注：常用命令，每次修改配置文件后，最好检查一下配置文件是否正确。\n配置文件位置：\n\n`/etc/v2ray/config.json `\n\nNginx：\n\n启动Nginx:\n\n`service nginx start`\n\n重启Nginx:\n\n`service nginx restart`\n\n查看Nginx状态：\n\n`service nginx status`\n\n停止Nginx：\n\n`service nginx stop`\n\n测试Nginx配置文件:\n\n`nginx -t`\n\n配置文件位置：\n\n`/etc/nginx/conf.d/default.conf`\n\n配置完成后，可以在浏览器里输入网址，如果显示Nginx的红色欢迎页面，就说明网址配置成功了！\n\n接下来要做的是上传一个网页模板，这样别人访问你的服务器就会看到一个真的网站。\n\n![img4.2.1](https://i.imgur.com/Npk1rOW.png)\n\n4.3 上传网页模板\n\n去Google上搜“website template”可以找到很多提供网页模板的网站，这里随便找一家，例如[https://colorlib.com/wp/templates/](https://colorlib.com/wp/templates/)\n\n网页模板强烈建议用纯英文模板，其中不要包含任何中文内容，否则（可能）会增加网站被墙的概率。\n\n下载好以后，解压压缩文件，一路点开，如图，可以看到里面有一个index.html文件(有些是index.htm或index.php)\n\n![img4.3.1](https://i.imgur.com/8UXO1Ul.png)\n\n把这个文件夹里的所有东西，包括index.html，blog.html，以及css，fonts，img，js几个文件夹，全部上传到\n/usr/share/nginx/html/\n目录下面。上传方法前面已有介绍，打开Bitvise SSH，拖动到文件管理窗口即可上传。\n\n接下来打开网址，这时候可以看到一个真正的网站。\n\n## 5 客户端配置\n\n5.1 Windows客户端\n\nWindows客户端推荐V2RayN，V2RayN是开源软件，下载地址：\n[https://github.com/2dust/v2rayN/releases](https://github.com/2dust/v2rayN/releases)\n\n可以看到有一个v2rayN-Core.zip和一个v2rayN.zip，这里下载v2rayN-Core.zip（GUI界面+V2Ray内核）。\n\n安装好V2RayN之后，如图\n\n![img5.1.1](https://i.imgur.com/UP27H1F.png)\n\n点【服务器】按钮，选择【添加VMess】服务器。\n\n* 地址：你的VPS的IP地址，这里我的IP是218.30.118.6。\n* 端口：443\n* 用户ID：就是2.1节中，V2Ray配置文件里的UUID，本文中是63c0042a-4a85-4d03-a488-3ba3aa002461\n* 额外ID：0（保持默认值）\n* 加密方式：随便选。\n* 传输协议：选ws，即WebSocket\n* 别名：随便填。\n* 伪装类型：none（保持默认值）\n* 伪装域名：绑定到服务器的域名，我的是www.hrw1rdzqa7c5a8u3ibkn.website\n* 路径：即前面的随机字符串，注意前面必须要加上斜杠“/”，这里的例子是/mL7Gg8K\n* 底层传输安全：选tls\n\n配置完成后如下图:\n\n![img5.1.2](https://i.imgur.com/rYmRD6S.png)\n\n5.2 Android客户端\n\n安卓客户端推荐V2RayNG，配置和V2RayN可以互通。下载地址：\n[https://github.com/2dust/v2rayNG/releases](https://github.com/2dust/v2rayNG/releases)\n\n分享配置很简单，在Windows的V2RayN客户端里，点击服务器列表，勾选右边的“显示分享内容”，可以显示配置的二维码。安卓端选择“扫描二维码”导入配置即可。\n\n5.3 iOS客户端\n\niOS客户端全部要收费，常用有Shadowrocket（小火箭）等。配置方法略。\n\n其它平台客户端（Mac OS，Linux）可以查看V2Ray官网的客户端列表：[神一样的工具们](https://v2ray.com/awesome/tools.html)\n\n到这一步结束，整个V2Ray翻墙的搭建就结束了。接下来是一些可选配置，可以加强你的服务器的隐蔽性和安全性。\n\n可选配置1：使用CDN隐藏IP\n\nCDN相当于在服务器前又加了一层代理，墙只知道你的域名和CDN的IP，无法得知代理服务器的真实IP。如果伪装网站开启了DoH+ESNI，甚至连域名都可以隐藏。因此v2ray+ws+tls+web+CDN相当于事实上的双重代理，它的隐蔽性和安全性非常高。缺点是Cloudflare 会让访问延迟变高一些。除非遇到IP被墙，或者特殊节日前后等墙加高等极端情况，如果平时翻墙很稳定，就没有必要打开CDN。\n\n因为前面已经注册了Cloudflare解析，所以使用CDN非常简单，只要两步即可。\n\n(1) 登录Cloudflare账号，点击【DNS】按钮，进入Cloudflare的管理页面，如图：\n\n![fig1](https://i.imgur.com/ihzyMBe.png)\n\n点一下灰色的云，让颜色变成橙色即可。\n\n点击切换后，域名不会马上解析到CDN的地址，一般会有几分钟的延迟。可以ping一下你的服务器的域名，如果返回地址是CDN的IP，就说明切换完成。\n\n(2) 接下来配置客户端。客户端切换成CDN很简单，配置的其它地方不用改动，只要把地址一栏换成域名即可，如图\n\n![fig2](https://i.imgur.com/1MsBKA0.png)\n\n手机端配置方法类似，把IP换成网址即可。\n\n可选配置2：加固服务器，配置防火墙\n\n如果VPS上没有其它服务，建议打开防火墙。服务器对外只暴露80，443，SSH端口，可以降低代理服务器被探测的风险。\n\n前面的步骤中禁用了防火墙firewalld，不是所有的机器都安装了firewalld，我们这里使用ufw防火墙作为替代。\n\n安装ufw：\n\n`yum install -y epel-release && yum install -y ufw`\n\n打开SSH，HTTP，HTTPS端口，运行：\n\n`ufw disable && ufw allow ssh && ufw allow http && ufw allow https && ufw enable`\n\n如果ssh端口不是22，那么需要将ssh改为端口号。例如ssh端口为14320，则：\n\n`ufw disable && ufw allow 14320 && ufw allow http && ufw allow https && ufw enable`\n\nufw和firewalld的底层实现都是一样的，都调用了linux iptables，本质并无太大区别。\n\n可选配置3：使用BBR加速\n\nBBR是谷歌开发的拥塞控制算法，可以降低延迟，加快访问速度。启用BBR需要4.10以上版本Linux内核，现在大多数VPS都满足这一条件，输入uname(空格)-a可以查看内核版本.\n\n如果内核版本大于4.10就可以用BBR了，把以下三条命令复制到命令窗口执行：\n```\nbash -c 'echo \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf'\nbash -c 'echo \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf'\nsysctl -p\n```\n\n然后运行以下命令，查看BBR是否启动成功：\n\n`sysctl net.ipv4.tcp_congestion_control`\n\n如果提示\n\n`net.ipv4.tcp_congestion_control = bbr`\n\n就表示成功启动了BBR加速。\n\n\n到这里，整个V2Ray翻墙教程就结束了，过程总结：\n\n* 购买域名 & 配置域名解析\n* 安装Nginx和V2Ray\n* 上传配置文件\n\n可选步骤：\n\n* CDN隐藏IP\n* 打开防火墙\n* BBR加速\n\nVPS推荐\n\n在此列出一些外资VPS提供商，主要是为了给出一些直观的参考，说明自建翻墙服务的成本相对较低。这里列出的VPS网上已有大量测评，可靠性有保证。但如果使用中出现问题，我也无法为此负责。\n（以下信息可能会变动，供参考。此处价格单位是人民币）\n\n* Bandwagon：流量1TB/月，价格28元/月。\n* Vultr IPv4：流量0.5TB/月，价格24.5元/月\n* Vultr IPv6：流量0.5TB/月，价格17.5元/月\n* VIRMACH：流量0.5TB/月，价格8.75元/月\n* RamNode：流量1TB/月，价格21元/月\n* OneVPS：流量2TB/月，价格35元/月\n* ChangeIP：流量无限，价格14元/月\n* INVS：流量无限，价格10元/月\n\n搭建V2Ray需要的配置很低，一般单核CPU，256MB内存就足够3-4个人看YouTube了。廉价VPS的配置都差不多（单核CPU，几百MB内存），出口带宽一般比较高（1Gbps，约合100MB/s）。挑选这类VPS最直观的指标就是价格和流量。\n\nIP段，网络质量也是重要的指标，但这些指标无法直接给出，如果有特殊需求（比如看Netflix，比特币匿名付款），需要在网上多找相关测评。\n\n总之，VPS的性价比很高，就是最廉价的VPS看高清Youtube也完全够用。如果愿意每个月花5美元以上，足够买到网络质量非常高，流量无限的机器。\n\n补充一下配置时经常遇到的问题和解决方案\n\n1.没有Nginx安装源\n某些VPS商家提供的系统中，没有带nginx的安装源。因此在运行V2Ray和Nginx的一键安装命令时会出现以下错误：\n\n>Loaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n* base: xxxxxx\n* extras: xxxxxx\n* updates: xxxxxx\nNo package nginx available.\nError: Nothing to do \n\n解决办法：手动添加安装源即可，根据你的系统版本，运行以下命令：\n\nCentOS7：（这是大多数VPS的系统版本）\n\n`rpm -ivh https://nginx.org/packages/centos/7/x86_64/RPMS/nginx-1.16.1-1.el7.ngx.x86_64.rpm`\n\nCentOS8：\n\n`rpm -ivh https://nginx.org/packages/centos/8/x86_64/RPMS/nginx-1.16.1-1.el8.ngx.x86_64.rpm`\n\nCentOS6：\n\n`rpm -ivh https://nginx.org/packages/centos/6/SRPMS/nginx-1.8.1-1.el6.ngx.src.rpm`\n\n2.V2Ray安装问题\n换成以下一键命令：\n\n`yum install -y curl && yum install -y nginx && bash <(curl -L -s https://install.direct/go.sh)`\n\n3.使用IPv6\n\nNginx不会主动监听IPv6地址，如果配置了AAAA记录，需要在端口号前加上[::]:\n\n填好之后：\n\n```\nlisten [::]:80;\nlisten [::]:443 ssl http2;\n```\n\n4.提示“重定向次数过多”\n\n登录cloudflare，在网站管理界面，点【SSL/TLS】。\n\n在页面的四个选项中，选【full】。（默认为【flexible】）\n\n5.客户端出现如下502错误\n\n>[Warning] failed to handler mux client connection > v2ray.com/core/proxy/vmess/outbound: failed to find an available destination > v2ray.com/core/common/retry: [v2ray.com/core/transport/internet/websocket: failed to dial WebSocket > v2ray.com/core/transport/internet/websocket: failed to dial to (wss://你的域名): 502 Bad Gateway > websocket: bad handshake] > v2ray.com/core/common/retry: all retry attempts failed \n>\n\n原因：Nginx无法把流量转发给V2Ray，原因是没有关闭SELinux。\n\n解决办法：按照3.3节的方法，关闭SELinux。\n输入：\n\n`setsebool -P httpd_can_network_connect 1 && setenforce 0 `\n即可\n\n#### 相关推荐\n\n1 [V2Ray翻墙完全教程(WS+TLS+Web)](https://pincong.rocks/article/15493)\n\n2 [自建梯子教程 --Trojan版本](https://trojan-tutor.github.io/2019/04/10/p41.html)\n"
        },
        {
          "name": "v2ray.md",
          "type": "blob",
          "size": 4.41796875,
          "content": "\n## 科学上网工具 V2Ray 简介及具体搭建流程\n\n### 关于V2Ray\n\n\nV2Ray是一个功能类似于Shadowsocks的代理工具，可以帮我们实现科学上网，支持 Socks、HTTP、Shadowsocks、VMess 等协议。\n\n\n### V2Ray与Shadowsocks有什么区别\n\n* 1.开发时间晚于Shadowsocks，功能更为强大，目前仍在维护更新。\n* 2.使用自主VMess协议，不易被墙屏蔽。\n* 3.网络传输效率更高，并且具有Mux多路复用功能，并发性能强\n* 4.自带mKCP协议，可免去KCPTUN的安装。\n* 5.可设置流量伪装，类似ShadowSocksR的混淆功能。\n* 6.目前比较小众，被封锁的可能性较小。\n\n### V2Ray的缺点：\n\n1.目前SSR科学上网仍是主流，V2Ray的教程不多，上手稍慢。\n2.因为功能强大，所有需要设置的参数稍多，不过已经有图形化界面了，设置并不复杂。\n\n### 搭建V2Ray所需条件\n\n\n其实搭建V2Ray的条件与SSR所需条件基本一致，并没有太特殊的。\n\nV2Ray也是需要在国外VPS服务器上安装服务端，然后在本地设备上安装V2Ray客户端，设置好后客户端成功连接服务端就可以。\n\n所以V2Ray的搭建流程：\n\n* 购买一台国外VPS服务器。\n* 一键安装V2Ray服务端。\n* 在本地设备安装V2Ray客户端\n* 连接成功。\n\n下面我们分别介绍。\n\n1.V2Ray服务器购买\n\n之前在SSR的相关教程里，我们介绍过，国外VPS服务器并不贵，512M内存的VPS就够用了，平均每月大概十几块钱，相当于一碗面钱，可以用支付宝付美元，与日常网购区别不大。\n\n用哪家的服务器，怎么购买\n\n[搬瓦工](https://bandwagonhost.com/aff.php?aff=19935)  [Vultr](https://www.vultr.com/?ref=7887711-4F) [ONEVPS](https://www.onevps.com/portal/aff.php?aff=3257)\n\n2.在VPS服务器上安装V2Ray\n\n2.1 Putty连接VPS服务器，复制以下命令输入开始安装：\n\n```\nwget -N --no-check-certificate https://raw.githubusercontent.com/FunctionClub/V2ray.Fun/master/install.sh && bash install.sh\n```\n\n如果运行以上命令时，出现找不到wget的英文提示，则表示系统没有安装wget，根据系统不同，选择以下命令安装：\n\n`yum -y install wget`\n\n2.2 V2Ray安装接近完成时，会提示输入用户名、密码、控制面板端口，可随意设置，如下图：\n\n访问控制面板需要用这个端口，用户名和密码用于登录控制面板。\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_183309.jpg)\n\n2.3 正常来说，V2Ray已经安装成功了，可以尝试在浏览器打开控制面板地址。不过博主在这一步后无法打开V2Ray控制面板，可能是个例，保险起见，再复制以下命令运行：\n\n`pip install Flask-BasicAuth`\n\n2.4 以上命令运行完成后，我们再启动面板。Putty输入以下命令，然后选择1回车。如下图，提示V2ray.fun started，即表示启动成功。\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_183519.jpg)\n\n5.浏览器输入服务器IP+刚才设置的端口，访问V2Ray控制面板，输入用户名和密码登录，登录成功后的界面如下图所示：\n\n![](https://ssr.tools/wp-content/uploads/2018-07-26_194039.jpg)\n\n各项连接参数都显示在运行状态菜单。最下面的Vmess链接和二维码图片，都可以用于客户端连接。\n\n### V2Ray控制面板设置\nV2Ray.fun控制面板的修改连接菜单中，我们可以修改各项连接参数，如下图所示\n\n\n* 运行控制：用于控制V2Ray的状态。\n* UUID：用于客户端连接使用，默认是自动生成的，可以点击右侧按钮生成一个新的。\n* 主端口：用于客户端连接的端口，可设置一个新的端口，然后点击右侧的修改端口进行修改。\n* 加密方式：用于客户端连接的参数，不懂的话，默认即可。\n* 传输方式：也是客户端连接参数之一，默认即可。\n* TLS：不建议开启，默认是关闭的，右侧两个按钮是操作按钮，并非表示当前状态。\n* Mux cool：多路复用功能，可提高并发连接性能，默认开启\n\n\n以上各项参数设置完成后，就可以通过V2Ray客户端连接了。点击上图左侧的运行状态菜单，用V2Ray客户端扫描二维码即可连接，或者输入Vmess链接也可以\n\nV2Ray各客户端下载、安装及使用教程可参考：\n\n[V2Ray各平台客户端下载汇总 带图形化界面](https://ssr.tools/314)\n\n参考链接：\n\n[V2Ray一键安装脚本 自带图形化界面控制面板](https://ssr.tools/269)\n"
        },
        {
          "name": "v2ray面板.md",
          "type": "blob",
          "size": 9.97265625,
          "content": "# sprov-ui，支持多协议多用户的v2ray管理面板\n\n\n##查看面板支持的功能\n\n### 支持的功能\n\nhttps 访问面板\n\n系统运行状态监控\n\n多协议、多用户管理\n\n禁用、启用单个账号\n\n支持设置监听的 IP（多 IP 服务器下）\n\n流量统计（支持所有协议）\n\n### 支持的 v2ray 协议\n\nvmess（v2ray 特色）\n\nshadowsocks（经典 ss）\n\nmtproto（Telegram 专用）\n\ndokodemo-door（端口转发）\n\nsocks（socks 4、socks 4a、socks 5）\n\nhttp（http 代理）\n\n### 支持的 vmess 传输配置\n\ntcp\nkcp + 伪装\nws + 伪装 + tls\nhttp/2 + 伪装 + tls\n\n## 一、sprov-ui 安装&升级\n\n推荐内存在 256MB 及以上的 vps 安装，在低内存的 vps 下可能运行不佳，你可以试试设置虚拟内存来缓解内存压力。\n\n支持的系统，最好是纯净版的系统，在精简版的系统中可能会安装失败：\n\nCentOS 7（推荐）\n\nUbuntu 16\n\nUbuntu 18\n\nDebian 8\n\nDebian 9\n\n### 一键管理脚本\n\n>以下四组命令任君选择，效果都是一样的，如果下载脚本有报错则尝试另一组。\n\n>请务必使用 root 用户运行脚本，否则会出问题：sudo su root，或者在命令前加上 sudo\n\n```\nwget -O /usr/bin/sprov-ui -N --no-check-certificate https://blog.sprov.xyz/sprov-ui.sh && chmod +x /usr/bin/sprov-ui && sprov-ui\n```\n\n```\nwget -O /usr/bin/sprov-ui -N --no-check-certificate https://github.com/sprov065/sprov-ui/raw/master/sprov-ui.sh && chmod +x /usr/bin/sprov-ui && sprov-ui\n```\n\n```\nyum install wget -y\napt-get install wget -y\nwget -O sprov-ui https://blog.sprov.xyz/sprov-ui.sh\nchmod +x sprov-ui\nmv sprov-ui /usr/bin/ -f\nsprov-ui\n```\n\n```\nyum install wget -y\napt-get install wget -y\nwget -O sprov-ui https://github.com/sprov065/sprov-ui/raw/master/sprov-ui.sh\nchmod +x sprov-ui\nmv sprov-ui /usr/bin/ -f\nsprov-ui\n```\n\n运行管理脚本会出现如下界面，这就不用多说了吧，输入 1，并回车即可安装面板。\n\n![一键管理脚本](https://blog.sprov.xyz/wp-content/uploads/2019/05/image-2.png)\n\n\n安装面板可能需要几分钟时间，该脚本会安装 Java 环境、v2ray（如果已安装则会强制升级到最新版）、以及关闭防火墙，安装过程中会让你输入面板监听端口、登录用户名和密码，推荐自己定义，不使用默认的。\n\n\n![面板安装完成](https://blog.sprov.xyz/wp-content/uploads/2019/05/image-3.png)\n\n### 查看手动安装或升级面板方法\n\n### 安装谷歌bbr\n\n参考这篇文章：[谷歌bbr – tcp加速工具](https://blog.sprov.xyz/2019/02/04/bbr-tcp-faster/)\n\n## 二、sprov-ui 使用\n\nsprov-ui 使用 systemd 来管理，以下是常用的命令，使用这些命令时，可能不会输出任何信息，也可能会输出一些信息，都是正常的。如果输出了错误信息，比如包含了 error 等字样，才代表出错了，需要排查错误。\n\n```\nsystemctl start sprov-ui      # 启动sprov-ui\nsystemctl restart sprov-ui    # 重启sprov-ui\nsystemctl stop sprov-ui       # 关闭sprov-ui\nsystemctl status sprov-ui     # 查看sprov-ui运行状态\nsystemctl enable sprov-ui     # sprov-ui开机启动\nsystemctl disable sprov-ui    # 取消sprov-ui开机启动\n```\n\n>以上都是老的管理办法，现在也可以使用，或者也可以使用一键管理脚本，一键管理脚本在文章前面有说明。\n\n启动 sprov-ui 后，在浏览器地址栏中输入你的服务器 IP 加冒号端口号，切记是英文的冒号，不是中文的冒号，访问 sprov-ui 面板网页。\n\n\n使用你设置的用户名和密码登录 sprov-ui 面板。\n\n\n![登录](https://blog.sprov.xyz/wp-content/uploads/2019/05/image-1.png)\n\n登录后可以看到你的服务器的基本状态以及 v2ray 的运行状况。\n\n此页面显示的是系统的状态，比如【已运行】表示的是服务器已运行的时间，而不是 v2ray 运行的时间。【网络】和【流量】显示的是整个服务器外网网卡的网络速度和流量，而不是 v2ray 的，如果你发现面板统计了内网的流量，请告知我你的系统版本和所有网卡名称，我将作出修正。\n\n\n![系统运行状态](https://blog.sprov.xyz/wp-content/uploads/2019/04/blog.sprov.xyz-snipaste-2019-04-06-21-52-06.png)\n\n账号列表可以看到你的 v2ray 账号，在这里你可以选择添加多个账号，或者删除、修改账号，添加、修改、删除账号之后记得点击【重启】来使配置生效。\n\n【重置】是重置流量的功能，每个账号可单独重置流量，最上面的【重置】按钮可重置所有账号的流量。\n\n\n![账号列表](https://blog.sprov.xyz/wp-content/uploads/2019/04/blog.sprov.xyz-snipaste-2019-04-06-21-52-07.png)\n\n## 三、客户端使用\n\n可以在[这篇文章]()https://blog.sprov.xyz/2019/02/04/v2ray-simple-use/的第五章看起，包括Windows、macOS、安卓、iOS的教程。\n\n## 四、常见问题\n\nsprov-ui 启动失败：Address already in use\n\n这个问题是因为面板的监听端口被占用了，换个端口即可。\n\nsprov-ui 启动失败：port out of range:xxxx\n\n面板监听的端口超出正常范围，正常范围是1-65535，换个端口即可。\n\nsprov-ui 启动失败：Invalid keystore format\n\n证书有问题，需要 jks 格式的证书，文章下面有配置教程。\n\nsprov-ui 启动失败：Keystore was tampered with, or password was incorrect\n\njks 证书密码错误，如果忘记密码了可以重新生成一个。\n\nvmess 协议的账号连不上，其它的账号都连得上，端口也是通的\n\n这是因为你的服务器时间和本地时间相差过大，vmess 协议要求服务器的 UTC 时间和本地 UTC 时间相差不超过 90 秒，服务器与本地的时区不一样没关系，但是分钟数要相同，请自行修改服务器时间。\n\n所有账号都连不上，或者刚刚添加/修改的账号连不上\n\n添加、删除、修改账号之后都需要重启 v2ray 才会生效新的配置，点击网页上的【重启】按钮即可，不是【重启面板】。还有确保你的端口是通的，防火墙都放行了。\n\n开启 v2ray api 失败：xxxx\n\n这个错误的原因一般就是你的 v2ray 配置文件格式过老了，v2ray 的 v4.1 版本开始启用了新的配置文件格式，本面板只支持 v4.1 版本之后的配置文件。\n\n通用解决方法：\n\n先备份好你的 v2ray 节点信息\n删除 /etc/v2ray/config.json 文件\n重新使用此命令安装 v2ray：bash <(curl -L -s https://install.direct/go.sh) -f\n重启面板\n访问网页出现：Bad response. The server or forwarder response doesn’t look like HTTP.\n\n开启 https 后不能使用 http:// 访问，请使用 https:// 访问，且必须使用域名访问，不能使用 ip。\n\n## 五、高级操作\n\n### 使用域名\n\n首先你需要一个域名，并将域名解析到你 vps 的 IP，直接使用域名加端口号登录面板即可，无需其它配置。\n\n### sprov-ui 面板配置文件\n\n面板配置文件在 /etc/sprov-ui/ 文件夹下，包含两个文件，一个是 sprov-ui.conf，一个是 v2ray-extra-config.json。\n\n### sprov-ui.conf\n\n```\nport=80                       # 面板监听端口\nusername=sprov                # 用户名\npassword=blog.sprov.xyz       # 密码\nkeystoreFile=                 # jks 证书文件路径，v3.0.0+\nkeystorePass=                 # jks 证书密码，v3.0.0+\nmaxWrongPassCount=5           # 密码最大错误次数，达到此次数则封禁 IP，默认为 5，v3.0.0+\nloginTitle=xxxx               # 登录页标题，可自定义，留空则没有标题，v3.1.0+\nloginFooter=xxxx              # 登录页页脚，可自定义，支持 html 标签，留空则没有页脚，v3.1.0+\n```\n\n此文件配置了 sprov-ui 的端口、用户名、密码等等，可以自行修改，修改后需要重启面板生效，留空则使用默认配置。配置错误会导致面板启动失败，例如：port=111111（非法端口号）。\n\n### v2ray-extra-config.json\n\n```\n{\n    \"disabled-inbounds\": [],\n    \"inbounds\": []\n}\n```\n\n此文件为 v2ray 配置文件的扩展，为一个 json 文件，包含两个属性：inbounds、disabled-inbounds。\n\ninbounds 为一个数组，包含若干个 inbound，主要记录流量数据，每个 inbound 的格式如下：\n\n```\n{\n    \"tag\": \"\",      // tag 标识，不能为空\n    \"downlink\": 0,  // 下行流量，单位 Byte\n    \"uplink: 0      // 上行流量，单位 Byte\n}\n```\ndisabled-inbounds 为一个数组，包含若干个 inbound，记录被禁用的 inbound，每个 inbound 都是一个完整的 v2ray inbound，并且还包含流量数据。\n\n### 启用面板 https 访问\n\nsprov-ui v3.0.0 及以上版本支持\n\n>开启 https 后不能再使用 http:// 访问面板，请使用 https:// 访问面板，且必须使用域名访问，不能使用 ip\n\n首先我们申请的证书常见的是 .crt / .pem 等格式，密钥常见的格式是 .key，这些证书不能直接配置在面板里，需要将证书和密钥转换成 .jks 格式的证书，以下是转换教程。\n\n将 crt / pem 证书转换为 jks 格式的证书\n\n在转换 jks 证书后，上传 jks 证书至你的服务器，并在面板配置文件里添加如下配置，并重启面板：\n\n```\nkeystoreFile=/path/to/xxx.com.jks        # jks 证书文件绝对路径\nkeystorePass=yourpassword                # jks 证书密码，如果没有设置密码则留空\n```\n\n不会上传文件到服务器？看这篇文章：MobaXterm – 一个强大的全能终端\n\n### 面板服务器迁移\n\n面板的服务器迁移很简单，首先需要备份面板配置文件和 v2ray 配置文件，分别是：/etc/sprov-ui/ 文件夹下所有文件，/etc/v2ray/config.json，如何备份请自行解决。\n\n然后在新服务器上重新安装面板，之前备份的文件覆盖掉现有的，最后启动或重启面板即可。\n\n## 六、总结\n\n以上就是我花了几天来开发的 v2ray 面板，名字叫 sprov-ui，如果你在使用中遇到了问题，或者你有更多的建议，推荐加入 Telegram 群组讨论，也可以在下方评论，或者在 Github 提 issue。\n\n参考链接：\n\n[sprov-ui，支持多协议多用户的v2ray管理面板](https://blog.sprov.xyz/2019/02/09/sprov-ui/)"
        },
        {
          "name": "vps被封-cloudfare-v2ray-.md",
          "type": "blob",
          "size": 10.4814453125,
          "content": "\n前言：IP被封的检测和解决思路已经写成系列文章，最新信息请查看[《搬瓦工vps的IP被封(0) 前言及日志目录》](https://eveaz.com/1093.html)。\n\n以下正文：\n\n1、先行检测：\n参考[《搬瓦工vps的IP被封(1) 如何检测及更换IP》](https://eveaz.com/1076.html)一文方法。\n\n2、情况描述：IP被全面封锁，具体表现如下：\n2.1、ICMP和TCP快速检测；\n![](http://ww1.sinaimg.cn/large/006tNc79gy1g46huv80v4j30jg0adjs2.jpg)\n\n2.2、全球ping检测；\n\n![](https://eveaz.com/wp-content/uploads/2019060402.jpg)\n\n3、准备工作\n3.1、注册域名或使用现有域名；\n3.1.1、本博客使用的域名是在NameSilo注册的，输入本站域名“eveaz.com”可以直减1美刀；阿里云、其它渠道或者免费域名请自行搜索。\n\n3.2、vps安装Cenots7系统（建议重装至全新，以免出现错误）；\n3.2.1、博主使用的是[”BandwagonHOST(搬瓦工)“](https://bandwagonhost.com/aff.php?aff=19935)的vps，6.25%优惠码 BWH26FXH3HIQ 。目前最具有性价比的vps是（CN2 GT线路洛杉矶机房，1核1G，20G SSD，流量1T/月）；\n\n3.3、确保SSH连接vps成功；\n3.3.1、Xshell隧道代理SSH，参考[《搬瓦工vps的IP被封(2) Xshell如何设置代理SSH》）](https://eveaz.com/1077.html)；\n3.3.2、vps控制面板后台SSH（不建议，例如搬瓦工KiviVM面板下Basic shell下运行文中所用v2ray脚本报错；Interactive Shell不支持中文）；\n\n3.4、注册Cloudflare账号；\n\n3.5、想一劳永逸？那我建议你用 [（Just My Socks）搬瓦工自建机场](https://justmysocks.net/members/aff.php?aff=2765) ，域名和vps都不需要注册和购买了；机场IP被封自动换IP，走搬瓦工CN2 GIA线路，月付2.8刀起，5.2%优惠码 JMS9272283 。\n\n3.6、以上如果需要代购，联系邮箱cocofive#foxmail.com。\n\n4、具体实施步骤如下\n4.1、在Cloudflare添加域名，并确保域名能在Cloudflare正常使用；\n4.1.1、登陆到Cloudflare，进入域名管理页面，点击“Add a Site”按钮；\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46hxgad9bj30jg07yjrs.jpg)\n\n4.1.2、填写主域名，点击“Add a Site”按钮；\n\n![](http://ww1.sinaimg.cn/large/006tNc79ly1g46hxtor73j30jg0c2aap.jpg)\n\n4.1.3、Cloudflare查询DNS，无视掉，点击“NEXT”；\n\n![](http://ww1.sinaimg.cn/large/006tNc79ly1g46hy0iph3j30jg0d6myd.jpg)\n\n4.1.4、勾选 “FREE”，点击 “Confirm plan”；\n\n![](http://ww1.sinaimg.cn/large/006tNc79ly1g46hy61yqdj30jg0fg0uc.jpg)\n\n4.1.5、弹出“Confirm plan”窗口，点击“Confirm”；\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46hyeqkcgj30jg07n3zc.jpg)\n\n\n4.1.6、这个时候Cloudflare会提取之前的解析记录，如果不需要修改，直接无视；添加二级域名A记录解析到被封的IP，点击 “Add Record”；\n\n![](http://ww2.sinaimg.cn/large/006tNc79ly1g46hymrci1j30jg04ejrq.jpg)\n\n4.1.7、新增解析之后，是这样的；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46hysqtxxj30jg03vwes.jpg)\n\n\n4.1.8、点击“Status”栏那朵小黄云，让小黄云变灰色，即（DNS only）；点击“Continue”；Cloudflare的操作暂时结束，不要关闭网页；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46hz4f1xtj30jg04u3yv.jpg)\n\n4.2、域名DNS服务器修改；\n4.2.1、新标签页打开已经注册的域名解析管理后台，修改DNS服务器为Cloudflare的DNS服务器（Cloudflare的DNS服务器信息参考4.2.2中截图，请根据4.1.8操作后获取的DNS信息修改，也就是那个提醒过不要关闭的网页）；这里不做演示，根据注册商后台自行修改；\n4.2.2、修改完毕之后，回到4.1.8步骤未关闭的Cloudflare网页，点击 “Continue”，进入到Cloudflare域名管理页面；\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46hzcie6hj30jg0cbjsc.jpg)\n\n4.2.3、当在Cloudflare域名管理页面看到如下图时，说明域名服务器更改还未生效，等待生效就行；一般几分钟就可以生效的；\n\n![](http://ww2.sinaimg.cn/large/006tNc79ly1g46hzm2qaoj30jg0gzgnh.jpg)\n\n4.2.4、当在Cloudflare域名管理页面看到如下图时，说明域名服务器已经更换成功；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46hzr6osjj30jg06lwfd.jpg)\n\n\n4.3、在vps上安装V2Ray；\n\n4.3.1、root用户SSH登陆到vps；\n\n请先确认Firewalld是否开启，如果是开启的，在Firewalld中开放v2ray端口和80、443端口；\n\n如果对Firewalld不熟悉，请直接关闭Firewalld；\n\n\n防火墙相关指令\n\n1、开启关闭防火墙 查看防火墙状态\n```\nsystemctl start firewalld\nsystemctl stop firewalld\nsystemctl status firewalld\n```\n2、放行端口\n```\nfirewall-cmd --permanent --zone=public --add-port=21212/tcp\nfirewall-cmd --reload\n\n```\n\n\n3、检查端口是否开启\n```\nfirewall-cmd --permanent --query-port=21212/tcp\n```\n运行v2ray安装脚本\n\n`bash <(curl -s -L https://git.io/v2ray.sh)`\n\n```\n## 如果提示 curl: command not found ，那是因为vps没装 Curl\n## centos 系统安装 Curl 方法: yum update -y && yum install curl -y\n## 安装好 curl 之后就能安装脚本了\n```\n\n4.3.2、运行脚本之后进入脚本界面，选“1”安装；\n\n![](http://ww2.sinaimg.cn/large/006tNc79ly1g46hzzbyp5j30jg05jq36.jpg)\n\n4.3.3、选择V2Ray传输协议，选“4. WebSocket+TLS”；\n\n![](http://ww1.sinaimg.cn/large/006tNc79ly1g46i32ua7ij30jg0ewdhf.jpg)\n\n4.3.4、输入V2Ray端口，默认就行（指定端口的话，不能是80或者443端口），直接回车；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46i399kiyj30jg06hq3c.jpg)\n\n\n4.3.5、输入刚才在Cloudflare新增的二级域名，回车；确认域名是正确的，按“Y”，继续；\n\n![](http://ww2.sinaimg.cn/large/006tNc79ly1g46i3d56fmj30jg065wez.jpg)\n\n4.3.5.1、如果域名不对或者解析未生效（一般域名解析需要等待一段时间来生效），会提示检测域名解析错误，直接退出脚本，如下图；\n\n![](http://ww1.sinaimg.cn/large/006tNc79ly1g46i3hqnr9j30jg04o3yu.jpg)\n\n\n4.3.6、正确解析域名之后，继续运行脚本；域名解析检测正确，安装Caddy自动配置TLS，按“Y”继续；\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46i3myvswj30jg0b5q3t.jpg)\n\n\n4.3.7、是否开启网站伪装和路径分流，默认否；是否开启广告拦截，默认否；是否配置Shadowsocks，默认否；准备安装，确认配置正确，按回车继续；\n\n![](http://ww2.sinaimg.cn/large/006tNc79ly1g46i3rfm4qj30jg0h475l.jpg)\n\n\n4.3.8、接下来是安装过程，安装完成之后会显示V2Ray的配置信息；提示输入 v2ray url 可生成 vmess URL 链接 / 输入 v2ray qr 可生成二维码链接，无视掉；\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46i3wa5avj30jg09hgmf.jpg)\n\n\n4.3.9、 输入v2ray status 查看运行状态，确认V2Ray和Caddy都在运行；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46i404pfdj30jg025dfs.jpg)\n\n4.4、Cloudfare设置SSL\n4.4.1、进入Cloudflare域名管理页面，打开“Crypto”选项卡，确认“SSL”状态为“Full”；确认“Universal SSL Status”状态为“Active Certificate”，如果没有，请等待，是在申请证书，24小时之内可以申请下来（也许几分钟就好了，反正我是这样的）；\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46i47fox6j30jg0bajt0.jpg)\n\n4.4.2、打开DNS选项卡，将之前 4.1.8 操作点成灰色的小云点亮，重新变成小黄云，即 DNS and HTTP proxy(CDN)，需要等待一段时间才能生效；\n\n![](http://ww3.sinaimg.cn/large/006tNc79ly1g46i4dmbnzj30jg0f3mz4.jpg)\n\n4.4.3、点亮之后是这样的；\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46i4icmc5j30jg03vwes.jpg)\n\n\n4.5、配置V2Ray客户端，SSH输入v2ray info可以查看V2Ray的配置信息，根据客户端设置就行了；\n（提示: 输入 v2ray 可以进行脚本管理；输入 v2ray url 可生成 vmess url 链接；输入 v2ray qr 可生成二维码链接）\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46i4p9nlrj30jg0c0jsg.jpg)\n\n\n4.5.1、移动端小火箭直接通过vmess链接导入；\n4.5.2、win系统参考《搬瓦工vps的IP被封(3) V2Ray+mKCP部署及V2RayN客户端配置使用教程》\n4.5.3、刷了梅林固件的路由器在科学上网插件里面新增v2ray节点；\n\n![](http://ww4.sinaimg.cn/large/006tNc79ly1g46i4p9nlrj30jg0c0jsg.jpg)\n\n5、步骤结束。\n\n2019年06月11日补充更新\n\n6、其它事项：\n6.1、如果有遇到任何问题，可以在下方留言；请先排查前面已经完成的步骤有没有问题，然后再详细描述在哪个步骤出现问题，报错信息是什么；\n\n6.2、留言的时候请务必填写正确邮箱用于接收留言回复，本站开启了严格的留言审核，如果留言提交未生效，请勿多次提交；\n\n6.3、如果步骤一步步按文章来，是不会出现问题的，出现各样问题只能是操作错误或者配置错误。\n\n6.4、文章06月04日发布，截至2019年6月11日20:42分，已经通过邮件或者即时通讯工具帮助27位网友解决了问题（不一定包括文章留言中的网友）；遇到的问题千奇百怪，本人精力有限，不一定能够即时回复留言或者邮件。\n\n6.5、所以，不会配置，或者出现各种问题导致各种报错、无法科学上网却找不到原因的，可以联系联系邮箱cocofive#foxmail.com。邮件内容需要提供问题描述及报错信息，按需求可能需要提供域名注册商、Cloudflare的注册账号信息及SSH的root权限信息。当然，如果你觉得这些信息很重要不方便提供就算了。\n\n2019年06月13日补充更新\n\n6.6、校园网用户，如果通过ss或者V2RayN客户端代理Xshell，SSH连接不上vps或者卡着不动，请将本地网络切换至其它非校园网网络，如手机热点；\n\n6.7、重装至Centos7之后，安装脚本，Caddy无法正常运行，请先确认Firewalld是否开启，如果是开启的，在Firewalld中开放v2ray端口和80、443端口；如果对Firewalld不熟悉，请直接关闭Firewalld；\n\n查看Firewalld状态：`systemctl status firewalld` 或者 firewall-cmd –state\n\n停止：`systemctl stop firewalld`\n\n禁用：`systemctl disable firewalld`\n\n6.8、IOS的小火箭用户，无法导入vmess链接或者手动填写无WebSocket选项，请更新至最新版；\n\n2019年06月14日补充更新\n\n6.9、如果配置正确且是独立网络环境连接的情况下，A设备能正常上网，但是B设备却不能上网，请检查B设备的时间是否是同步网络时间（客户端与服务端的时间误差不能超过90秒钟，与时区无关）。\n\n\n参考链接：\n\n[搬瓦工vps的IP被封(4) Cloudflare+V2Ray+WebSocket+TLS](https://eveaz.com/1094.html)\n"
        },
        {
          "name": "魔改BBR.md",
          "type": "blob",
          "size": 2.884765625,
          "content": "# 南琴浪版暴力魔改BBR一键安装脚本\n\n### BBR介绍\n\n  BBR是Google出品的TCP拥塞控制算法，目前集成在最新的Linux内核中。国外VPS服务器上安装BBR后，可以明显提高连接速度，降低丢包。  BBR对SS/SSR有明显的加速作用，看Youbube视频时更为明显。另外如果在国外VPS服务器上架设网站，BBR也可以加速网站的加载速度。\n\n魔改版BBR，则是在原版BBR基础上的修改版本，通过参数的修改，使加速算法更为激进，比原版BBR有更为明显的加速效果。\n \n### BBR安装要求\n\n系统要求：CentOS+、Debian7+、Ubuntu12+。\n\n另外不支持OpenVZ虚拟的VPS服务器，这也是我们不建议购买OpenVZ服务器的原因之一。\n\n  \n\n\n### 魔改BBR一键安装\n􏲓􏱔􏱉􏲔􏲕1.用Putty连接VPS服务器，输入以下命令运行：\n\n```\nwget --no-check-certificate https://raw.githubusercontent.com/tcp-nanqinlang/general/master/General/CentOS/bash/tcp_nanqinlang-1.3.2.sh\nbash tcp_nanqinlang-1.3.2.sh\n```\n小提示：如果运行命令时英文提示找不到wget的错误，那么先运行以下命令安装wget：\n\n```\nyum -y install wget\n```\n\n2.出现下图提示时，输入数字1选择安装内核，然后回车：\n\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\n\n3.接下来的安装过程中，部分系统可能会有如下提示，提示删除旧的内核，是否取消。\n\n这时按方向右键， <font color=red>选择No</font>后回车，确认删除。\n\n```\nsysctl net.ipv4.tcp_congestion_control\n```\n![](https://ssr.tools/wp-content/uploads/2018-11-29_185659.jpg)\n\n4.出现如下提示后，输入reboot回车重启系统：\n\n![](https://ssr.tools/wp-content/uploads/2018-11-29_185806.jpg)\n\n5.系统重启完成后，重新Putty连接，输入以下命令重新运行脚本：\n\n`bash tcp_nanqinlang-1.3.2.sh`\n\n6.出现如下图提示后，<font color=red>输入2</font>选择安装并开启算法：\n\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\n\n7.稍等片刻，安装成功后的提示如下图：\n\n![](https://ssr.tools/wp-content/uploads/2018-11-29_190039.jpg)\n\n### 魔改BBR卸载\n\n1.Putty连接VPS服务器，运行如下命令：\n\n`bash tcp_nanqinlang-1.3.2.sh`\n\n2.出现下图提示后，<font color=red>选择4</font>进行卸载：\n\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\n\n3.卸载完成后重启。\n\n注意：此卸载仅卸载算法，并不卸载内核。\n\nVPS推荐：\n\n[Vultr](https://www.vultr.com/?ref=7887711-4F) （vultr在2019年1月的最新活动，针对新用户，直接送50美元！vultr全球15个服务器位置可选，KVM框架，最低2.5美元/月。支持支付宝和paypal付款。）\n\n<a href=\"https://www.vultr.com/?ref=7887711-4F\"><img src=\"https://www.vultr.com/media/banner_2.png\" width=\"468\" height=\"60\"></a>\n\n\n#### 参考文献：\n\n[南琴浪版暴力魔改BBR一键安装脚本](https://ssr.tools/550)\n\n"
        },
        {
          "name": "魔改BBR一键安装.md",
          "type": "blob",
          "size": 3.8984375,
          "content": "# 南琴浪版暴力魔改BBR一键安装脚本\r\n\r\n### BBR介绍\r\n\r\n  BBR是Google出品的TCP拥塞控制算法，目前集成在最新的Linux内核中。国外VPS服务器上安装BBR后，可以明显提高连接速度，降低丢包。  BBR对SS/SSR有明显的加速作用，看Youbube视频时更为明显。另外如果在国外VPS服务器上架设网站，BBR也可以加速网站的加载速度。\r\n\r\n魔改版BBR，则是在原版BBR基础上的修改版本，通过参数的修改，使加速算法更为激进，比原版BBR有更为明显的加速效果。\r\n \r\n### BBR安装要求\r\n\r\n系统要求：CentOS+、Debian7+、Ubuntu12+。\r\n\r\n另外不支持OpenVZ虚拟的VPS服务器，这也是我们不建议购买OpenVZ服务器的原因之一。\r\n\r\n  \r\n\r\n\r\n### 魔改BBR一键安装\r\n􏲓􏱔􏱉􏲔􏲕1.用Putty连接VPS服务器，输入以下命令运行：\r\n\r\n```\r\nwget --no-check-certificate https://raw.githubusercontent.com/tcp-nanqinlang/general/master/General/CentOS/bash/tcp_nanqinlang-1.3.2.sh\r\nbash tcp_nanqinlang-1.3.2.sh\r\n```\r\n小提示：如果运行命令时英文提示找不到wget的错误，那么先运行以下命令安装wget：\r\n\r\n```\r\nyum -y install wget\r\n```\r\n\r\n2.出现下图提示时，输入数字1选择安装内核，然后回车：\r\n\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\r\n\r\n3.接下来的安装过程中，部分系统可能会有如下提示，提示删除旧的内核，是否取消。\r\n\r\n这时按方向右键， <font color=red>选择No</font>后回车，确认删除。\r\n\r\n```\r\nsysctl net.ipv4.tcp_congestion_control\r\n```\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_185659.jpg)\r\n\r\n4.出现如下提示后，输入reboot回车重启系统：\r\n\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_185806.jpg)\r\n\r\n5.系统重启完成后，重新Putty连接，输入以下命令重新运行脚本：\r\n\r\n`bash tcp_nanqinlang-1.3.2.sh`\r\n\r\n6.出现如下图提示后，<font color=red>输入2</font>选择安装并开启算法：\r\n\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\r\n\r\n7.稍等片刻，安装成功后的提示如下图：\r\n\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_190039.jpg)\r\n\r\n如果报错：\r\n\r\n```\r\nmake -C /lib/modules/`uname -r`/build M=`pwd` modules CC=/usr/bin/gcc\r\n./scripts/gcc-version.sh:行25: /usr/bin/gcc: 没有那个文件或目录\r\n./scripts/gcc-version.sh:行26: /usr/bin/gcc: 没有那个文件或目录\r\nmake[1]: /usr/bin/gcc：命令未找到\r\nmake[1]: 进入目录“/usr/src/kernels/4.12.10-1.el7.elrepo.x86_64”\r\nmake[1]: /usr/bin/gcc：命令未找到\r\nmake[1]: /usr/bin/gcc：命令未找到\r\nmake[1]: /usr/bin/gcc：命令未找到\r\nmake[1]: /usr/bin/gcc：命令未找到\r\n  CC [M]  /home/tcp_nanqinlang/tcp_nanqinlang.o\r\n/bin/sh: /usr/bin/gcc: 没有那个文件或目录\r\nmake[2]: *** [/home/tcp_nanqinlang/tcp_nanqinlang.o] 错误 1\r\nmake[1]: *** [_module_/home/tcp_nanqinlang] 错误 2\r\nmake[1]: 离开目录“/usr/src/kernels/4.12.10-1.el7.elrepo.x86_64”\r\nmake: *** [all] 错误 2\r\n[Error] load mod failed, please check!\r\n```\r\n\r\n原因：没有安装gcc\r\n\r\n安装gcc：\r\n\r\n`yum install gcc`\r\n\r\n\r\n### 魔改BBR卸载\r\n\r\n1.Putty连接VPS服务器，运行如下命令：\r\n\r\n`bash tcp_nanqinlang-1.3.2.sh`\r\n\r\n2.出现下图提示后，<font color=red>选择4</font>进行卸载：\r\n\r\n![](https://ssr.tools/wp-content/uploads/2018-11-29_183122.jpg)\r\n\r\n3.卸载完成后重启。\r\n\r\n注意：此卸载仅卸载算法，并不卸载内核。\r\n\r\nVPS推荐：\r\n\r\n[Vultr](https://www.vultr.com/?ref=7887711-4F) （vultr在2019年1月的最新活动，针对新用户，直接送50美元！vultr全球15个服务器位置可选，KVM框架，最低2.5美元/月。支持支付宝和paypal付款。）\r\n\r\n<a href=\"https://www.vultr.com/?ref=7887711-4F\"><img src=\"https://www.vultr.com/media/banner_2.png\" width=\"468\" height=\"60\"></a>\r\n\r\n\r\n#### 参考文献：\r\n\r\n[南琴浪版暴力魔改BBR一键安装脚本](https://ssr.tools/550)\r\n\r\n"
        }
      ]
    }
  ]
}