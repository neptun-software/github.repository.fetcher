{
  "metadata": {
    "timestamp": 1736568244563,
    "page": 120,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEyMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "yc9559/uperf",
      "stars": 3299,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.02734375,
          "content": "__pycache__\n/.vscode\n/build\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 10.5078125,
          "content": "\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   Copyright 2021-2022 Matt Yang\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "NOTICE",
          "type": "blob",
          "size": 38.7578125,
          "content": "uperf\n\nTHIRD-PARTY SOFTWARE NOTICES AND INFORMATION\nDo Not Translate or Localize\n\nThis project incorporates components from the projects listed below. The original copyright notices and the licenses under are set forth below. Reserves all rights not expressly granted herein, whether by implication, estoppel or otherwise.\n\n1.\tjpcre2/jpcre2 version 10.32.01 (https://github.com/jpcre2/jpcre2)\n2.\tnlohmann/json version 3.10.4 (https://github.com/nlohmann/json)\n3.\tPhilipHazel/pcre2 version 10.39 (https://github.com/PhilipHazel/pcre2)\n4.\teliaskosunen/scnlib version 0.4.0 (https://github.com/eliaskosunen/scnlib)\n5.\tgabime/spdlog version 1.9.2 (https://github.com/gabime/spdlog)\n6.\tosm0sis/android-busybox-ndk 1.31.1 (https://github.com/osm0sis/android-busybox-ndk)\n\n%% jpcre2/jpcre2 NOTICES AND INFORMATION BEGIN HERE\n=========================================\nJPCRE2 LICENCE\n-------------\n\nJPCRE2 is a wrapper for PCRE2 library which supports regular expressions whose syntax\nand semantics are as close as possible to those of the Perl 5 language.\n\nJPCRE2 is distributed under the terms of the \"BSD\" licence, as\nspecified below. The test source files (prefixed 'test' in their name)\nare not copyrighted and are in the public domain.\n\nThe basic library functions are written in C++ and are dependent upon the\noriginal PCRE2 library.\n\nTHE BASIC LIBRARY FUNCTIONS/CLASSES\n-----------------------------------\n\nWritten by:       Md Jahidul Hamid\nEmail local part: jahidulhamid\nEmail domain:     yahoo.com\n\n\nCopyright (c) Md Jahidul Hamid.\n\n\nTHE \"BSD\" LICENCE\n-----------------\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n   * Redistributions of source code must retain the above copyright notice,\n      this list of conditions and the following disclaimer.\n\n   * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n   * The names of its contributors may not be used to endorse or promote \n      products derived from this software without specific prior written\n      permission.\n      \nDisclaimer:\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n    POSSIBILITY OF SUCH DAMAGE.\n\nEnd\n=========================================\nEND OF jpcre2/jpcre2 NOTICES AND INFORMATION\n\n%% nlohmann/json NOTICES AND INFORMATION BEGIN HERE\n=========================================\nMIT License \n\nCopyright (c) 2013-2022 Niels Lohmann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n=========================================\nEND OF nlohmann/json NOTICES AND INFORMATION\n\n%% PhilipHazel/pcre2 NOTICES AND INFORMATION BEGIN HERE\n=========================================\nPCRE2 LICENCE\n-------------\n\nPCRE2 is a library of functions to support regular expressions whose syntax\nand semantics are as close as possible to those of the Perl 5 language.\n\nReleases 10.00 and above of PCRE2 are distributed under the terms of the \"BSD\"\nlicence, as specified below, with one exemption for certain binary\nredistributions. The documentation for PCRE2, supplied in the \"doc\" directory,\nis distributed under the same terms as the software itself. The data in the\ntestdata directory is not copyrighted and is in the public domain.\n\nThe basic library functions are written in C and are freestanding. Also\nincluded in the distribution is a just-in-time compiler that can be used to\noptimize pattern matching. This is an optional feature that can be omitted when\nthe library is built.\n\n\nTHE BASIC LIBRARY FUNCTIONS\n---------------------------\n\nWritten by:       Philip Hazel\nEmail local part: Philip.Hazel\nEmail domain:     gmail.com\n\nRetired from University of Cambridge Computing Service,\nCambridge, England.\n\nCopyright (c) 1997-2021 University of Cambridge\nAll rights reserved.\n\n\nPCRE2 JUST-IN-TIME COMPILATION SUPPORT\n--------------------------------------\n\nWritten by:       Zoltan Herczeg\nEmail local part: hzmester\nEmail domain:     freemail.hu\n\nCopyright(c) 2010-2021 Zoltan Herczeg\nAll rights reserved.\n\n\nSTACK-LESS JUST-IN-TIME COMPILER\n--------------------------------\n\nWritten by:       Zoltan Herczeg\nEmail local part: hzmester\nEmail domain:     freemail.hu\n\nCopyright(c) 2009-2021 Zoltan Herczeg\nAll rights reserved.\n\n\nTHE \"BSD\" LICENCE\n-----------------\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright notices,\n      this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above copyright\n      notices, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n    * Neither the name of the University of Cambridge nor the names of any\n      contributors may be used to endorse or promote products derived from this\n      software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\nARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\nLIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\nCONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\nSUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\nINTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\nARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGE.\n\n\nEXEMPTION FOR BINARY LIBRARY-LIKE PACKAGES\n------------------------------------------\n\nThe second condition in the BSD licence (covering binary redistributions) does\nnot apply all the way down a chain of software. If binary package A includes\nPCRE2, it must respect the condition, but if package B is software that\nincludes package A, the condition is not imposed on package B unless it uses\nPCRE2 independently.\n\nEnd\n=========================================\nEND OF PhilipHazel/pcre2 NOTICES AND INFORMATION\n\n%% eliaskosunen/scnlib NOTICES AND INFORMATION BEGIN HERE\n=========================================\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n=========================================\nEND OF eliaskosunen/scnlib NOTICES AND INFORMATION\n\n%% gabime/spdlog NOTICES AND INFORMATION BEGIN HERE\n=========================================\nThe MIT License (MIT)\n\nCopyright (c) 2016 Gabi Melman.                                       \n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n-- NOTE: Third party dependency used by this software --\nThis software depends on the fmt lib (MIT License),\nand users must comply to its license: https://github.com/fmtlib/fmt/blob/master/LICENSE.rst\n=========================================\nEND OF gabime/spdlog NOTICES AND INFORMATION\n\n%% osm0sis/android-busybox-ndk NOTICES AND INFORMATION BEGIN HERE\n=========================================\n--- A note on GPL versions\n\nBusyBox is distributed under version 2 of the General Public License (included\nin its entirety, below).  Version 2 is the only version of this license which\nthis version of BusyBox (or modified versions derived from this one) may be\ndistributed under.\n\n------------------------------------------------------------------------\n\t\t    GNU GENERAL PUBLIC LICENSE\n\t\t       Version 2, June 1991\n\n Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n     51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n\t\t\t    Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation's software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author's protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone's free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\f\n\t\t    GNU GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program's\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\f\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\f\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\f\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\n\t\t\t    NO WARRANTY\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n\t\t     END OF TERMS AND CONDITIONS\n\f\n\t    How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nconvey the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation; either version 2 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n\n\nAlso add information on how to contact you by electronic and paper mail.\n\nIf the program is interactive, make it output a short notice like this\nwhen it starts in an interactive mode:\n\n    Gnomovision version 69, Copyright (C) year  name of author\n    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, the commands you use may\nbe called something other than `show w' and `show c'; they could even be\nmouse-clicks or menu items--whatever suits your program.\n\nYou should also get your employer (if you work as a programmer) or your\nschool, if any, to sign a \"copyright disclaimer\" for the program, if\nnecessary.  Here is a sample; alter the names:\n\n  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n\n  <signature of Ty Coon>, 1 April 1989\n  Ty Coon, President of Vice\n\nThis General Public License does not permit incorporating your program into\nproprietary programs.  If your program is a subroutine library, you may\nconsider it more useful to permit linking proprietary applications with the\nlibrary.  If this is what you want to do, use the GNU Library General\nPublic License instead of this License.\n=========================================\nEND OF osm0sis/android-busybox-ndk NOTICES AND INFORMATION\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 31.6220703125,
          "content": "# Uperf\n\n一个Android用户态性能控制器，实现大部分内核态升频功能，并支持更多情景识别。\n\n## 主要功能\n\n- 根据识别的场景类型，动态设定参数控制性能释放，支持所有`sysfs`节点\n- 支持动态绑定正在操作的APP的UI相关线程到大核集群\n- 从Linux层面读取Android的触摸屏输入信号，识别点击和滑动\n- 主动采样系统负载，识别例如APP启动的瞬间重负载\n- 监听cpuset分组更新操作，识别正在操作的APP发生切换\n- 监听唤醒锁更新操作，识别屏幕是否熄灭\n- 监听注入到Surfaceflinger的hook发送的通知，识别渲染开始、滞后、结束\n- 支持Android 6.0 - 12\n- 支持arm64-v8a\n- 支持Magisk方式一键安装，版本不低于20.4+\n- 不依赖于Magisk，可以手动方式安装\n- 除非SfAnalysis注入失败，大多数情况SELinux可保持`enforcing`\n- 不依赖于任何Android应用层框架以及第三方内核\n- 为大多数热门硬件平台提供了调参后的配置文件\n\n## 下载\n\nhttps://github.com/yc9559/uperf/releases\n\n## 安装\n\n### Magisk方式\n\n1. 下载后通过Magisk Manager刷入，Magisk版本不低于18.0\n2. 重启后查看`/sdcard/Android/yc/uperf/uperf_log.txt`检查uperf是否正常自启动\n\n### 手动安装\n\n1. 如果你的设备无法安装Magisk，并且已经获取到ROOT权限\n2. 下载后手动解压缩，例如解压缩到`/data/uperf`\n3. 修改`setup_uperf.sh`，`run_uperf.sh`，`initsvc_uperf.sh`权限为755\n4. 执行`setup_uperf.sh`完成安装，检查输出信息是否有报错\n5. 执行`run_uperf.sh`启动uperf，检查输出信息是否有报错\n6. 打开`/data/cache/injector.log`，检查sfanalysis注入是否成功\n7. 如果关联自启动到第三方APP，设置在开机完成后执行`run_uperf.sh`\n8. 如果关联自启动到系统启动脚本，插入`sh /data/uperf/initsvc_uperf.sh`\n9. 重启后查看`/sdcard/yc/uperf/uperf_log.txt`检查uperf是否正常自启动\n\n### 性能模式切换\n\n#### 修改启动时的默认性能模式\n\n1. 打开`/sdcard/Android/yc/uperf/cur_powermode.txt`\n2. 修改`auto`, 其中`auto`为开机后使用的默认性能模式，可选的模式有:\n   - `auto`根据正在使用的App进行动态响应\n   - `balance`均衡模式，比原厂略流畅的同时略省电\n   - `powersave`卡顿模式，保证基本流畅的同时尽可能降低功耗\n   - `performance`费电模式，保证费电的同时多一点流畅度\n   - `fast`性能模式，相对于均衡模式更加激进\n3. 重启\n\n#### 启动完成后切换性能模式\n\n方法1:  \n执行`sh /data/powercfg.sh balance`，其中`balance`是想要切换到的性能模式名称。  \n\n方法2:  \n安装[Scene](https://www.coolapk.com/apk/com.omarea.vtools)为APP绑定对应的性能模式。  \n\n## 常见问题\n\nQ：是否对待机功耗有负面影响？  \nA：Uperf的实现做了不少低功耗的优化，自身运行的功耗开销很低。此外预制配置文件的待机模式中，减少了待机时唤醒的核心数量并使用了保守的升频参数。待机功耗的优化主要靠减少唤醒时长比例，在此基础上Uperf可进一步降低一点待机功耗。  \n\nQ：为什么使用了Uperf还是很费电？  \nA：SOC的AP部分功耗主要取决于计算量以及使用的频点。Uperf只能控制性能释放，改进频点的选择从而降低功耗，如果后台APP的计算量很大是无法得到显著的续航延长的。这一问题可以通过Scene工具箱的进程管理器来定位。  \n\nQ：是否需要关闭系统的温度控制？  \nA：系统温度控制是一种硬件保护措施，或者用于改善高负载下的用户体验。大多数情况下无需关闭它，如果你遇到性能严重受限的情况，例如运行竞技游戏CPU最大频率限制在1.4Ghz，请提升温控介入的阈值或者关闭系统温度控制。  \n\nQ：Uperf和Scene工具箱是什么关系？  \nA：这两个软件独立运作，没有互相依赖。Uperf实现了接口可供Scene工具箱调用，例如性能模式切换以及分APP性能模式。如果不安装Scene工具箱也可以实现性能模式切换，详情见使用方式。  \n\nQ：是否还需要关闭系统的performance boost？  \nA：Uperf模块内脚本已经关闭了大部分主流的用户态和内核态升频，如果有非常规的升频需要用户自己关闭。  \n\nQ：我遇到了一些奇怪的系统故障，是怎么回事？  \nA：Uperf在大多数平台可以正常工作，在测试阶段收集到了以下可能发生的故障：\n- 桌面启动器不响应触摸。这个目前只在MIUI 12遇到，如果遇到了此问题请删除`/data/adb/modules/uperf/enable_sfanalysis`\n- 触摸屏报点间断丢失。请检查是否使用了自动跳过之类的APP，特别是支持坐标点击的\n- 睡死。用户态应用程序理论上不会影响系统稳定性，请更换为官方内核和ROM\n\nQ：使用Magisk安装时提示`not supported`，这是为什么？  \nA：此硬件平台没有预制的配置文件，可能需要自行适配。  \n\n## 详细介绍\n\n这是在[Project WIPE](https://github.com/yc9559/cpufreq-interactive-opt)、[Project WIPE v2](https://github.com/yc9559/wipe-v2)、[Perfd-opt](https://github.com/yc9559/perfd-opt)、[QTI-mem-opt](https://github.com/yc9559/qti-mem-opt)之后的一个新项目。在之前的工作中，往往是基于一个现有的性能控制器做调参，这也意味着最后究竟能做到多好取决于控制器本身的上限。在EAS调度器成为主流之后无法应用WIPE系列的思路，因为EAS的参数自由度实在太少，等到借助了高通Boost框架才实现了更广范围的调整，才有了Perfd-opt。一方面受制于现有的性能控制器的功能限制，一方面还有一部分老设备没有这些新的性能控制器。没有条件就要创造条件，编写了一个安卓全平台的用户态性能控制器。\n\n用户态性能控制通常有着较高的延迟（因为修改sysfs节点消耗相对较多的时间），但是距离实际应用场景很近可以在一些已知的重负载开始之前主动提升性能减少卡顿。一般的工作模式是在系统框架Java层发送Hint，由Native层的服务接收Hint并执行对应的sysfs修改，例如高通CAF Boost Framework、Power-libperfmgr。\n\n与其他用户态性能控制器不同的是，Uperf没有Java层的部分，只有Native层接收时间通知和主动采样，这也就没有了系统框架层面的依赖。因此她不需要重新编译内核，也不需要修改Android框架源码，她也没有几乎硬件平台的限制。她的修改范围涵盖了所有内核态性能控制能够做到的，也就是说不用换掉没啥bug的官方内核，就能使用输入升频（没错，少部分老内核没有这个）、Dynamic Stune Boost、Devfreq Boost这些花式Boost。\n\n下表为几个主要的性能优化方案的功能对比：   \n|          功能          | Project WIPE | Perfd-opt(CAF) | libperfmgr | Uperf |\n| :--------------------: | :----------: | :------------: | :--------: | :---: |\n|    HMP+interactive     |      ✔️       |                |            |   ✔️   |\n|     EAS+schedutil      |              |       ✔️        |     ✔️      |   ✔️   |\n|       非高通平台       |      ✔️       |                |            |   ✔️   |\n|     Android < 8.0      |      ✔️       |                |            |   ✔️   |\n|    HMP模型自动调参     |      ✔️       |                |            |   ✔️   |\n|   UI线程的CPU亲和性    |              |                |            |   ✔️   |\n|        点击升频        |              |                |     ✔️      |   ✔️   |\n|      列表滚动升频      |              |       ✔️        |     ✔️      |   ✔️   |\n|      APP启动加速       |              |       ✔️        |     ✔️      |   ✔️   |\n|      APK安装加速       |              |       ✔️        |            |       |\n|        待机优化        |              |                |            |   ✔️   |\n|       帧渲染滞后       |              |                |            |   ✔️   |\n|     渲染开始、结束     |              |                |            |   ✔️   |\n| surfaceflinger复杂合成 |              |                |     ✔️      |       |\n|      视频录制情景      |              |                |     ✔️      |       |\n|       多性能模式       |      ✔️       |       ✔️        |            |   ✔️   |\n\n### 情景识别\n\n注：v3版本已经修改，此部分不适用\nUperf支持如下几种情景识别：  \n- `None`，无Hint的常规状态\n- `Touch`，触摸到屏幕切换的Hint\n- `Pressed`，长按时切换的的Hint\n- `Tap`，在刚触摸到屏幕切换的Hint\n- `Swipe`，在屏幕滑动一段距离后切换的Hint\n- `HeavyLoad`，在Tap或Swipe检测到重负载后切换，负载降低后回落到Tap\n- `SfLag`，给Surfaceflinger的渲染提交出现滞后切换的Hint\n- `SfBoost`，Surfaceflinger的渲染提交需要加速切换的Hint\n- `Standby`，屏幕熄灭时的Hint，一般滞后20秒(隐藏Hint)\n- `SsAnim`，系统动画播放切换的Hint\n- `WakeUp`，亮屏解锁切换的Hint\n\n\n\n#### 触摸信号识别\n\n本程序采用了跟安卓系统框架获取触摸信号一样的方式，监听位于/dev/input的设备，解析来自触摸屏的报点信息，可以获取到最基本的手指触摸到屏幕和手指离开屏幕的事件。根据一段连续的报点信息可以得到手指滑动的距离以及离开屏幕时末端速度，由此可以推断是点击操作还是滑动操作，以及根据末端速度推算APP滚动的持续时间。\n\n#### 重负载跟踪与限制\n\n因为不在安卓框架层插入Hook无法确切知道APP正在启动，因此本程序在Hint开始后，用主动轮询的方式更新所有CPU核心的使用率和运行频率得到系统整体负载。`系统整体负载 = sum(efficiency(i) * (load_pct(i) / 100) * (freq_mhz(i) / 1000))`，其中`i`为CPU核心ID。如果整体负载高于`heavyLoad`，那么把当前Hint切换到重负载Hint。重负载Hint的响应性能很好但耗电也偏多，本程序会持续监测系统负载，如果整体负载低于阈值，提前结束耗电的重负载Hint。对于负载不是那么高的APP热启动，甚至不会触发重负载，不像高通Boost框架不管负载多少强行拉满CPU持续2s。此外，这样的检测不仅涵盖了APP冷热启动，还涵盖了例如点击进入微信朋友圈这样的短时重负载场景。本功能的能耗开销也是在非常低的0.6ms/100ms（Cortex-A55@1.0g）。下图为微信热启动Hint状态切换与持续时间。\n\n![微信热启动](media/wechat_resume.png)\n\n某些的游戏负载确实非常高，系统负载能够非常稳定的持续超过阈值。理论上重负载游戏应该运行在功耗拐点的频率上，保持足够的性能输出的同时才不会发热过大，这与突发重负载的设置初衷矛盾。因此限制了请求进入重负载Hint的请求间隔，在上一次HeavyLoad结束后，负载低于`idleLoad`保持1秒，并且在`requestBurstSlack`这段时间内没有HeavyLoad请求，才能响应新的HeavyLoad，也就过滤了游戏这类持续重负载能耗过高的问题。\n\n#### 正在操作的APP发生切换\n\n基于能够响应上面这些主要的事件，完全可以把非操作时的参数设置的比以前更加保守而不用担心卡顿，但是点亮唤醒是个例外。屏幕下指纹在息屏显示时，按压指纹传感器完成解锁这个操作就算触摸到了屏幕也没有input事件。而点亮屏幕的动画过程往往伴随着大量进程唤醒，保守的参数会造成显著卡顿。本程序通过监测安卓框架的ActivityManager的活动，ActivityManager在正在交互的APP发生变化、解锁屏幕、锁定屏幕时会非常活跃，由此可以推断是否发生了解锁屏幕事件。通过这一监测，还可以实现在APP切换或者启动时，把APP更早的放到大核心，负载迁移延迟可以降低大约100ms。本功能由事件驱动，几乎没有额外的能耗开销。下图为光学屏幕指纹解锁过程。\n\n![光学屏幕指纹解锁过程](media/android_am.png)\n\n#### 识别屏幕熄灭\n\n在以往的Project WIPE和Perfd-opt中，很多用户借助Scene工具箱实现熄屏后自动切换到省点模式降低一点待机耗电。处于Native层的Uperf无法像Scene工具箱一样收到系统的熄屏广播，而是监听唤醒锁更新操作来识别屏幕是否熄灭。\n\n#### SfAnalysis\n\nSfanalysis是一个独立于Uperf的模块，注入到surfaceflinger进行修改，从这个负责Android所有帧渲染提交的进程发出信号，通知Uperf调整性能输出，在观察到卡顿之前就提升性能，真正做到未卜先知，这是所有内核态升频所不能企及的。然而想要她的实现有诸多限制，OEM可以改源码，做内核的可以改内核源码，Uperf为了普适性不能修改源码。如果使用注入方式，surfaceflinger是native进程，使用C++编写，相比system_server这类Java写成的hook位点更少，更不用提不同Android版本的实现还不一样。就算注入成功，由于Android对系统进程设置了很多SELinux规则，防止被注入攻击后取得太多的权限，通知信号也难以发出。绕过了这些限制后，Sfanalysis具有以下功能：  \n\n- hook关键调用，推测并向外部传递渲染开始、渲染提交滞后、渲染结束事件\n- 自适应动态刷新率、自适应vsync信号滞后间隔\n- 在SELinux的权限范围内，向外部传递信号，因此不需要关闭SELinux才能使用\n\n![检测到渲染延迟立即拉升CPU频率](./media/sflag.png)\n\n渲染提交滞后对应的Hint`SfLag`与重负载一样，有调用频率限制避免长时间拉升高频，相关参数暂时没有开放更改。`SfLag`使用可用次数缓冲池控制调用频率，每满400ms间隔可用次数+1，最大到20次。为了避免不必要的频率拉升，只允许从`Tap`、`Swipe`、`Touch`、`Pressed`转移到`SfLag`。SfAnalysis正常工作后在日志以如下方式体现：  \n```\n[13:03:36][I] SfAnalysis: Surfaceflinger analysis connected\n```\n\n#### 渲染结束提前结束Hint\n\n即使有了触摸末端速度推算，由于每个设备的滑动阻尼不同，实际的渲染持续时间也大不相同，套用固定值容易导致电量浪费。在内核态boost可以通过在drm/atomic添加hook实现渲染结束后提前结束Boost，本程序也使用类似的方法，在渲染结束后200-300ms内结束Hint的响应，覆盖全程UI渲染过程的同时减少电量浪费。本程序在Hint开始后，使用主动轮询的方式监控安卓的surfaceflinger活动，几乎所有版本的安卓的渲染提交都经过它，同时能耗开销在非常低的0.4ms/100ms（Cortex-A55@1.0g）。\n\n使用SfAnalysis渲染结束信号之后，提前结束Hint的延迟可以进一步降低到66ms。\n![渲染停止](media/render_stop.png)\n\n在尽可能缩短渲染结束提前结束的滞后的同时，会导致某些UI响应本身存在滞后的场景发生太多卡顿，因为Hint已经提前退出。此类情况大多发生在浏览信息流点击图片切换到全屏显示图片的过程。因此在提前结束Hint的同时，还需要检测是否有滞后的UI响应，在点击的700ms以内如果重新开始渲染会恢复先前的Hint。使用主动轮询的方式监控安卓的surfaceflinger活动，恢复Hint的延时在100ms以上，使用SfAnalysis渲染开始信号之后延迟可以进一步降低到33ms。\n\n![滞后UI渲染开始](media/render_restart.png)\n\n### 写入器\n\n写入器基本功能是把目标字符串值写入到`sysfs`节点，除此以外，Uperf还内建了多种写入器实现了其他功能和更加紧凑的参数序列。在切换动作时，Uperf会比对与上一动作参数值的差异，跳过写入重复的值来减少自身功耗开销。Uperf支持的`knob`有如下几种类型：  \n- `string`，最基础的写入器。效果等同于`echo \"val\" > /path`。\n- `percluster`，分集群紧凑型写入器。使用配置文件中`platform/clusterCpuId`的CPU序号替换`path`中的`%d`，各个值由逗号分隔，使得按集群做区分的值更加紧凑，改善可读性。\n- `percpu`，分核心紧凑型写入器。根据配置文件中`platform/efficiency`的列表长度，生成CPU序号替换`path`中的`%d`，各个值由逗号分隔，使得按CPU核心做区分的值更加紧凑，改善可读性。\n- `cpufreq`，`percluster`写入器的变种。大部分功能相同，不同的是写入值=设定值*100000，缩短了频率参数序列的长度，以及带有写入失败重试以处理新的最低频率高于原有的最高频率。\n- `cgroup_procs`，Cgroup专用写入器。支持最大4个值，各个值由逗号分隔，设定值为进程名称，Uperf在初始化时会扫描系统所有进程，用匹配到的第一个PID替换它们。一般用于设置系统关键进程到指定的cgroup。由于一个进程的线程可能会动态变化，因此此类写入器会关闭去重。\n- `uxaffinity`，UxAffinity写入器。在每次正在操作的APP发生切换时，Uperf都会扫描属于顶层APP的cgroup的所有线程，缓存所有UI相关线程的ID。当设定它为1时，把UI相关线程固定到大核心。当设定它为0时，允许UI相关线程使用全部可用核心。在大多数EAS平台上设置`schedtune.boost > 0`和`schedtune.prefer_idle = 1`即可把任务固定到大核，但是EAS在各个平台的具体实现层次不齐，这个参数组不合适用于所有EAS平台。为了解决这一问题，Uperf主动设置这些关键线程的CPU核心亲和性，适用于所有EAS平台，甚至是HMP平台。\n\n### 预调参\n\n- Uperf模块为大多数热门硬件平台提供了调参后的配置文件，以尽可能发挥Uperf的优势\n- HMP平台均衡和卡顿版的`interactive`参数与HMP负载迁移阈值由改进的[Project WIPE v2](https://github.com/yc9559/wipe-v2)提供，费电模式采用固定在功耗拐点的频点提供最稳定持续的性能\n- EAS平台的频点选择综合了SOC功耗模型和常见负载的性能需求，由一套固定策略生成\n  - 三星、sdm845以及移植的EAS平台，由于缺少关键内核功能采用传统的调参方法，即普通场景不提供过高的性能容量\n  - sdm845以后的高通EAS平台，采用调整后性能需求-性能容量模型，见下图\n\n![调整后性能需求-性能容量模型](media/adjusted_demand_capacity_relation.png)\n\n假设系统负载只由单个任务贡献。EAS默认的方式由于`schedutil`总是预留25%性能余量，而SOC的不同频点的能耗比表现不同，越接近最大频率能耗比越低，EAS的默认策略会导致较高负载时最大频率占比偏大。从现实负载变化的规律来看，25%性能余量并不总是够用，负载较低时容易产生大的波动，负载较高时性能需求反而是相对稳定的。从SOC的功耗模型和现实负载变化的规律来看，负载较低时由于波动值的相对百分比较大应该留出更大的性能余量，SOC的低频段一般能耗比差别不大，功耗负面影响不大；负载较高时由于波动值的相对百分比较小应该留出较小的性能余量，SOC的高频段的每个频点之间的能耗比差别比较明显，功耗正面影响较大。\n\n### 外围改进\n\n本模块除了Uperf本体以及SfAnalysis注入，还配合一些外围的改进共同改进用户体验。  \n- Uperf启动前其他参数统一化，包括：\n  - schedtune置零\n  - 使用CFQ调速器，降低多任务运行时前台任务的IO延迟\n  - 降低非前台APP的IO带宽占用权重\n  - 设置与UI性能密切相关的系统进程到顶层APP的cgroup分组\n  - 固定于过渡动画相关的线程到大核\n  - 减少大部分传感器线程在大核的唤醒\n  - 禁用大多数内核态和用户态boost、热插拔\n  - `interactive`和`schedutil`调速器、`core_ctl`、任务调度器外围参数一致化\n- 为指纹识别提供最大性能(EAS平台)\n\n![为指纹识别提供最大性能](./media/fingerprint.png)\n\n## 自定义配置文件\n\n本项目已经为大多数热门硬件平台提供了调参后的Uperf配置文件，但总有一些情况预调参的配置不适用于你的软硬件平台，例如冷门的硬件平台、自定义的内核。此外，也有自定义现有预调参配置文件的需求，例如调高交互时的最低CPU频率、增加GPU频率范围调整。在Uperf设计之初便考虑到了这类需求，开放几乎所有的可调参数，并且在配置文件更改保存后自动重新加载，改善在手机端调试参数的效率。Magisk模块使用的配置文件位于`/sdcard/yc/uperf/cfg_uperf.json`。\n\n### 元信息\n\n```json\n\"meta\": {\n    \"name\": \"sdm855/sdm855+ v20200516\",\n    \"author\": \"yc@coolapk\",\n    \"features\": \"touch cpuload render standby sfanalysis\"\n}\n```\n\n| 字段名   | 数据类型 | 描述                                           |\n| -------- | -------- | ---------------------------------------------- |\n| name     | string   | 配置文件的名称                                 |\n| author   | string   | 配置文件的作者信息                             |\n| features | string   | 配置文件支持的功能列表，目前是保留字段不起作用 |\n\n`name`与`author`在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Using [sdm855/sdm855+ v20200516] by [yc@coolapk]\n```\n\n### 全局参数\n\n```json\n\"common\": {\n    \"switchInode\": \"/sdcard/yc/uperf/cur_powermode\",\n    \"verboseLog\": false,\n    \"uxAffinity\": true,\n    \"stateTransThd\": {\n        \"heavyLoad\": 1500,\n        \"idleLoad\": 1000,\n        \"requestBurstSlack\": 3000\n    },\n    \"dispatch\": [\n        {\n            \"hint\": \"None\",\n            \"action\": \"normal\",\n            \"maxDuration\": 0\n        },\n        {\n            \"hint\": \"Tap\",\n            \"action\": \"interaction\",\n            \"maxDuration\": 1500\n        },\n        ...\n    ]\n}\n```\n\n| 字段名            | 数据类型 | 描述                                                                            |\n| ----------------- | -------- | ------------------------------------------------------------------------------- |\n| switchInode       | string   | 接收性能模式切换的inode节点                                                     |\n| verboseLog        | bool     | 开启详细日志，用于调试Hint切换                                                  |\n| uxAffinity        | bool     | 开启UX线程自动设置，固定高优先级的UX线程到大核，并限制低优先级线程的需求响应    |\n| heavyLoad         | int      | 进入重负载的系统负载阈值，详见[重负载跟踪与限制](#重负载跟踪与限制)             |\n| idleLoad          | int      | 退出重负载的系统负载阈值，详见[重负载跟踪与限制](#重负载跟踪与限制)             |\n| requestBurstSlack | int      | 单位毫秒，响应新的重负载请求前的延时，详见[重负载跟踪与限制](#重负载跟踪与限制) |\n| hint              | string   | 对应到Uperf内部支持的Hint类型                                                   |\n| action            | string   | 绑定的动作名称，可以自定义                                                      |\n| maxDuration       | int      | 单位毫秒，动作保持的最大时长                                                    |\n\n在Uperf启动时会读取`switchInode`对应路径的文件获取默认性能模式,在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Read default powermode from /sdcard/yc/uperf/cur_powermode\n[13:03:33][I] CfgMgr: Powermode \"(null)\" -> \"balance\"\n```\n`switchInode`对应路径的文件，监听新模式名称的写入完成模式切换：  \n```shell\necho \"powersave\" > /sdcard/yc/uperf/cur_powermode\n```\n在日志以如下方式体现：\n``` \n[13:06:45][I] CfgMgr: Powermode \"balance\" -> \"powersave\"\n```\n\n`dispatch`的绑定关系，在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Bind HintNone -> normal\n[13:03:33][I] CfgMgr: Bind HintTap -> interaction\n[13:03:33][I] CfgMgr: Bind HintSwipe -> interaction\n[13:03:33][I] CfgMgr: Bind HintHeavyLoad -> heavyLoad\n[13:03:33][I] CfgMgr: Bind HintAndroidAM -> amSwitch\n[13:03:33][I] CfgMgr: Bind HintStandby -> standby\n[13:03:33][I] CfgMgr: Bind HintSflag -> sfLag\n```\n\n`UxAffinity`和`SfAnalysis`这两项功能在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: UX affinity enabled\n...\n[13:03:36][I] SfAnalysis: Surfaceflinger analysis connected\n```\n\n### 平台信息\n\n```json\n\"platform\": {\n    \"clusterCpuId\": [\n        0,\n        4,\n        7\n    ],\n    \"efficiency\": [\n        120,\n        120,\n        120,\n        120,\n        220,\n        220,\n        220,\n        240\n    ],\n    \"knobs\": [\n        {\n            \"name\": \"cpuFreqMax\",\n            \"path\": \"/sys/devices/system/cpu/cpu%d/cpufreq/scaling_max_freq\",\n            \"type\": \"cpufreq\",\n            \"enable\": true\n        },\n        ...\n    ]\n}\n```\n\n| 字段名       | 数据类型    | 描述                                                                  |\n| ------------ | ----------- | --------------------------------------------------------------------- |\n| clusterCpuId | int list    | 多集群CPU每个集群的首个CPU ID                                         |\n| efficiency   | int list    | 每个CPU核心的的相对同频性能，以Cortex-A53@1.0g为100，顺序与CPU ID对应 |\n| knobs        | object list | `sysfs`节点列表                                                       |\n\n`knobs`中的每个对象为`knob`，有以下属性：  \n| 字段名 | 数据类型 | 描述                                   |\n| ------ | -------- | -------------------------------------- |\n| name   | string   | `sysfs`节点名称                        |\n| path   | string   | `sysfs`节点路径                        |\n| type   | string   | `sysfs`节点类型，详见[写入器](#写入器) |\n| enable | bool     | 是否启用，方便调试时一键禁用           |\n\n当`enable`字段为false时，在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Ignored root/platform/knobs/topCSProcs [Disabled by config file]\n```\n\n当`path`字段对应的`sysfs`节点不存在或者不可写入时，在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Ignored root/platform/knobs/bigHifreq [Path is not writable]\n```\n\n### 性能模式参数\n\n```json\n\"powermodes\": [\n    {\n        \"name\": \"balance\",\n        \"actions\": {\n            \"interaction\": {\n                \"cpuFreqMax\": \"18,18,22\",\n                \"cpuFreqMin\": \"10,10,8\",\n                \"cpuLoadBoost\": \"0,0,0,0,0,0,0,0\",\n                \"fgCpus\": \"0-3\",\n                \"topCSProcs\": \"com.android.systemui,system_server\",\n                \"fgSTProcs\": \"system_server\",\n                \"ddrBwMax\": \"6000\",\n                \"ddrBwMin\": \"2500\",\n                \"uxAffinity\": \"1\"\n            },\n            ...\n        },\n        ...\n    },\n    ...\n]\n```\n\n| 字段名     | 数据类型 | 描述                                      |\n| ---------- | -------- | ----------------------------------------- |\n| name       | string   | 可自定义，用于备份调参的多个版本          |\n| 动作名称   | string   | 与`common/dispatch`中定义的动作名对应     |\n| `knob`名称 | string   | 与`platform/knobs`中定义的`sysfs`节点名称 |\n| `knob`值   | string   | 值的格式详见[写入器](#写入器)             |\n\n一个动作应该为所有在`platform/knobs`定义的`knob`设置值。某些时候需要故意跳过某些值的设定，或者复用大部分前一动作的设定值，可以省略部分`knob`设置值，但不能全部。Uperf在加载配置文件时会提示哪些值没有设定会被跳过，在日志以如下方式体现：  \n```\n[13:03:33][I] CfgMgr: Ignored knobs in action root/powermodes/balance/actions/amSwitch:\n[13:03:33][I] CfgMgr: cpuFreqMin llccBwMax llccBwMin ddrBwMax ddrBwMin l3LatBig ddrLatBig \n```\n\n### 示例\n\n利用Uperf为交互和重负载添加关闭UFS节能，以此降低性能关键场景的IO瓶颈问题。  \n\nUFS节能开关的`sysfs`节点路径为`/sys/devices/platform/soc/1d84000.ufshc/clkgate_enable`，接收字符串类型写入，写入\"0\"为关闭UFS节能，写入\"1\"为开启UFS节能，把这一节点取名为`ufsClkGateEnable`。在配置文件添加如下文本完成`knob`定义：  \n```json\n\"platform\": {\n    ...\n    \"knobs\": [\n        ...\n        {\n            \"name\": \"ufsClkGateEnable\",\n            \"path\": \"/sys/devices/platform/soc/1d84000.ufshc/clkgate_enable\",\n            \"type\": \"string\",\n            \"enable\": true,\n            \"note\": \"UFS时钟门开关\"\n        },\n        ...\n    ]\n}\n```\n\n根据[情景识别](#情景识别)中的定义，交互的hint名称为`Tap`和`Swipe`，重负载的hint名称为`HeavyLoad`。   \n```json\n\"dispatch\": [\n    ...\n    {\n        \"hint\": \"Tap\",\n        \"action\": \"interaction\",\n        \"maxDuration\": 1500\n    },\n    {\n        \"hint\": \"Swipe\",\n        \"action\": \"interaction\",\n        \"maxDuration\": 3000\n    },\n    {\n        \"hint\": \"HeavyLoad\",\n        \"action\": \"heavyLoad\",\n        \"maxDuration\": 2000\n    },\n    ...\n}\n```\n\n根据配置文件内定义的hint与动作的绑定关系，需要给动作`interaction`和`heavyLoad`设置关闭UFS节能，其他动作保持开启UFS节能。在配置文件添加如下文本完成动作定义：     \n```json\n\"powermodes\": [\n    {\n        \"name\": \"balance\",\n        \"actions\": {\n            \"normal\": {\n                ...\n                \"ufsClkGateEnable\": \"1\",\n                ...\n            },\n            \"interaction\": {\n                ...\n                \"ufsClkGateEnable\": \"0\",\n                ...\n            },\n            \"heavyLoad\": {\n                ...\n                \"ufsClkGateEnable\": \"0\",\n                ...\n            },\n            \"amSwitch\": {\n                ...\n            },\n            \"standby\": {\n                ...\n                \"ufsClkGateEnable\": \"1\",\n                ...\n            },\n            \"sfLag\": {\n                ...\n            },\n        },\n    },\n    {\n        \"name\": \"powersave\",\n        \"actions\": {\n            \"normal\": {\n                ...\n                \"ufsClkGateEnable\": \"1\",\n                ...\n            },\n            ...\n        },\n    },\n    ...\n]\n```\n\n更改配置文件后保存，Uperf会自动创建新的子进程加载新的配置文件，如果新的配置文件格式存在问题，会终止新的子进程保留老的子进程。接下来验证配置文件中设定动作是否能如期执行，对应路径的值是否发生更改。  \n\n## 致谢\n\n感谢以下用户或项目的源码对本项目的帮助：  \n- [@AndroidDumps](https://github.com/AndroidDumps)\n- [TinyInjector](https://github.com/shunix/TinyInjector)\n- [xHook](https://github.com/iqiyi/xHook)\n- [@cjybyjk](https://github.com/cjybyjk)\n- [@SatySatsZB](https://github.com/SatySatsZB)\n- [@osm0sis](https://github.com/osm0sis)\n- @YMJ\n\n感谢以下用户的测试反馈和错误定位：  \n- @HEX_Stan(coolapk)  \n- @僞裝灬(coolapk)  \n- @Yoooooo(coolapk)  \n- @我愿你安i(coolapk)  \n- @鹰雏(coolapk)  \n- @yishisanren(coolapk)  \n- @asd821385525(coolapk)  \n- @倚楼醉听曲(coolapk)  \n- @NepPoseidon(coolapk)  \n- @寻光丿STLD(coolapk)  \n- @比企谷の雪乃(coolapk)  \n- @非洲咸鱼(coolapk)  \n- @哔哩哔哩弹慕网(coolapk)  \n- @我心飞翔的安(coolapk)  \n- @浏泽仔(coolapk)  \n- @〇MH1031(coolapk)  \n- @今天我头条了吗(coolapk)  \n- @瓜瓜皮(coolapk)  \n- @Universes(coolapk)  \n- @Superpinkcat(coolapk)  \n- @asto18089(coolapk)  \n- @顺其自然的肥肉(coolapk)  \n- @酷斗吧(coolapk)  \n- @何为永恒(coolapk)  \n- @我为啥叫这个(coolapk)  \n- @goddard(coolapk)  \n- @正果sss(coolapk)  \n- @Cowen(coolapk)  \n- @瞬光飞翔(coolapk)  \n- @kuiot(coolapk)  \n- @常凯申将军(coolapk)  \n- emptybot08(github)  \n- ahzhi(github)  \n- Saumer7(github)  \n\n## 捐赠\n\n如果你实在愿意，下面是感谢云讨饭通道(备注写上你的ID和来源平台)：  \n\n![](media/alipay-qr.png)"
        },
        {
          "name": "changelog.md",
          "type": "blob",
          "size": 3.0556640625,
          "content": "# 更新日志\n\n## DEV 22.09.04\n\n- 改进 cpuset分组预留核心\n- 改进 sdm8g1+隐藏频点支持\n- 改进 减少二进制体积\n- 修复 Exynos2100王者荣耀掉帧，感谢@chbqby\n\n## DEV 22.07.24\n\n- 新增 Helio P35/G35/G37支持\n- 改进 小核能耗模型\n- 改进 框架执行效率\n- 修复 熄屏指纹识别偏慢\n\n## DEV 22.07.09\n\n- 新增 sdm8g1+支持\n- 改进 任务放置\n- 改进 功耗估计准确度\n\n## DEV 22.06.26\n\n- 新增 移除`swjunk`\n- 改进 功耗分配\n- 改进 任务放置\n- 修复 后台程序破音\n\n## DEV 22.06.05\n\n- 新增 更多兼容性CPU频率写入器\n- 新增 兼容性生成CPU频率表\n- 修复 微信小程序启动缓慢\n- 修复 前台程序破音\n- 修复 部分崩溃问题\n- 修复 部分高通平台息屏功耗过高，感谢@NepPoseidon\n\n## DEV 22.05.20\n\n- 新增 开放配置文件自定义\n- 改进 CPU重负载调频稳定性\n- 改进 任务放置\n- 改进 顶层APP获取开销，感谢@nakixii\n- 修复 perapp切换崩溃\n- 修复 部分潜在崩溃代码\n- 修复 CPU频率写入器失效\n\n## DEV 22.05.09\n\n- 回退 混合CPU调频\n- 改进 触摸响应\n- 改进 CPU负载滤波器\n- 修复 sdm82x部分场景CPU频率无法写入\n- 修复 Exynos 2200支持\n\n## DEV 22.05.04\n\n- 新增 混合CPU调频\n- 改进 Android 7.0兼容性\n- 修复 EPIC写入器自检错误\n- 修复 全面屏手势失效，感谢@NebulaLeep\n- 暂时禁用SsAnalysis模块，由于降低了过渡动画流畅度\n\n## DEV 22.04.30\n\n- 改进 提高滑动操作跟手性\n- 改进 内核CPU调速器兼容性\n- 修复 部分设备全面屏手势失效\n- 修复 Pixel设备自动重启\n- 修复 任务调度器任务分类错误\n- 修复 游戏负载放置不稳定\n- 修复 游戏最小化破音\n\n## DEV 22.04.23\n\n- 增加 系统动画主动探针\n- 增加 CPU采样器负载预测\n- 增加 与系统用户态性能控制器协同调度\n- 增加 桌面启动器自动识别\n- 增加 适配谷歌tensor/天玑810\n- 改进 提高手势操作跟手性\n- 改进 减少SfAnalysis误报\n- 修复 识别上下文的任务调度器规则匹配错误\n- 修复 联发科PPM接口适配\n- 修复 破音问题\n- 修复 部分平台功耗模型\n\n## DEV 22.04.09\n\n- 增加大量平台初步适配\n- 改进Unity游戏和吃鸡游戏抖动\n- 改进弹幕2倍速视频流畅度\n- 更新部分平台功耗模型\n- 日志后缀名更换为txt\n\n## DEV 22.04.04\n\n- 插件式软件架构\n  - 使用C++重新开发\n  - 功能模块解耦，易扩展\n- 感知能耗的CPU调频器\n  - 用户态使能全平台统一体验\n  - 单核高性能，多核高能效\n  - 20-100hz基础采样率，快响应低开销\n- 识别上下文的任务调度器\n  - UI放大核，非关键放小核\n  - 全数据驱动，正则匹配\n  - 花费50%开发时间调试的默认规则\n- 动态sysfs写入\n  - 用户态性能控制器基石功能\n  - 实现更加简约高效\n- SfAnalysis\n  - 预测掉帧并在发生前拉升CPU\n  - 改进的帧反馈以及模糊匹配\n  - patch方式无需更改SELinux状态\n  - 独立选装，但是强烈推荐\n- SsAnalysis\n  - 跟系统线程放置器斗智斗勇\n  - 独立选装，但是强烈推荐\n"
        },
        {
          "name": "config",
          "type": "tree",
          "content": null
        },
        {
          "name": "magisk",
          "type": "tree",
          "content": null
        },
        {
          "name": "media",
          "type": "tree",
          "content": null
        },
        {
          "name": "version.json",
          "type": "blob",
          "size": 0.216796875,
          "content": "{\n  \"versionCode\": 220904,\n  \"version\": \"v3\",\n  \"zipUrl\": \"https://github.com/yc9559/uperf/releases/download/dev-22.09.04/uperf-dev-22.09.04.zip\",\n  \"changelog\": \"https://github.com/yc9559/uperf/raw/master/changelog.md\"\n}\n"
        }
      ]
    }
  ]
}