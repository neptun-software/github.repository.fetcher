{
  "metadata": {
    "timestamp": 1736568555893,
    "page": 583,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjU4OQ==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "fossasia/xmario_buildscript",
      "stars": 1537,
      "defaultBranch": "master",
      "files": [
        {
          "name": "README.md",
          "type": "blob",
          "size": 0.0439453125,
          "content": "buildscript\n===========\n\nx-mario build script"
        },
        {
          "name": "build.sh",
          "type": "blob",
          "size": 8.7646484375,
          "content": "#!/bin/bash\n# lxgames-build.sh -- creates an LXgames LiveCD ISO, based on lubuntu-build.sh\n# Author: Thanh Nguyen <thanhnguyen@mbm.vn>\n# Based heavily on HOWTO information by \n#   Julien Lavergne <gilir@ubuntu.com>\n# Version: 20110303\n\nset -eu\t\t\t\t# Be strict\n\n# Script parameters: arch mirror gnomelanguage release\n# Arch to build ISO for, i386 or amd64\narch=${1:-i386}\n# Ubuntu mirror to use\n#mirror=${2:-\"http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive\"}\nmirror=${2:-\"http://vn.archive.ubuntu.com/ubuntu/\"}\n# Set of GNOME language packs to install.\n#   Use '\\*' for all langs, 'en' for English.\n# Install language with the most popcon\ngnomelanguage=${3:-'{en}'}\t#\n# Release name, used by debootstrap.  Examples: lucid, maverick, natty.\nrelease=${4:-precise}\n\n# Necessary data files\ndatafiles=\"image-${arch}.tar.lzma sources.list\"\n# Necessary development tool packages to be installed on build host\ndevtools=\"debootstrap genisoimage p7zip-full squashfs-tools ubuntu-dev-tools\"\n\n# Make sure we have the data files we need\nfor i in $datafiles\ndo\n  if [ ! -f $i ]; then\n    echo \"$0: ERROR: data file `pwd`/$i not found\"\n    exit 1\n  fi\ndone\n\n# Make sure we have the tools we need installed\nsudo apt-get -q install $devtools -y --no-install-recommends\n\n# Create and populate the chroot using debootstrap\n[ -d chroot ] && sudo rm -R chroot/\n# Debootstrap outputs a lot of 'Information' lines, which can be ignored\nsudo debootstrap --arch=${arch} ${release} chroot ${mirror} # 2>&1 |grep -v \"^I: \"\n# Use /etc/resolv.conf from the host machine during the build\nsudo cp -v /etc/resolv.conf chroot/etc/resolv.conf\n\n# Copy the source.list to enable universe / multiverse in the chroot, and eventually additional repos.\nsudo cp -v sources.list chroot/etc/apt/sources.list\n\n# Work *inside* the chroot\nsudo chroot chroot <<EOF\n# Mount needed three pseudo-filesystems\nmount -t proc none /proc\nmount -t sysfs none /sys\nmount -t devpts none /dev/pts\n\n# Set up several useful shell variables\nexport CASPER_GENERATE_UUID=1\nexport HOME=/root\nexport TTY=unknown\nexport TERM=vt100\nexport DEBIAN_FRONTEND=noninteractive\nexport LANG=C\nexport LIVE_BOOT_SCRIPTS=\"casper lupin-casper\"\n\n#  To allow a few apps using upstart to install correctly. JM 2011-02-21\ndpkg-divert --local --rename --add /sbin/initctl\nln -s /bin/true /sbin/initctl\n\n# Add key for third party repo\n#apt-key adv --keyserver keyserver.ubuntu.com --recv-keys CF57B0F4\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys E1098513\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1EBD81D9\n# Fix \"The following packages cannot be authenticated!\"\napt-get install debian-archive-keyring\n# Update in-chroot package database\napt-get -q update\n\n# Install core packages\napt-get -q -y --purge install ubuntu-standard casper lupin-casper \\\n  laptop-detect os-prober linux-generic\n\n# Install base packages\napt-get -q -y --purge install plymouth-theme-xmario\napt-get -q -y --purge -o Dpkg::Options::=\"--force-overwrite\" install --no-install-recommends xmario-default-settings\napt-get -q -y --purge install --no-install-recommends lxsession lightdm lightdm-gtk-greeter lubuntu-artwork \\\n  lubuntu-icon-theme xmario-default-session \\\n  wicd wicd-gtk xorg dbus-x11 openbox ubiquity-frontend-gtk\n\n# Clean apt cache\napt-get clean\nmv /etc/chromium-browser/ /etc/chromium-browser_\n\n# Install specific packages\napt-get -q -y -o Dpkg::Options::=\"--force-overwrite\" --purge install chromium-browser lxlauncher-vala\n\nrm -rf /etc/chromium-browser\nmv /etc/chromium-browser_ /etc/chromium-browser \n\n# Install lxrandr to change monitor settings\napt-get -q -y --purge install lxrandr\n\n# Install games\napt-get -q -y --purge install openttd frozen-bubble supertux pokerth \\\n  armagetronad glchess gnomine gnome-mahjongg aisleriot freecol gnome-sudoku freeciv-client-gtk\napt-get -q -y --purge install smc\napt-get -q -y --purge install gnotski\napt-get -q -y --purge install gbrainy\napt-get -q -y --purge install flare \napt-get -q -y --purge install zaz\n\n# Install additional packages, only for the lice-cd (should be removed when creating the manifest)\napt-get -q -y --purge install pptp-linux ndiswrapper-utils-1.9 ndisgtk \\\n  linux-wlan-ng libatm1 setserial b43-fwcutter \\\n  linux-headers-generic\n  \n# Install GDM to fix ubiquity issue\napt-get -q -y --purge install gdm\napt-get -q -y --purge remove gdm\n\n# Install languages packs\napt-get -q -y --purge install language-pack-{en}\n\napt-get -q -y --purge install language-pack-gnome-${gnomelanguage}\n\n# Clean up the chroot before\nperl -i -nle 'print unless /^Package: language-(pack|support)/ .. /^$/;' /var/lib/apt/extended_states\napt-get clean\nrm -rf /tmp/*\nrm /etc/resolv.conf\n\n# Reverting earlier initctl override. JM 2012-0604\nrm /sbin/initctl\ndpkg-divert --rename --remove /sbin/initctl\n\n# Unmount pseudo-filesystems within chroot\numount -lf /proc\numount -lf /sys\numount -lf /dev/pts\nexit\n\nEOF\n\n###############################################################\n# Continue work outside the chroot, preparing image\necho $0: Preparing image...\n\n[ -d image ] && sudo /bin/rm -r image\ntar xf image-${arch}.tar.lzma\n\n# Copy the kernel from the chroot into the image for the LiveCD\nsudo cp chroot/boot/vmlinuz-3.*.**-**-generic image/casper/vmlinuz\nsudo cp chroot/boot/initrd.img-3.*.**-**-generic image/casper/initrd.lz\n\n# Extract initrd and update uuid configuration\n7z e image/casper/initrd.lz && \\\n  mkdir initrd_FILES/ && \\\n  mv initrd initrd_FILES/ && \\\n  cd initrd_FILES/ && \\\n  cpio -id < initrd && \\\n  cd .. && \\\n  cp initrd_FILES/conf/uuid.conf image/.disk/casper-uuid-generic && \\\n  rm -R initrd_FILES/\n\n# Fix old version and date info in .hlp files\nnewversion=\"12.04\"\t# Should be derived from releasename $4 FIXME\nfor oldversion in 10.04 10.10 11.04 11.10\ndo\n  sed -i -e \"s/${oldversion}/${newversion}/g\" image/isolinux/*.hlp image/isolinux/f1.txt\ndone\nnewdate=$(date -u +%Y%m%d)\nfor olddate in 20100113 20100928\ndo\n  sed -i -e \"s/${olddate}/${newdate}/g\" image/isolinux/*.hlp image/isolinux/f1.txt\ndone\n\n# Create filesystem manifests\nsudo chroot chroot dpkg-query -W --showformat='${Package} ${Version}\\n' >/tmp/manifest.$$\nsudo cp -v /tmp/manifest.$$ image/casper/filesystem.manifest\nsudo cp -v image/casper/filesystem.manifest image/casper/filesystem.manifest-desktop\nrm /tmp/manifest.$$\n\n# Remove packages from filesystem.manifest-desktop \n#  (language and extra for more hardware support)\nREMOVE='gparted plymouth-theme-ubuntu-text plymouth-theme-lubuntu-logo plymouth-theme-ubuntu-text plymouth-theme-script ubiquity ubiquity-frontend-gtk casper live-initramfs user-setup discover1 \n xresprobe libdebian-installer4 pptp-linux ndiswrapper-utils-1.9 \n ndisgtk linux-wlan-ng libatm1 setserial b43-fwcutter \n linux-headers-generic indicator-session indicator-application \n language-pack-*'\nfor i in $REMOVE \ndo\n    sudo sed -i \"/${i}/d\" image/casper/filesystem.manifest-desktop\ndone\n\n# Now squash the live filesystem\necho \"$0: Starting mksquashfs at $(date -u) ...\"\nsudo mksquashfs chroot image/casper/filesystem.squashfs -noappend -no-progress\necho \"$0: Finished mksquashfs at $(date -u )\"\n\n# Generate md5sum.txt checksum file \ncd image && sudo find . -type f -print0 |xargs -0 sudo md5sum |grep -v \"\\./md5sum.txt\" >md5sum.txt\n\n# Generate a small temporary ISO so we get an updated boot.cat\nIMAGE_NAME=${IMAGE_NAME:-\"X-Mario ${release} $(date -u +%Y%m%d) - ${arch}\"}\nISOFILE=xmario-${release}-$(date -u +%Y%m%d)-${arch}.iso\nsudo mkisofs -r -V \"$IMAGE_NAME\" -cache-inodes -J -l \\\n  -b isolinux/isolinux.bin -c isolinux/boot.cat \\\n  -no-emul-boot -boot-load-size 4 -boot-info-table \\\n  --publisher \"X-Mario Packaging Team\" \\\n  --volset \"Ubuntu Linux http://www.ubuntu.com\" \\\n  -p \"${DEBFULLNAME:-$USER} <${DEBEMAIL:-on host $(hostname --fqdn)}>\" \\\n  -A \"$IMAGE_NAME\" \\\n  -m filesystem.squashfs \\\n  -o ../$ISOFILE.tmp .\n\n# Mount the temp ISO and copy boot.cat out of it\ntempmount=/tmp/$0.tempmount.$$\nmkdir $tempmount\nloopdev=$(sudo losetup -f)\nsudo losetup $loopdev ../$ISOFILE.tmp\nsudo mount -r -t iso9660 $loopdev $tempmount\nsudo cp -vp $tempmount/isolinux/boot.cat isolinux/\nsudo umount $loopdev\nsudo losetup -d $loopdev\nrmdir $tempmount\n\n# Generate md5sum.txt checksum file (now with new improved boot.cat)\nsudo find . -type f -print0 |xargs -0 sudo md5sum |grep -v \"\\./md5sum.txt\" >md5sum.txt\n\n# Remove temp ISO file\nsudo rm ../$ISOFILE.tmp\n\n# Create an X-Mario ISO from the image directory tree\nsudo mkisofs -r -V \"$IMAGE_NAME\" -cache-inodes -J -l \\\n  -allow-limited-size -udf \\\n  -b isolinux/isolinux.bin -c isolinux/boot.cat \\\n  -no-emul-boot -boot-load-size 4 -boot-info-table \\\n  --publisher \"X-Mario Packaging Team\" \\\n  --volset \"Ubuntu Linux http://www.ubuntu.com\" \\\n  -p \"${DEBFULLNAME:-$USER} <${DEBEMAIL:-on host $(hostname --fqdn)}>\" \\\n  -A \"$IMAGE_NAME\" \\\n  -o ../$ISOFILE .\n\n# Fix up ownership and permissions on newly created ISO file\nsudo chown $USER:$USER ../$ISOFILE\nchmod 0444 ../$ISOFILE\n\n# Create the associated md5sum file\ncd ..\nmd5sum $ISOFILE >${ISOFILE}.md5\n"
        },
        {
          "name": "build_DVD.sh",
          "type": "blob",
          "size": 10.615234375,
          "content": "#!/bin/bash\n# lxgames-build.sh -- creates an LXgames LiveCD ISO, based on lubuntu-build.sh\n# Author: Thanh Nguyen <thanhnguyen@mbm.vn>\n# Based heavily on HOWTO information by \n#   Julien Lavergne <gilir@ubuntu.com>\n# Version: 20110303\n\nset -eu\t\t\t\t# Be strict\n\n# Script parameters: arch mirror gnomelanguage release\n# Arch to build ISO for, i386 or amd64\narch=${1:-i386}\n# Ubuntu mirror to use\nmirror=${2:-\"http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive\"}\n# Set of GNOME language packs to install.\n#   Use '\\*' for all langs, 'en' for English.\n# Install language with the most popcon\ngnomelanguage=${3:-'{en}'}\t#\n# Release name, used by debootstrap.  Examples: lucid, maverick, natty.\nrelease=${4:-precise}\n\n# Necessary data files\ndatafiles=\"image-${arch}.tar.lzma sources.list\"\n# Necessary development tool packages to be installed on build host\ndevtools=\"debootstrap genisoimage p7zip-full squashfs-tools ubuntu-dev-tools\"\n\n# Make sure we have the data files we need\nfor i in $datafiles\ndo\n  if [ ! -f $i ]; then\n    echo \"$0: ERROR: data file `pwd`/$i not found\"\n    exit 1\n  fi\ndone\n\n# Make sure we have the tools we need installed\nsudo apt-get -q install $devtools -y --no-install-recommends\n\n# Create and populate the chroot using debootstrap\n[ -d chroot ] && sudo rm -R chroot/\n# Debootstrap outputs a lot of 'Information' lines, which can be ignored\nsudo debootstrap --arch=${arch} ${release} chroot ${mirror} # 2>&1 |grep -v \"^I: \"\n# Use /etc/resolv.conf from the host machine during the build\nsudo cp -v /etc/resolv.conf chroot/etc/resolv.conf\n\n# Copy the source.list to enable universe / multiverse in the chroot, and eventually additional repos.\nsudo cp -v sources.list chroot/etc/apt/sources.list\n\n# Work *inside* the chroot\nsudo chroot chroot <<EOF\n# Mount needed three pseudo-filesystems\nmount -t proc none /proc\nmount -t sysfs none /sys\nmount -t devpts none /dev/pts\n\n# Set up several useful shell variables\nexport CASPER_GENERATE_UUID=1\nexport HOME=/root\nexport TTY=unknown\nexport TERM=vt100\nexport DEBIAN_FRONTEND=noninteractive\nexport LANG=C\nexport LIVE_BOOT_SCRIPTS=\"casper lupin-casper\"\n\n#  To allow a few apps using upstart to install correctly. JM 2011-02-21\ndpkg-divert --local --rename --add /sbin/initctl\nln -s /bin/true /sbin/initctl\n\n# Add key for third party repo\n#apt-key adv --keyserver keyserver.ubuntu.com --recv-keys CF57B0F4\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys E1098513\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1EBD81D9\n\n# Update in-chroot package database\napt-get -q update\n\n# Install core packages\napt-get -q -y --purge install ubuntu-standard casper lupin-casper \\\n  laptop-detect os-prober linux-generic\n\n# Install base packages\napt-get -q -y --purge install --no-install-recommends  xmario-default-settings \\\n  lxsession lightdm lightdm-gtk-greeter lubuntu-artwork plymouth-theme-xmario \\\n  plymouth-theme-lubuntu-text lubuntu-icon-theme xmario-default-session \\\n  network-manager-gnome xorg dbus-x11 openbox ubiquity-frontend-gtk\n# Clean apt cache\napt-get clean\nmv /etc/chromium-browser/ /etc/chromium-browser_\n\n# Install specific packages\napt-get -q -y -o Dpkg::Options::=\"--force-overwrite\" --purge install chromium-browser lxlauncher-vala lxpanel\n\nrm -rf /etc/chromium-browser\nmv /etc/chromium-browser_ /etc/chromium-browser \n\n# Install lxrandr to change monitor settings\napt-get -q -y --purge install lxrandr\n\n# Install games\napt-get -q -y --purge install openttd frozen-bubble supertux pokerth \\\n  armagetronad glchess gnomine gnome-mahjongg aisleriot freecol gnome-sudoku freeciv-client-gtk\napt-get -q -y --purge install smc gnotski gbrainy zaz\n\n## A\napt-get -q -y --purge install abe abuse asc alex4 alienblaster alien-arena amoebax assaultcube adonthell airstrike \\\n  amphetamine angband gbatnav\n\n## B\napt-get -q -y --purge install ballz wesnoth btanks beneath-a-steel-sky blobwars bombardier boswars bygfoot \\\n  blobwars bugsquish bzflag\n## C\napt-get -q -y --purge install granatier crack-attack criticalmass crossfire-client crossfire-server csmash \\\n  chromium-bsu circuslinux crack-attack crimson crystalspace-glshader-cg \n\n## D \napt-get -q -y --purgeinstall dodgindiamond2 defendguin dopewars dosbox\n\n## C\napt-get -q -y --purge install egoboo enigma efp extremetuxracer empire exult  \n  \n\n## F\napt-get -q -y --purge install kblocks fillets-ng flight-of-the-amazon-queen foobillard freeciv-client-gtk freeciv-server \\\n  freecol freedoom freedroid frozen-bubble flightgear foobillard freedroid freesci frogatto \n\n## G\napt-get -q -y --purge install gcompris gemdropx gl-117 gnubg sopwith gweled glest gltron glchess gtkatlantic \n\n## H\napt-get --q -y --purge install hedgewars heroes-sdl\n\n## K\napt-get -q -y --purge install kcheckers knights kobodeluxe knights\n\n## L\napt-get -q -y --purge install lincity-ng liquidwar lmarbles londonlaw lordsawar jumpnbump  lbreakout2 \\\n  lgeneral lincity-ng liquidwar ltris lugaru\n\n## M\napt-get -q -y --purge install maelstrom magicor mana mirrormagic madbomber monkey-bubble monsterz\n\n## N\napt-get -q -y --purge install nethack-x11 netpanzer neverball neverputt\n\n## O\napt-get -q -y --purge oolite opencity openttd orbital-eunuchs-sniper \n## P\napt-get -q -y --purge install pachi pinball pingus pioneers pipenightdreams planets \\\n  powermanga pychess pysolfc penguin-command pingus planetpenguin-racer powermanga \\\n  pychess pysolfc \n  \n## Q\napt-get -q -y --purge install quarry quake\n\n## R\napt-get -q -y --purge install ri-li rocksndiamonds\n\n## S\napt-get -q -y --purge install scorched3d scummvm solarwolf stormbaancoureur supertux supertuxkart \\\n  snowballz simutrans spacearyarya\n\n## T \napt-get -q -y --purge install tecnoballz torcs trackballs tuxtype tremulous teg thrust tomatoes toppler \\\n  tuxpuck\n\n## U\n\n## V\napt-get -q -y --purge install vodovod vectoroids\n\n## W\napt-get -q -y --purge install warmux warzone2100 widelands\n\n## X\napt-get -q -y --purge install xblast xgalaga xmoto Xbill xblast-tnt xscorch \n\n## Z\napt-get -q -y --purge install zangband\n\n# Install additional packages, only for the lice-cd (should be removed when creating the manifest)\napt-get -q -y --purge install pptp-linux ndiswrapper-utils-1.9 ndisgtk \\\n  linux-wlan-ng libatm1 setserial b43-fwcutter \\\n  linux-headers-generic\n  \n# Install GDM to fix ubiquity issue\napt-get -q -y --purge install gdm\napt-get -q -y --purge remove gdm\n\n# Install languages packs\napt-get -q -y --purge install language-pack-{en}\n\napt-get -q -y --purge install language-pack-gnome-${gnomelanguage}\n\n# Clean up the chroot before\nperl -i -nle 'print unless /^Package: language-(pack|support)/ .. /^$/;' /var/lib/apt/extended_states\napt-get clean\nrm -rf /tmp/*\nrm /etc/resolv.conf\n\n# Reverting earlier initctl override. JM 2012-0604\nrm /sbin/initctl\ndpkg-divert --rename --remove /sbin/initctl\n\n# Unmount pseudo-filesystems within chroot\numount -lf /proc\numount -lf /sys\numount -lf /dev/pts\nexit\n\nEOF\n\n###############################################################\n# Continue work outside the chroot, preparing image\necho $0: Preparing image...\n\n[ -d image ] && sudo /bin/rm -r image\ntar xf image-${arch}.tar.lzma\n\n# Copy the kernel from the chroot into the image for the LiveCD\nsudo cp chroot/boot/vmlinuz-3.*.**-**-generic image/casper/vmlinuz\nsudo cp chroot/boot/initrd.img-3.*.**-**-generic image/casper/initrd.lz\n\n# Extract initrd and update uuid configuration\n7z e image/casper/initrd.lz && \\\n  mkdir initrd_FILES/ && \\\n  mv initrd initrd_FILES/ && \\\n  cd initrd_FILES/ && \\\n  cpio -id < initrd && \\\n  cd .. && \\\n  cp initrd_FILES/conf/uuid.conf image/.disk/casper-uuid-generic && \\\n  rm -R initrd_FILES/\n\n# Fix old version and date info in .hlp files\nnewversion=\"11.10\"\t\t# Should be derived from releasename $4 FIXME\nfor oldversion in 10.04 10.10 11.04\ndo\n  sed -i -e \"s/${oldversion}/${newversion}/g\" image/isolinux/*.hlp image/isolinux/f1.txt\ndone\nnewdate=$(date -u +%Y%m%d)\nfor olddate in 20100113 20100928\ndo\n  sed -i -e \"s/${olddate}/${newdate}/g\" image/isolinux/*.hlp image/isolinux/f1.txt\ndone\n\n# Create filesystem manifests\nsudo chroot chroot dpkg-query -W --showformat='${Package} ${Version}\\n' >/tmp/manifest.$$\nsudo cp -v /tmp/manifest.$$ image/casper/filesystem.manifest\nsudo cp -v image/casper/filesystem.manifest image/casper/filesystem.manifest-desktop\nrm /tmp/manifest.$$\n\n# Remove packages from filesystem.manifest-desktop \n#  (language and extra for more hardware support)\nREMOVE='gparted ubiquity ubiquity-frontend-gtk casper live-initramfs user-setup discover1 \n xresprobe libdebian-installer4 pptp-linux ndiswrapper-utils-1.9 \n ndisgtk linux-wlan-ng libatm1 setserial b43-fwcutter \n linux-headers-generic indicator-session indicator-application \n language-pack-*'\nfor i in $REMOVE \ndo\n    sudo sed -i \"/${i}/d\" image/casper/filesystem.manifest-desktop\ndone\n\n# Now squash the live filesystem\necho \"$0: Starting mksquashfs at $(date -u) ...\"\nsudo mksquashfs chroot image/casper/filesystem.squashfs -noappend -no-progress\necho \"$0: Finished mksquashfs at $(date -u )\"\n\n# Generate md5sum.txt checksum file \ncd image && sudo find . -type f -print0 |xargs -0 sudo md5sum |grep -v \"\\./md5sum.txt\" >md5sum.txt\n\n# Generate a small temporary ISO so we get an updated boot.cat\nIMAGE_NAME=${IMAGE_NAME:-\"X-Mario ${release} $(date -u +%Y%m%d) - ${arch}\"}\nISOFILE=xmario-${release}-$(date -u +%Y%m%d)-${arch}.iso\nsudo mkisofs -r -V \"$IMAGE_NAME\" -cache-inodes -J -l \\\n  -b isolinux/isolinux.bin -c isolinux/boot.cat \\\n  -no-emul-boot -boot-load-size 4 -boot-info-table \\\n  --publisher \"X-Mario Packaging Team\" \\\n  --volset \"Ubuntu Linux http://www.ubuntu.com\" \\\n  -p \"${DEBFULLNAME:-$USER} <${DEBEMAIL:-on host $(hostname --fqdn)}>\" \\\n  -A \"$IMAGE_NAME\" \\\n  -m filesystem.squashfs \\\n  -o ../$ISOFILE.tmp .\n\n# Mount the temp ISO and copy boot.cat out of it\ntempmount=/tmp/$0.tempmount.$$\nmkdir $tempmount\nloopdev=$(sudo losetup -f)\nsudo losetup $loopdev ../$ISOFILE.tmp\nsudo mount -r -t iso9660 $loopdev $tempmount\nsudo cp -vp $tempmount/isolinux/boot.cat isolinux/\nsudo umount $loopdev\nsudo losetup -d $loopdev\nrmdir $tempmount\n\n# Generate md5sum.txt checksum file (now with new improved boot.cat)\nsudo find . -type f -print0 |xargs -0 sudo md5sum |grep -v \"\\./md5sum.txt\" >md5sum.txt\n\n# Remove temp ISO file\nsudo rm ../$ISOFILE.tmp\n\n# Create an X-Mario ISO from the image directory tree\nsudo mkisofs -r -V \"$IMAGE_NAME\" -cache-inodes -J -l \\\n  -allow-limited-size -udf \\\n  -b isolinux/isolinux.bin -c isolinux/boot.cat \\\n  -no-emul-boot -boot-load-size 4 -boot-info-table \\\n  --publisher \"X-Mario Packaging Team\" \\\n  --volset \"Ubuntu Linux http://www.ubuntu.com\" \\\n  -p \"${DEBFULLNAME:-$USER} <${DEBEMAIL:-on host $(hostname --fqdn)}>\" \\\n  -A \"$IMAGE_NAME\" \\\n  -o ../$ISOFILE .\n\n# Fix up ownership and permissions on newly created ISO file\nsudo chown $USER:$USER ../$ISOFILE\nchmod 0444 ../$ISOFILE\n\n# Create the associated md5sum file\ncd ..\nmd5sum $ISOFILE >${ISOFILE}.md5\n"
        },
        {
          "name": "image-i386.tar.lzma",
          "type": "blob",
          "size": 6941.4375,
          "content": ""
        },
        {
          "name": "sources.list",
          "type": "blob",
          "size": 2.8251953125,
          "content": "# See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to\n# newer versions of the distribution.\n\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise main restricted\n# deb-src http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise restricted main multiverse universe\n\n## Major bug fix updates produced after the final release of the\n## distribution.\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise-updates main restricted\n# deb-src http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise-updates restricted main multiverse universe\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu\n## team. Also, please note that software in universe WILL NOT receive any\n## review or updates from the Ubuntu security team.\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise universe\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise-updates universe\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu \n## team, and may not be under a free licence. Please satisfy yourself as to \n## your rights to use the software. Also, please note that software in \n## multiverse WILL NOT receive any review or updates from the Ubuntu\n## security team.\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise multiverse\ndeb http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise-updates multiverse\n\n## Uncomment the following two lines to add software from the 'backports'\n## repository.\n## N.B. software from this repository may not have been tested as\n## extensively as that contained in the main release, although it includes\n## newer versions of some applications which may provide useful features.\n## Also, please note that software in backports WILL NOT receive any review\n## or updates from the Ubuntu security team.\n# deb-src http://192.168.1.200:3142/ubuntu.ctu.edu.vn/archive/ precise-backports main restricted universe multiverse\n\n## Uncomment the following two lines to add software from Canonical's\n## 'partner' repository.\n## This software is not part of Ubuntu, but is offered by Canonical and the\n## respective vendors as a service to Ubuntu users.\n# deb http://archive.canonical.com/ubuntu precise partner\n# deb-src http://archive.canonical.com/ubuntu precise partner\n\ndeb http://192.168.1.200:3142/security.ubuntu.com/ubuntu precise-security main restricted\n# deb-src http://192.168.1.200:3142/security.ubuntu.com/ubuntu precise-security restricted main multiverse universe\ndeb http://192.168.1.200:3142/security.ubuntu.com/ubuntu precise-security universe\ndeb http://192.168.1.200:3142/security.ubuntu.com/ubuntu precise-security multiverse\n\n#Lubuntu Repository\n#deb http://ppa.launchpad.net/lubuntu-desktop/ppa/ubuntu precise main\n#deb http://192.168.1.200:3142/ppa.launchpad.net/gilir/lubuntu/ubuntu precise main \ndeb http://packages.x-mario.com / \n"
        }
      ]
    }
  ]
}