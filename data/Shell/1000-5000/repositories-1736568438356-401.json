{
  "metadata": {
    "timestamp": 1736568438356,
    "page": 401,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQwOQ==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "nahamsec/lazyrecon",
      "stars": 1936,
      "defaultBranch": "master",
      "files": [
        {
          "name": "README.MD",
          "type": "blob",
          "size": 2.841796875,
          "content": "```\n  _     ____  ____ ___  _ ____  _____ ____ ____  _\n / \\   /  _ \\/_   \\\\  \\///  __\\/  __//   _Y  _ \\/ \\  /|\n | |   | / \\| /   / \\  / |  \\/||  \\  |  / | / \\|| |\\ ||\n | |_/\\| |-||/   /_ / /  |    /|  /_ |  \\_| \\_/|| | \\||\n \\____/\\_/ \\|\\____//_/   \\_/\\_\\\\____\\\\____|____/\\_/  \\|\n\n```\n\n# Usage\n\n`./lazyrecon.sh -d domain.com`\n\nTo exclude particular subdomains:\n\n`./lazyrecon.sh -d domain.com -e excluded.domain.com,other.domain.com`\n\n# About\n\nLazyRecon is a script written in Bash, it is intended to automate some tedious tasks of reconnaissance and information gathering.\nThis tool allows you to gather some information that should help you identify what to do next and where to look.\n\n\n# Main Features \n- Create a dated folder with recon notes\n- Grab subdomains using:\n\n      * Sublist3r, certspotter and cert.sh\n      * Dns bruteforcing using massdns\n      \n- Find any CNAME records pointing to unused cloud services like aws\n- Probe for live hosts over ports 80/443\n- Grab a screenshots of responsive hosts \n- Scrape wayback for data:\n\n      * Extract javascript files\n      * Build custom parameter wordlist, ready to be loaded later into Burp intruder or any other tool\n      * Extract any urls with .jsp, .php or .aspx and store them for further inspection\n      \n- Perform nmap on specific ports \n- Get dns information about every subdomain\n- Perform dirsearch for all subdomains \n- Generate a HTML report with output from the tools above\n- Improved reporting and less output while doing the work\n- Dark mode for html reports\n\n\n# New features\n- Directory search module is now MULTITHREADED (up to 10 subdomains scanned at a time)\n- Enhanced html reports with the ability to search for strings, endpoints, reponse sizes or status codes\n- Subdomain exclusion by using option `-e` like this: `-e excluded.domain.com,other.domain.com`\n\n# DEMO\n![cli output](https://github.com/plenumlab/lazyrecon/raw/dev/upgrade/recon.gif)\n=================================================================================\n![report demo](https://github.com/plenumlab/lazyrecon/raw/dev/upgrade/report.gif)\n\n\n# Installation & Requirements\n- Download the install script from https://github.com/nahamsec/bbht.\n- Go version 1.10 or later.\n\n### System Requirements\n- Recommended to run on vps with 1VCPU and 2GB ram.\n\n\n\n# Authors and Thanks\nThis script makes use of tools developped by the following people\n- [Tom Hudson - Tomonomnom](https://github.com/tomnomnom)\n- [Ahmed Aboul-Ela - Aboul3la](https://github.com/aboul3la)\n- [B. Blechschmidt - Blechschmidt](https://github.com/blechschmidt)\n- [Thomas D. - Maaaaz](https://github.com/maaaaz)\n- [Daniel Miessler - Danielmiessler](https://github.com/danielmiessler)\n\n\n# TO DO\n- Report only mode to generate reports for old dirsearch data\n\n\n\n\n\n\n**Warning:** This code was originally created for personal use, it generates a substantial amount of traffic, please use with caution. \n\n\n"
        },
        {
          "name": "lazyrecon.sh",
          "type": "blob",
          "size": 28.4658203125,
          "content": "#!/bin/bash\n\n\n########################################\n# ///                                        \\\\\\\n#  \t\tYou can edit your configuration here\n#\n#\n########################################\nauquatoneThreads=5\nsubdomainThreads=10\ndirsearchThreads=50\ndirsearchWordlist=~/tools/dirsearch/db/dicc.txt\nmassdnsWordlist=~/tools/SecLists/Discovery/DNS/clean-jhaddix-dns.txt\nchromiumPath=/snap/bin/chromium\n########################################\n# Happy Hunting\n########################################\n\n\n\n\n\n\nred=`tput setaf 1`\ngreen=`tput setaf 2`\nyellow=`tput setaf 3`\nreset=`tput sgr0`\n\nSECONDS=0\n\ndomain=\nsubreport=\nusage() { echo -e \"Usage: ./lazyrecon.sh -d domain.com [-e] [excluded.domain.com,other.domain.com]\\nOptions:\\n  -e\\t-\\tspecify excluded subdomains\\n \" 1>&2; exit 1; }\n\nwhile getopts \":d:e:r:\" o; do\n    case \"${o}\" in\n        d)\n            domain=${OPTARG}\n            ;;\n\n            #### working on subdomain exclusion\n        e)\n            set -f\n\t    IFS=\",\"\n\t    excluded+=($OPTARG)\n\t    unset IFS\n            ;;\n\n\t\tr)\n            subreport+=(\"$OPTARG\")\n            ;;\n        *)\n            usage\n            ;;\n    esac\ndone\nshift $((OPTIND - 1))\n\nif [ -z \"${domain}\" ] && [[ -z ${subreport[@]} ]]; then\n   usage; exit 1;\nfi\n\ndiscovery(){\n\thostalive $domain\n\tcleandirsearch $domain\n\taqua $domain\n\tcleanup $domain\n\twaybackrecon $domain\n\tdirsearcher\n}\n\nwaybackrecon () {\necho \"Scraping wayback for data...\"\ncat ./$domain/$foldername/urllist.txt | waybackurls > ./$domain/$foldername/wayback-data/waybackurls.txt\ncat ./$domain/$foldername/wayback-data/waybackurls.txt  | sort -u | unfurl --unique keys > ./$domain/$foldername/wayback-data/paramlist.txt\n[ -s ./$domain/$foldername/wayback-data/paramlist.txt ] && echo \"Wordlist saved to /$domain/$foldername/wayback-data/paramlist.txt\"\n\ncat ./$domain/$foldername/wayback-data/waybackurls.txt  | sort -u | grep -P \"\\w+\\.js(\\?|$)\" | sort -u > ./$domain/$foldername/wayback-data/jsurls.txt\n[ -s ./$domain/$foldername/wayback-data/jsurls.txt ] && echo \"JS Urls saved to /$domain/$foldername/wayback-data/jsurls.txt\"\n\ncat ./$domain/$foldername/wayback-data/waybackurls.txt  | sort -u | grep -P \"\\w+\\.php(\\?|$) | sort -u \" > ./$domain/$foldername/wayback-data/phpurls.txt\n[ -s ./$domain/$foldername/wayback-data/phpurls.txt ] && echo \"PHP Urls saved to /$domain/$foldername/wayback-data/phpurls.txt\"\n\ncat ./$domain/$foldername/wayback-data/waybackurls.txt  | sort -u | grep -P \"\\w+\\.aspx(\\?|$) | sort -u \" > ./$domain/$foldername/wayback-data/aspxurls.txt\n[ -s ./$domain/$foldername/wayback-data/aspxurls.txt ] && echo \"ASP Urls saved to /$domain/$foldername/wayback-data/aspxurls.txt\"\n\ncat ./$domain/$foldername/wayback-data/waybackurls.txt  | sort -u | grep -P \"\\w+\\.jsp(\\?|$) | sort -u \" > ./$domain/$foldername/wayback-data/jspurls.txt\n[ -s ./$domain/$foldername/wayback-data/jspurls.txt ] && echo \"JSP Urls saved to /$domain/$foldername/wayback-data/jspurls.txt\"\n}\n\ncleanup(){\n  cd ./$domain/$foldername/screenshots/\n  rename 's/_/-/g' -- *\n\n  cd $path\n}\n\nhostalive(){\necho \"Probing for live hosts...\"\ncat ./$domain/$foldername/alldomains.txt | sort -u | httprobe -c 50 -t 3000 >> ./$domain/$foldername/responsive.txt\ncat ./$domain/$foldername/responsive.txt | sed 's/\\http\\:\\/\\///g' |  sed 's/\\https\\:\\/\\///g' | sort -u | while read line; do\nprobeurl=$(cat ./$domain/$foldername/responsive.txt | sort -u | grep -m 1 $line)\necho \"$probeurl\" >> ./$domain/$foldername/urllist.txt\ndone\necho \"$(cat ./$domain/$foldername/urllist.txt | sort -u)\" > ./$domain/$foldername/urllist.txt\necho  \"${yellow}Total of $(wc -l ./$domain/$foldername/urllist.txt | awk '{print $1}') live subdomains were found${reset}\"\n}\n\nrecon(){\n\n  echo \"${green}Recon started on $domain ${reset}\"\n  echo \"Listing subdomains using sublister...\"\n  python ~/tools/Sublist3r/sublist3r.py -d $domain -t 10 -v -o ./$domain/$foldername/$domain.txt > /dev/null\n  echo \"Checking certspotter...\"\n  curl -s https://certspotter.com/api/v0/certs\\?domain\\=$domain | jq '.[].dns_names[]' | sed 's/\\\"//g' | sed 's/\\*\\.//g' | sort -u | grep $domain >> ./$domain/$foldername/$domain.txt\n  nsrecords $domain\n  excludedomains\n  echo \"Starting discovery...\"\n  discovery $domain\n  cat ./$domain/$foldername/$domain.txt | sort -u > ./$domain/$foldername/$domain.txt\n\n}\n\nexcludedomains(){\n  # from @incredincomp with love <3\n  echo \"Excluding domains (if you set them with -e)...\"\n  IFS=$'\\n'\n  # prints the $excluded array to excluded.txt with newlines \n  printf \"%s\\n\" \"${excluded[*]}\" > ./$domain/$foldername/excluded.txt\n  # this form of grep takes two files, reads the input from the first file, finds in the second file and removes\n  grep -vFf ./$domain/$foldername/excluded.txt ./$domain/$foldername/alldomains.txt > ./$domain/$foldername/alldomains2.txt\n  mv ./$domain/$foldername/alldomains2.txt ./$domain/$foldername/alldomains.txt\n  #rm ./$domain/$foldername/excluded.txt # uncomment to remove excluded.txt, I left for testing purposes\n  echo \"Subdomains that have been excluded from discovery:\"\n  printf \"%s\\n\" \"${excluded[@]}\"\n  unset IFS\n}\n\ndirsearcher(){\n\necho \"Starting dirsearch...\"\ncat ./$domain/$foldername/urllist.txt | xargs -P$subdomainThreads -I % sh -c \"python3 ~/tools/dirsearch/dirsearch.py -e php,asp,aspx,jsp,html,zip,jar -w $dirsearchWordlist -t $dirsearchThreads -u % | grep Target && tput sgr0 && ./lazyrecon.sh -r $domain -r $foldername -r %\"\n}\n\naqua(){\necho \"Starting aquatone scan...\"\ncat ./$domain/$foldername/urllist.txt | aquatone -chrome-path $chromiumPath -out ./$domain/$foldername/aqua_out -threads $auquatoneThreads -silent\n}\n\nsearchcrtsh(){\n ~/tools/massdns/scripts/ct.py $domain 2>/dev/null > ./$domain/$foldername/tmp.txt\n [ -s ./$domain/$foldername/tmp.txt ] && cat ./$domain/$foldername/tmp.txt | ~/tools/massdns/bin/massdns -r ~/tools/massdns/lists/resolvers.txt -t A -q -o S -w  ./$domain/$foldername/crtsh.txt\n cat ./$domain/$foldername/$domain.txt | ~/tools/massdns/bin/massdns -r ~/tools/massdns/lists/resolvers.txt -t A -q -o S -w  ./$domain/$foldername/domaintemp.txt\n}\n\nmass(){\n ~/tools/massdns/scripts/subbrute.py $massdnsWordlist $domain | ~/tools/massdns/bin/massdns -r ~/tools/massdns/lists/resolvers.txt -t A -q -o S | grep -v 142.54.173.92 > ./$domain/$foldername/mass.txt\n}\nnsrecords(){\n                echo \"Checking http://crt.sh\"\n                searchcrtsh $domain\n                echo \"Starting Massdns Subdomain discovery this may take a while\"\n                mass $domain > /dev/null\n                echo \"Massdns finished...\"\n                echo \"${green}Started dns records check...${reset}\"\n                echo \"Looking into CNAME Records...\"\n\n\n                cat ./$domain/$foldername/mass.txt >> ./$domain/$foldername/temp.txt\n                cat ./$domain/$foldername/domaintemp.txt >> ./$domain/$foldername/temp.txt\n                cat ./$domain/$foldername/crtsh.txt >> ./$domain/$foldername/temp.txt\n\n\n                cat ./$domain/$foldername/temp.txt | awk '{print $3}' | sort -u | while read line; do\n                wildcard=$(cat ./$domain/$foldername/temp.txt | grep -m 1 $line)\n                echo \"$wildcard\" >> ./$domain/$foldername/cleantemp.txt\n                done\n\n\n\n                cat ./$domain/$foldername/cleantemp.txt | grep CNAME >> ./$domain/$foldername/cnames.txt\n                cat ./$domain/$foldername/cnames.txt | sort -u | while read line; do\n                hostrec=$(echo \"$line\" | awk '{print $1}')\n                if [[ $(host $hostrec | grep NXDOMAIN) != \"\" ]]\n                then\n                echo \"${red}Check the following domain for NS takeover:  $line ${reset}\"\n                echo \"$line\" >> ./$domain/$foldername/pos.txt\n                else\n                echo -ne \"working on it...\\r\"\n                fi\n                done\n                sleep 1\n                cat ./$domain/$foldername/$domain.txt > ./$domain/$foldername/alldomains.txt\n                cat ./$domain/$foldername/cleantemp.txt | awk  '{print $1}' | while read line; do\n                x=\"$line\"\n                echo \"${x%?}\" >> ./$domain/$foldername/alldomains.txt\n                done\n                sleep 1\n\n}\n\nreport(){\n  subdomain=$(echo $subd | sed 's/\\http\\:\\/\\///g' |  sed 's/\\https\\:\\/\\///g')\n  echo \"${yellow}\t[+] Generating report for $subdomain\"\n\n   cat ./$domain/$foldername/aqua_out/aquatone_session.json | jq --arg v \"$subd\" -r '.pages[$v].headers[] | keys[] as $k | \"\\($k), \\(.[$k])\"' | grep -v \"decreasesSecurity\\|increasesSecurity\" >> ./$domain/$foldername/aqua_out/parsedjson/$subdomain.headers\n  dirsearchfile=$(ls ~/tools/dirsearch/reports/$subdomain/ | grep -v old)\n\n  touch ./$domain/$foldername/reports/$subdomain.html\n  echo '<html><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">' >> ./$domain/$foldername/reports/$subdomain.html\n  echo \"<head>\" >> ./$domain/$foldername/reports/$subdomain.html\n  echo \"<title>Recon Report for $subdomain</title>\n<style>.status.fourhundred{color:#00a0fc}\n.status.redirect{color:#d0b200}.status.fivehundred{color:#DD4A68}.status.jackpot{color:#0dee00}.status.weird{color:#cc00fc}img{padding:5px;width:360px}img:hover{box-shadow:0 0 2px 1px rgba(0,140,186,.5)}pre{font-family:Inconsolata,monospace}pre{margin:0 0 20px}pre{overflow-x:auto}article,header,img{display:block}#wrapper:after,.blog-description:after,.clearfix:after{content:}.container{position:relative}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}h1{margin:.67em 0}h1,h2{margin-bottom:20px}a{background-color:transparent;-webkit-text-decoration-skip:objects;text-decoration:none}.container,table{width:100%}.site-header{overflow:auto}.post-header,.post-title,.site-header,.site-title,h1,h2{text-transform:uppercase}p{line-height:1.5em}pre,table td{padding:10px}h2{padding-top:40px;font-weight:900}a{color:#00a0fc}body,html{height:100%}body{margin:0;background:#fefefe;color:#424242;font-family:Raleway,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',Arial,sans-serif;font-size:24px}h1{font-size:35px}h2{font-size:28px}p{margin:0 0 30px}pre{background:#f1f0ea;border:1px solid #dddbcc;border-radius:3px;font-size:16px}.row{display:flex}.column{flex:100%}table tbody>tr:nth-child(odd)>td,table tbody>tr:nth-child(odd)>th{background-color:#f7f7f3}table th{padding:0 10px 10px;text-align:left}.post-header,.post-title,.site-header{text-align:center}table tr{border-bottom:1px dotted #aeadad}::selection{background:#fff5b8;color:#000;display:block}::-moz-selection{background:#fff5b8;color:#000;display:block}.clearfix:after{display:table;clear:both}.container{max-width:100%}#wrapper{height:auto;min-height:100%;margin-bottom:-265px}#wrapper:after{display:block;height:265px}.site-header{padding:40px 0 0}.site-title{float:left;font-size:14px;font-weight:600;margin:0}.site-title a{float:left;background:#00a0fc;color:#fefefe;padding:5px 10px 6px}.post-container-left{width:49%;float:left;margin:auto}.post-container-right{width:49%;float:right;margin:auto}.post-header{border-bottom:1px solid #333;margin:0 0 50px;padding:0}.post-title{font-size:55px;font-weight:900;margin:15px 0}.blog-description{color:#aeadad;font-size:14px;font-weight:600;line-height:1;margin:25px 0 0;text-align:center}.single-post-container{margin-top:50px;padding-left:15px;padding-right:15px;box-sizing:border-box}body.dark{background-color:#1e2227;color:#fff}body.dark pre{background:#282c34}body.dark table tbody>tr:nth-child(odd)>td,body.dark table tbody>tr:nth-child(odd)>th{background:#282c34} table tbody>tr:nth-child(even)>th{background:#1e2227} input{font-family:Inconsolata,monospace} body.dark .status.redirect{color:#ecdb54} body.dark input{border:1px solid ;border-radius: 3px; background:#282c34;color: white} body.dark label{color:#f1f0ea} body.dark pre{color:#fff}</style>\n<script>\ndocument.addEventListener('DOMContentLoaded', (event) => {\n  ((localStorage.getItem('mode') || 'dark') === 'dark') ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')\n})\n</script>\" >> ./$domain/$foldername/reports/$subdomain.html\necho '<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/1.10.19/css/dataTables.material.min.css\">\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.3.1.js\"></script>\n<script type=\"text/javascript\" charset=\"utf8\" src=\"https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js\"></script><script type=\"text/javascript\" charset=\"utf8\" src=\"https://cdn.datatables.net/1.10.19/js/dataTables.material.min.js\"></script>'>> ./$domain/$foldername/reports/$subdomain.html\necho '<script>$(document).ready( function () {\n    $(\"#myTable\").DataTable({\n        \"paging\":   true,\n        \"ordering\": true,\n        \"info\":     true,\n\t     \"autoWidth\": true,\n            \"columns\": [{ \"width\": \"5%\" },{ \"width\": \"5%\" },null],\n                \"lengthMenu\": [[10, 25, 50,100, -1], [10, 25, 50,100, \"All\"]],\n\n    });\n} );</script></head>'>> ./$domain/$foldername/reports/$subdomain.html\n\necho '<body class=\"dark\"><header class=\"site-header\">\n<div class=\"site-title\"><p>' >> ./$domain/$foldername/reports/$subdomain.html\necho \"<a style=\\\"cursor: pointer\\\" onclick=\\\"localStorage.setItem('mode', (localStorage.getItem('mode') || 'dark') === 'dark' ? 'bright' : 'dark'); localStorage.getItem('mode') === 'dark' ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')\\\" title=\\\"Switch to light or dark theme\\\">ðŸŒ“ Light|dark mode</a>\n</p>\n</div>\n</header>\" >> ./$domain/$foldername/reports/$subdomain.html\necho '<div id=\"wrapper\"><div id=\"container\">'  >> ./$domain/$foldername/reports/$subdomain.html\necho \"<h1 class=\\\"post-title\\\" itemprop=\\\"name headline\\\">Recon Report for <a href=\\\"http://$subdomain\\\">$subdomain</a></h1>\" >> ./$domain/$foldername/reports/$subdomain.html\necho \"<p class=\\\"blog-description\\\">Generated by LazyRecon on $(date) </p>\" >> ./$domain/$foldername/reports/$subdomain.html\necho '<div class=\"container single-post-container\">\n<article class=\"post-container-left\" itemscope=\"\" itemtype=\"http://schema.org/BlogPosting\">\n<header class=\"post-header\">\n</header>\n<div class=\"post-content clearfix\" itemprop=\"articleBody\">\n<h2>Content Discovery</h2>' >> ./$domain/$foldername/reports/$subdomain.html\n\n\n\n  echo \"<table id='myTable' class='stripe'>\" >> ./$domain/$foldername/reports/$subdomain.html\n  echo \"<thead><tr>\n <th>Status Code</th>\n <th>Content-Length</th>\n <th>Url</th>\n </tr></thead><tbody>\" >> ./$domain/$foldername/reports/$subdomain.html\n\n   cat ~/tools/dirsearch/reports/$subdomain/$dirsearchfile | while read nline; do\n  status_code=$(echo \"$nline\" | awk '{print $1}')\n  size=$(echo \"$nline\" | awk '{print $2}')\n  url=$(echo \"$nline\" | awk '{print $3}')\n  path=${url#*[0-9]/}\n echo \"<tr>\" >> ./$domain/$foldername/reports/$subdomain.html\n if [[ \"$status_code\" == *20[012345678]* ]]; then\n    echo \"<td class='status jackpot'>$status_code</td><td class='status jackpot'>$size</td><td><a class='status jackpot' href='$url'>/$path</a></td>\" >> ./$domain/$foldername/reports/$subdomain.html\n  elif [[ \"$status_code\" == *30[012345678]* ]]; then\n    echo \"<td class='status redirect'>$status_code</td><td class='status redirect'>$size</td><td><a class='status redirect' href='$url'>/$path</a></td>\" >> ./$domain/$foldername/reports/$subdomain.html\n  elif [[ \"$status_code\" == *40[012345678]* ]]; then\n    echo \"<td class='status fourhundred'>$status_code</td><td class='status fourhundred'>$size</td><td><a class='status fourhundred' href='$url'>/$path</a></td>\" >> ./$domain/$foldername/reports/$subdomain.html\n  elif [[ \"$status_code\" == *50[012345678]* ]]; then\n    echo \"<td class='status fivehundred'>$status_code</td><td class='status fivehundred'>$size</td><td><a class='status fivehundred' href='$url'>/$path</a></td>\" >> ./$domain/$foldername/reports/$subdomain.html\n  else\n     echo \"<td class='status weird'>$status_code</td><td class='status weird'>$size</td><td><a class='status weird' href='$url'>/$path</a></td>\" >> ./$domain/$foldername/reports/$subdomain.html\n  fi\n echo \"</tr>\">> ./$domain/$foldername/reports/$subdomain.html\ndone\n\n  echo \"</tbody></table></div>\" >> ./$domain/$foldername/reports/$subdomain.html\n\necho '</article><article class=\"post-container-right\" itemscope=\"\" itemtype=\"http://schema.org/BlogPosting\">\n<header class=\"post-header\">\n</header>\n<div class=\"post-content clearfix\" itemprop=\"articleBody\">\n<h2>Screenshots</h2>\n<pre style=\"max-height: 340px;overflow-y: scroll\">' >> ./$domain/$foldername/reports/$subdomain.html\necho '<div class=\"row\">\n<div class=\"column\">\nPort 80' >> ./$domain/$foldername/reports/$subdomain.html\nscpath=$(echo \"$subdomain\" | sed 's/\\./_/g')\nhttpsc=$(ls ./$domain/$foldername/aqua_out/screenshots/http__$scpath*  2>/dev/null)\necho \"<a href=\\\"../../../$httpsc\\\"><img/src=\\\"../../../$httpsc\\\"></a> \" >> ./$domain/$foldername/reports/$subdomain.html\necho '</div>\n  <div class=\"column\">\nPort 443' >> ./$domain/$foldername/reports/$subdomain.html\nhttpssc=$(ls ./$domain/$foldername/aqua_out/screenshots/https__$scpath*  2>/dev/null)\necho \"<a href=\\\"../../../$httpssc\\\"><img/src=\\\"../../../$httpssc\\\"></a>\" >> ./$domain/$foldername/reports/$subdomain.html\necho \"</div></div></pre>\" >> ./$domain/$foldername/reports/$subdomain.html\n#echo \"<h2>Dig Info</h2><pre>$(dig $subdomain)</pre>\" >> ./$domain/$foldername/reports/$subdomain.html\necho \"<h2>Host Info</h2><pre>$(host $subdomain)</pre>\" >> ./$domain/$foldername/reports/$subdomain.html\necho \"<h2>Response Headers</h2><pre>\" >> ./$domain/$foldername/reports/$subdomain.html\n\n\n\n\ncat ./$domain/$foldername/aqua_out/parsedjson/$subdomain.headers | while read ln;do\ncheck=$(echo \"$ln\" | awk '{print $1}')\n\n[ \"$check\" = \"name,\" ] && echo -n \"$ln : \" | sed 's/name, //g' >> ./$domain/$foldername/reports/$subdomain.html\n[ \"$check\" = \"value,\" ] && echo \" $ln\" | sed 's/value, //g' >> ./$domain/$foldername/reports/$subdomain.html\n\ndone\n\n\n\necho \"</pre>\" >> ./$domain/$foldername/reports/$subdomain.html\necho \"<h2>NMAP Results</h2>\n<pre>\n$(nmap -sV -T3 -Pn -p2075,2076,6443,3868,3366,8443,8080,9443,9091,3000,8000,5900,8081,6000,10000,8181,3306,5000,4000,8888,5432,15672,9999,161,4044,7077,4040,9000,8089,443,7447,7080,8880,8983,5673,7443,19000,19080 $subdomain  |  grep -E 'open|filtered|closed')\n</pre>\n</div></article></div>\n</div></div></body></html>\" >> ./$domain/$foldername/reports/$subdomain.html\n\n\n}\nmaster_report()\n{\n\n#this code will generate the html report for target it will have an overview of the scan\n  echo '<html>\n<head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">' >> ./$domain/$foldername/master_report.html\necho \"<title>Recon Report for $domain</title>\n<style>.status.redirect{color:#d0b200}.status.fivehundred{color:#DD4A68}.status.jackpot{color:#0dee00}img{padding:5px;width:360px}img:hover{box-shadow:0 0 2px 1px rgba(0,140,186,.5)}pre{font-family:Inconsolata,monospace}pre{margin:0 0 20px}pre{overflow-x:auto}article,header,img{display:block}#wrapper:after,.blog-description:after,.clearfix:after{content:}.container{position:relative}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}h1{margin:.67em 0}h1,h2{margin-bottom:20px}a{background-color:transparent;-webkit-text-decoration-skip:objects;text-decoration:none}.container,table{width:100%}.site-header{overflow:auto}.post-header,.post-title,.site-header,.site-title,h1,h2{text-transform:uppercase}p{line-height:1.5em}pre,table td{padding:10px}h2{padding-top:40px;font-weight:900}a{color:#00a0fc}body,html{height:100%}body{margin:0;background:#fefefe;color:#424242;font-family:Raleway,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,'Helvetica Neue',Arial,sans-serif;font-size:24px}h1{font-size:35px}h2{font-size:28px}p{margin:0 0 30px}pre{background:#f1f0ea;border:1px solid #dddbcc;border-radius:3px;font-size:16px}.row{display:flex}.column{flex:100%}table tbody>tr:nth-child(odd)>td,table tbody>tr:nth-child(odd)>th{background-color:#f7f7f3}table th{padding:0 10px 10px;text-align:left}.post-header,.post-title,.site-header{text-align:center}table tr{border-bottom:1px dotted #aeadad}::selection{background:#fff5b8;color:#000;display:block}::-moz-selection{background:#fff5b8;color:#000;display:block}.clearfix:after{display:table;clear:both}.container{max-width:100%}#wrapper{height:auto;min-height:100%;margin-bottom:-265px}#wrapper:after{display:block;height:265px}.site-header{padding:40px 0 0}.site-title{float:left;font-size:14px;font-weight:600;margin:0}.site-title a{float:left;background:#00a0fc;color:#fefefe;padding:5px 10px 6px}.post-container-left{width:49%;float:left;margin:auto}.post-container-right{width:49%;float:right;margin:auto}.post-header{border-bottom:1px solid #333;margin:0 0 50px;padding:0}.post-title{font-size:55px;font-weight:900;margin:15px 0}.blog-description{color:#aeadad;font-size:14px;font-weight:600;line-height:1;margin:25px 0 0;text-align:center}.single-post-container{margin-top:50px;padding-left:15px;padding-right:15px;box-sizing:border-box}body.dark{background-color:#1e2227;color:#fff}body.dark pre{background:#282c34}body.dark table tbody>tr:nth-child(odd)>td,body.dark table tbody>tr:nth-child(odd)>th{background:#282c34}input{font-family:Inconsolata,monospace} body.dark .status.redirect{color:#ecdb54} body.dark input{border:1px solid ;border-radius: 3px; background:#282c34;color: white} body.dark label{color:#f1f0ea} body.dark pre{color:#fff}</style>\n<script>\ndocument.addEventListener('DOMContentLoaded', (event) => {\n  ((localStorage.getItem('mode') || 'dark') === 'dark') ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')\n})\n</script>\" >> ./$domain/$foldername/master_report.html\necho '<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/1.10.19/css/dataTables.material.min.css\">\n  <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.3.1.js\"></script>\n<script type=\"text/javascript\" charset=\"utf8\" src=\"https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js\"></script><script type=\"text/javascript\" charset=\"utf8\" src=\"https://cdn.datatables.net/1.10.19/js/dataTables.material.min.js\"></script>'>> ./$domain/$foldername/master_report.html\necho '<script>$(document).ready( function () {\n    $(\"#myTable\").DataTable({\n        \"paging\":   true,\n        \"ordering\": true,\n        \"info\":     false,\n\t\"lengthMenu\": [[10, 25, 50,100, -1], [10, 25, 50,100, \"All\"]],\n    });\n} );</script></head>'>> ./$domain/$foldername/master_report.html\n\n\n\necho '<body class=\"dark\"><header class=\"site-header\">\n<div class=\"site-title\"><p>' >> ./$domain/$foldername/master_report.html\necho \"<a style=\\\"cursor: pointer\\\" onclick=\\\"localStorage.setItem('mode', (localStorage.getItem('mode') || 'dark') === 'dark' ? 'bright' : 'dark'); localStorage.getItem('mode') === 'dark' ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')\\\" title=\\\"Switch to light or dark theme\\\">ðŸŒ“ Light|dark mode</a>\n</p>\n</div>\n</header>\" >> ./$domain/$foldername/master_report.html\n\n\necho '<div id=\"wrapper\"><div id=\"container\">' >> ./$domain/$foldername/master_report.html\necho \"<h1 class=\\\"post-title\\\" itemprop=\\\"name headline\\\">Recon Report for <a href=\\\"http://$domain\\\">$domain</a></h1>\" >> ./$domain/$foldername/master_report.html\necho \"<p class=\\\"blog-description\\\">Generated by LazyRecon on $(date) </p>\" >> ./$domain/$foldername/master_report.html\necho '<div class=\"container single-post-container\">\n<article class=\"post-container-left\" itemscope=\"\" itemtype=\"http://schema.org/BlogPosting\">\n<header class=\"post-header\">\n</header>\n<div class=\"post-content clearfix\" itemprop=\"articleBody\">\n<h2>Total scanned subdomains</h2>\n<table id=\"myTable\" class=\"stripe\">\n<thead>\n<tr>\n <th>Subdomains</th>\n <th>Scanned Urls</th>\n </tr>\n </thead>\n<tbody>' >> ./$domain/$foldername/master_report.html\n\n\ncat ./$domain/$foldername/urllist.txt |  sed 's/\\http\\:\\/\\///g' |  sed 's/\\https\\:\\/\\///g'  | while read nline; do\ndiresults=$(ls ~/tools/dirsearch/reports/$nline/ | grep -v old)\necho \"<tr>\n <td><a href='./reports/$nline.html'>$nline</a></td>\n <td>$(wc -l ~/tools/dirsearch/reports/$nline/$diresults | awk '{print $1}')</td>\n </tr>\" >> ./$domain/$foldername/master_report.html\ndone\necho \"</tbody></table>\n<div><h2>Possible NS Takeovers</h2></div>\n<pre>\" >> ./$domain/$foldername/master_report.html\ncat ./$domain/$foldername/pos.txt >> ./$domain/$foldername/master_report.html\n\necho \"</pre><div><h2>Wayback data</h2></div>\" >> ./$domain/$foldername/master_report.html\necho \"<table><tbody>\" >> ./$domain/$foldername/master_report.html\n[ -s ./$domain/$foldername/wayback-data/paramlist.txt ] && echo \"<tr><td><a href='./wayback-data/paramlist.txt'>Params wordlist</a></td></tr>\" >> ./$domain/$foldername/master_report.html\n[ -s ./$domain/$foldername/wayback-data/jsurls.txt ] && echo \"<tr><td><a href='./wayback-data/jsurls.txt'>Javscript files</a></td></tr>\" >> ./$domain/$foldername/master_report.html\n[ -s ./$domain/$foldername/wayback-data/phpurls.txt ] && echo \"<tr><td><a href='./wayback-data/phpurls.txt'>PHP Urls</a></td></tr>\" >> ./$domain/$foldername/master_report.html\n[ -s ./$domain/$foldername/wayback-data/aspxurls.txt ] && echo \"<tr><td><a href='./wayback-data/aspxurls.txt'>ASP Urls</a></td></tr>\" >> ./$domain/$foldername/master_report.html\necho \"</tbody></table></div>\" >> ./$domain/$foldername/master_report.html\n\necho '</article><article class=\"post-container-right\" itemscope=\"\" itemtype=\"http://schema.org/BlogPosting\">\n<header class=\"post-header\">\n</header>\n<div class=\"post-content clearfix\" itemprop=\"articleBody\">' >> ./$domain/$foldername/master_report.html\necho \"<h2><a href='./aqua_out/aquatone_report.html'>View Aquatone Report</a></h2>\" >> ./$domain/$foldername/master_report.html\n#cat ./$domain/$foldername/ipaddress.txt >> ./$domain/$foldername/master_report.html\necho \"<h2>Dig Info</h2>\n<pre>\n$(dig $domain)\n</pre>\" >> ./$domain/$foldername/master_report.html\necho \"<h2>Host Info</h2>\n<pre>\n$(host $domain)\n</pre>\" >> ./$domain/$foldername/master_report.html\n\necho \"<h2>NMAP Results</h2>\n<pre>\n$(nmap -sV -T3 -Pn -p3868,3366,8443,8080,9443,9091,3000,8000,5900,8081,6000,10000,8181,3306,5000,4000,8888,5432,15672,9999,161,4044,7077,4040,9000,8089,443,7447,7080,8880,8983,5673,7443,19000,19080 $domain |  grep -E 'open|filtered|closed')\n</pre>\n</div></article></div>\n</div></div></body></html>\" >> ./$domain/$foldername/master_report.html\n\n\n}\n\nlogo(){\n  #can't have a bash script without a cool logo :D\n  echo \"${red}\n _     ____  ____ ___  _ ____  _____ ____  ____  _\n/ \\   /  _ \\/_   \\\\\\  \\///  __\\/  __//   _\\/  _ \\/ \\  /|\n| |   | / \\| /   / \\  / |  \\/||  \\  |  /  | / \\|| |\\ ||\n| |_/\\| |-||/   /_ / /  |    /|  /_ |  \\__| \\_/|| | \\||\n\\____/\\_/ \\|\\____//_/   \\_/\\_\\\\\\____\\\\\\____/\\____/\\_/  \\\\|\n${reset}                                                      \"\n}\ncleandirsearch(){\n\tcat ./$domain/$foldername/urllist.txt | sed 's/\\http\\:\\/\\///g' |  sed 's/\\https\\:\\/\\///g' | sort -u | while read line; do\n  [ -d ~/tools/dirsearch/reports/$line/ ] && ls ~/tools/dirsearch/reports/$line/ | grep -v old | while read i; do\n  mv ~/tools/dirsearch/reports/$line/$i ~/tools/dirsearch/reports/$line/$i.old\n  done\n  done\n  }\ncleantemp(){\n\n    rm ./$domain/$foldername/temp.txt\n  \trm ./$domain/$foldername/tmp.txt\n    rm ./$domain/$foldername/domaintemp.txt\n    rm ./$domain/$foldername/cleantemp.txt\n\n}\nmain(){\nif [ -z \"${domain}\" ]; then\ndomain=${subreport[1]}\nfoldername=${subreport[2]}\nsubd=${subreport[3]}\nreport $domain $subdomain $foldername $subd; exit 1;\nfi\n  clear\n  logo\n  if [ -d \"./$domain\" ]\n  then\n    echo \"This is a known target.\"\n  else\n    mkdir ./$domain\n  fi\n\n  mkdir ./$domain/$foldername\n  mkdir ./$domain/$foldername/aqua_out\n  mkdir ./$domain/$foldername/aqua_out/parsedjson\n  mkdir ./$domain/$foldername/reports/\n  mkdir ./$domain/$foldername/wayback-data/\n  mkdir ./$domain/$foldername/screenshots/\n  touch ./$domain/$foldername/crtsh.txt\n  touch ./$domain/$foldername/mass.txt\n  touch ./$domain/$foldername/cnames.txt\n  touch ./$domain/$foldername/pos.txt\n  touch ./$domain/$foldername/alldomains.txt\n  touch ./$domain/$foldername/temp.txt\n  touch ./$domain/$foldername/tmp.txt\n  touch ./$domain/$foldername/domaintemp.txt\n  touch ./$domain/$foldername/ipaddress.txt\n  touch ./$domain/$foldername/cleantemp.txt\n  touch ./$domain/$foldername/master_report.html\n\n  cleantemp\n  recon $domain\n  master_report $domain\n  echo \"${green}Scan for $domain finished successfully${reset}\"\n  duration=$SECONDS\n  echo \"Scan completed in : $(($duration / 60)) minutes and $(($duration % 60)) seconds.\"\n  cleantemp\n  stty sane\n  tput sgr0\n}\ntodate=$(date +\"%Y-%m-%d\")\npath=$(pwd)\nfoldername=recon-$todate\nsource ~/.bash_profile\nmain $domain\n"
        },
        {
          "name": "recon.gif",
          "type": "blob",
          "size": 55.5634765625,
          "content": null
        },
        {
          "name": "report.gif",
          "type": "blob",
          "size": 5770.6796875,
          "content": ""
        }
      ]
    }
  ]
}