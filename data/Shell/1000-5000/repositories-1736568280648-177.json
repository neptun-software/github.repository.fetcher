{
  "metadata": {
    "timestamp": 1736568280648,
    "page": 177,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE4MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "yonggekkk/sing-box-yg",
      "stars": 2790,
      "defaultBranch": "main",
      "files": [
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.4228515625,
          "content": "### ä¸€ã€Sing-box-ygç²¾è£…æ¡¶å°ç™½ä¸“äº«ä¸€é”®å››åè®®å…±å­˜è„šæœ¬ï¼ˆVPSä¸“ç”¨ï¼‰\n\nè„šæœ¬ç‰¹è‰²ï¼šå¤šåŠŸèƒ½å‰å°æ˜¾ç¤ºã€é«˜è‡ªç”±åº¦äº¤äº’ä½“éªŒï¼Œå…¨å¹³å°å…¨å®¢æˆ·ç«¯æ— è„‘é€šåƒ\n\næ”¯æŒäººæ°”æœ€é«˜çš„å››å¤§åè®®ï¼šVless-reality-visionã€Vmess-ws(tls)/Argoã€Hysteria-2ã€Tuic-v5\n\næ”¯æŒçº¯IPV6ã€çº¯IPV4ã€åŒæ ˆVPSï¼Œæ”¯æŒamdä¸armæ¶æ„ï¼Œæ”¯æŒalpineç³»ç»Ÿï¼Œæ¨èä½¿ç”¨æœ€æ–°çš„Ubuntuç³»ç»Ÿ\n\næœ¬é¡¹ç›®åˆ†äº«è®¢é˜…èŠ‚ç‚¹ä¸ºæœ¬åœ°åŒ–ç”Ÿæˆï¼Œä¸ä½¿ç”¨èŠ‚ç‚¹è½¬æ¢ç­‰ç¬¬ä¸‰æ–¹å¤–é“¾å¼•ç”¨ï¼Œæ— éœ€æ‹…å¿ƒèŠ‚ç‚¹è®¢é˜…è¢«å¤–é“¾ä½œè€…æŸ¥çœ‹\n\nå°ç™½ç®€å•æ¨¡å¼ï¼šæ— éœ€åŸŸåè¯ä¹¦ï¼Œå›è½¦ä¸‰æ¬¡å°±å®‰è£…å®Œæˆï¼Œå¤åˆ¶ã€æ‰«æä½ è¦çš„èŠ‚ç‚¹é…ç½®\n\n------------------------------------------------------------------------------------\n\n### ç›¸å…³è¯´æ˜åŠæ³¨æ„ç‚¹è¯·æŸ¥çœ‹[ç”¬å“¥åšå®¢è¯´æ˜ä¸Sing-boxè§†é¢‘æ•™ç¨‹](https://ygkkk.blogspot.com/2023/10/sing-box-yg.html)\n\n### è§†é¢‘æ•™ç¨‹ï¼š\n\n[Sing-boxç²¾è£…æ¡¶å°ç™½ä¸€é”®è„šæœ¬ï¼ˆä¸€ï¼‰ï¼šé…ç½®æ–‡ä»¶é€šåƒSFA/SFI/SFWä¸‰å¹³å°å®¢æˆ·ç«¯ï¼ŒArgoéš§é“ã€åŒè¯ä¹¦åˆ‡æ¢ã€åŸŸååˆ†æµ](https://youtu.be/QwTapeVPeB0)\n\n[Sing-boxç²¾è£…æ¡¶å°ç™½ä¸€é”®è„šæœ¬ï¼ˆäºŒï¼‰ï¼šçº¯IPV6 VPSæ­å»ºï¼ŒCDNä¼˜é€‰IPè®¾ç½®æ±‡æ€»ï¼Œå…¨å¹³å°å¤šç§å®¢æˆ·ç«¯ä¸€ä¸ªè„šæœ¬å…¨å¥—å¸¦èµ°](https://youtu.be/kmTgj1DundU)\n\n[Sing-boxç²¾è£…æ¡¶å°ç™½ä¸€é”®è„šæœ¬ï¼ˆä¸‰ï¼‰ï¼šè‡ªå»ºgitlabç§æœ‰è®¢é˜…é“¾æ¥ä¸€é”®åŒæ­¥æ¨é€å…¨å¹³å°ï¼ŒWARPåˆ†æµChatGPTï¼ŒSFWç”µè„‘å®¢æˆ·ç«¯æ”¯æŒè®¢é˜…é“¾æ¥](https://youtu.be/by7C2HU6-fU)\n\n[Sing-boxç²¾è£…æ¡¶å°ç™½ä¸€é”®è„šæœ¬ï¼ˆå››ï¼‰ï¼švmessåè®®CDNä¼˜é€‰IPå¤šå½¢æ€è®¾ç½®(è¯¦è§è¯´æ˜å›¾)](https://youtu.be/Qfm8DbLeb6w)\n\n[Sing-boxç²¾è£…æ¡¶å°ç™½ä¸€é”®è„šæœ¬ï¼ˆäº”ï¼‰ï¼šé›†æˆoblivion warpå…è´¹vpnåŠŸèƒ½ï¼Œæœ¬åœ°WARP+èµ›é£VPNåˆ‡æ¢åˆ†æµ(30ä¸ªå›½å®¶IP)](https://youtu.be/5Y6NPsYPws0)\n\n--------------------------------------------------------------\n### äº¤æµå¹³å°ï¼š[ç”¬å“¥åšå®¢åœ°å€](https://ygkkk.blogspot.com)ã€[ç”¬å“¥YouTubeé¢‘é“](https://www.youtube.com/@ygkkk)ã€[ç”¬å“¥TGç”µæŠ¥ç¾¤ç»„](https://t.me/+jZHc6-A-1QQ5ZGVl)ã€[ç”¬å“¥TGç”µæŠ¥é¢‘é“](https://t.me/+DkC9ZZUgEFQzMTZl)\n--------------------------------------------------------------\n### æˆªæ­¢ç›®å‰ï¼Œæ¨èä½¿ç”¨sing-boxå®˜æ–¹V1.10.0ç³»åˆ—æ­£å¼ç‰ˆæœ¬\n-----------------------------------------------------\n### ä¸€é”®è„šæœ¬ï¼š\n```\nbash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/sb.sh)\n```\næˆ–è€…\n```\nbash <(wget -qO- https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/sb.sh)\n```\n-----------------------------------\n### Sing-box-ygè„šæœ¬ç•Œé¢é¢„è§ˆå›¾ï¼ˆæ³¨ï¼šç›¸å…³å‚æ•°éšæ„å¡«å†™ï¼Œä»…ä¾›å›´è§‚ï¼‰\n\n![1d5425c093618313888fe41a55f493f](https://github.com/user-attachments/assets/2b4b04a6-2de4-499a-afa1-ed78bccc50a8)\n\n-----------------------------------------------------\n\n### äºŒã€Serv00ä¸€é”®ä¸‰åè®®å…±å­˜è„šæœ¬ï¼ˆServ00ä¸“ç”¨ï¼‰ï¼š\n\nä¿®æ”¹è‡ªServ00è€ç‹sing-boxå®‰è£…è„šæœ¬ï¼Œæ”¯æŒä¸€é”®ä¸‰åè®®ï¼švless-realityã€vmess-ws(argo)ã€hysteria2ã€‚\n\nä¸»è¦å¢åŠ realityåè®®é»˜è®¤æ”¯æŒ CF vless/trojan èŠ‚ç‚¹çš„proxyipä»¥åŠéæ ‡ç«¯å£çš„ä¼˜é€‰åä»£IPåŠŸèƒ½\n\nè¯¦ç»†è®¾ç½®è§†é¢‘æ•™ç¨‹ï¼Œè¯·ç‚¹å‡»[Serv00æœ€å…¨é¢çš„ä»£ç†è„šæœ¬](https://youtu.be/2VF9D6z2z7w)\n\n1ã€Serv00æœ¬åœ°ä¸“ç”¨ä¸€é”®è„šæœ¬ï¼Œå¿«æ·æ–¹å¼ï¼š```bash serv00.sh```\n```\nbash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/serv00.sh)\n```\nè„šæœ¬ç•Œé¢é¢„è§ˆå›¾ï¼š\n\n![1a215abda2dd54d1042e8d3e61979b1](https://github.com/user-attachments/assets/cc28a80b-7cee-41b8-98c1-1d64cb0b1013)\n\n---------------------------------------------------------\n\n2ã€Serv00å¤šè´¦å·è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼Œåˆ›å»ºç§æœ‰åº“ï¼Œä¿®æ”¹serv00.ymlæ–‡ä»¶çš„å‚æ•°ï¼Œè¿è¡Œgithub actionï¼Œè‡ªåŠ¨éƒ¨ç½²ä¸”ä¿æ´»å•ä¸ªæˆ–å¤šä¸ªServ00è´¦å·çš„èŠ‚ç‚¹\n\n---------------------------------------------------------\n\n3ã€Serv00å¤šè´¦å·è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼Œä¿®æ”¹kp.shæ–‡ä»¶çš„å‚æ•°ï¼Œå¯åœ¨å¤šä¸ªå¹³å°ä¸Šè‡ªåŠ¨è¿œç¨‹è‡ªåŠ¨éƒ¨ç½²ä¸”ä¿æ´»å•ä¸ªæˆ–å¤šä¸ªServ00è´¦å·çš„èŠ‚ç‚¹\n\nVPSã€è½¯è·¯ç”±ä¸“ç”¨ï¼Œä¸å¯ç”¨åœ¨serv00æœ¬åœ°ä¸Šï¼Œé»˜è®¤nanoç¼–è¾‘å½¢å¼ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ”¾åœ¨å…¶ä»–ç›®å½•ï¼Œåšå¥½cronå®šæ—¶è¿è¡Œ\n```\ncurl -sSL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/kp.sh -o kp.sh && chmod +x kp.sh && nano kp.sh\n```\nè¿è¡Œ```bash kp.sh```å¯æµ‹è¯•æœ‰æ•ˆæ€§ \n\n-----------------------------------------------------\n\n### æ„Ÿè°¢ä½ å³ä¸Šè§’çš„starğŸŒŸ\n[![Stargazers over time](https://starchart.cc/yonggekkk/sing-box-yg.svg)](https://starchart.cc/yonggekkk/sing-box-yg)\n\n---------------------------------------\n#### å£°æ˜ï¼šæ‰€æœ‰ä»£ç æ¥æºäºGithubç¤¾åŒºä¸ChatGPTçš„æ•´åˆ\n"
        },
        {
          "name": "SFWç”µè„‘å®¢æˆ·ç«¯ç½‘é¡µç‰ˆ(V1.10.1).zip",
          "type": "blob",
          "size": 13589.947265625,
          "content": ""
        },
        {
          "name": "sb.sh",
          "type": "blob",
          "size": 157.2802734375,
          "content": "#!/bin/bash\nexport LANG=en_US.UTF-8\nred='\\033[0;31m'\ngreen='\\033[0;32m'\nyellow='\\033[0;33m'\nblue='\\033[0;36m'\nbblue='\\033[0;34m'\nplain='\\033[0m'\nred(){ echo -e \"\\033[31m\\033[01m$1\\033[0m\";}\ngreen(){ echo -e \"\\033[32m\\033[01m$1\\033[0m\";}\nyellow(){ echo -e \"\\033[33m\\033[01m$1\\033[0m\";}\nblue(){ echo -e \"\\033[36m\\033[01m$1\\033[0m\";}\nwhite(){ echo -e \"\\033[37m\\033[01m$1\\033[0m\";}\nreadp(){ read -p \"$(yellow \"$1\")\" $2;}\n[[ $EUID -ne 0 ]] && yellow \"è¯·ä»¥rootæ¨¡å¼è¿è¡Œè„šæœ¬\" && exit\n#[[ -e /etc/hosts ]] && grep -qE '^ *172.65.251.78 gitlab.com' /etc/hosts || echo -e '\\n172.65.251.78 gitlab.com' >> /etc/hosts\nif [[ -f /etc/redhat-release ]]; then\nrelease=\"Centos\"\nelif cat /etc/issue | grep -q -E -i \"alpine\"; then\nrelease=\"alpine\"\nelif cat /etc/issue | grep -q -E -i \"debian\"; then\nrelease=\"Debian\"\nelif cat /etc/issue | grep -q -E -i \"ubuntu\"; then\nrelease=\"Ubuntu\"\nelif cat /etc/issue | grep -q -E -i \"centos|red hat|redhat\"; then\nrelease=\"Centos\"\nelif cat /proc/version | grep -q -E -i \"debian\"; then\nrelease=\"Debian\"\nelif cat /proc/version | grep -q -E -i \"ubuntu\"; then\nrelease=\"Ubuntu\"\nelif cat /proc/version | grep -q -E -i \"centos|red hat|redhat\"; then\nrelease=\"Centos\"\nelse \nred \"è„šæœ¬ä¸æ”¯æŒå½“å‰çš„ç³»ç»Ÿï¼Œè¯·é€‰æ‹©ä½¿ç”¨Ubuntu,Debian,Centosç³»ç»Ÿã€‚\" && exit\nfi\nvsid=$(grep -i version_id /etc/os-release | cut -d \\\" -f2 | cut -d . -f1)\nop=$(cat /etc/redhat-release 2>/dev/null || cat /etc/os-release 2>/dev/null | grep -i pretty_name | cut -d \\\" -f2)\n#if [[ $(echo \"$op\" | grep -i -E \"arch|alpine\") ]]; then\nif [[ $(echo \"$op\" | grep -i -E \"arch\") ]]; then\nred \"è„šæœ¬ä¸æ”¯æŒå½“å‰çš„ $op ç³»ç»Ÿï¼Œè¯·é€‰æ‹©ä½¿ç”¨Ubuntu,Debian,Centosç³»ç»Ÿã€‚\" && exit\nfi\nversion=$(uname -r | cut -d \"-\" -f1)\n[[ -z $(systemd-detect-virt 2>/dev/null) ]] && vi=$(virt-what 2>/dev/null) || vi=$(systemd-detect-virt 2>/dev/null)\ncase $(uname -m) in\narmv7l) cpu=armv7;;\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\n*) red \"ç›®å‰è„šæœ¬ä¸æ”¯æŒ$(uname -m)æ¶æ„\" && exit;;\nesac\n#bit=$(uname -m)\n#if [[ $bit = \"aarch64\" ]]; then\n#cpu=\"arm64\"\n#elif [[ $bit = \"x86_64\" ]]; then\n#amdv=$(cat /proc/cpuinfo | grep flags | head -n 1 | cut -d: -f2)\n#[[ $amdv == *avx2* && $amdv == *f16c* ]] && cpu=\"amd64v3\" || cpu=\"amd64\"\n#else\n#red \"ç›®å‰è„šæœ¬ä¸æ”¯æŒ $bit æ¶æ„\" && exit\n#fi\nif [[ -n $(sysctl net.ipv4.tcp_congestion_control 2>/dev/null | awk -F ' ' '{print $3}') ]]; then\nbbr=`sysctl net.ipv4.tcp_congestion_control | awk -F ' ' '{print $3}'`\nelif [[ -n $(ping 10.0.0.2 -c 2 | grep ttl) ]]; then\nbbr=\"Openvzç‰ˆbbr-plus\"\nelse\nbbr=\"Openvz/Lxc\"\nfi\nhostname=$(hostname)\n\nif [ ! -f sbyg_update ]; then\ngreen \"é¦–æ¬¡å®‰è£…Sing-box-ygè„šæœ¬å¿…è¦çš„ä¾èµ–â€¦â€¦\"\nif [[ x\"${release}\" == x\"alpine\" ]]; then\napk update\napk add wget curl tar jq tzdata openssl expect git socat iproute2 iptables\napk add virt-what\napk add qrencode\nelse\nif [[ $release = Centos && ${vsid} =~ 8 ]]; then\ncd /etc/yum.repos.d/ && mkdir backup && mv *repo backup/ \ncurl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo\nsed -i -e \"s|mirrors.cloud.aliyuncs.com|mirrors.aliyun.com|g \" /etc/yum.repos.d/CentOS-*\nsed -i -e \"s|releasever|releasever-stream|g\" /etc/yum.repos.d/CentOS-*\nyum clean all && yum makecache\ncd\nfi\nif [ -x \"$(command -v apt-get)\" ]; then\napt update -y\napt install jq iptables-persistent -y\nelif [ -x \"$(command -v yum)\" ]; then\nyum update -y && yum install epel-release -y\nyum install jq -y\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf update -y\ndnf install jq -y\nfi\nif [ -x \"$(command -v yum)\" ] || [ -x \"$(command -v dnf)\" ]; then\nif [ -x \"$(command -v yum)\" ]; then\nyum install -y cronie iptables-services\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf install -y cronie iptables-services\nfi\nsystemctl enable iptables >/dev/null 2>&1\nsystemctl start iptables >/dev/null 2>&1\nfi\nif [[ -z $vi ]]; then\napt install iputils-ping iproute2 systemctl -y\nfi\n\npackages=(\"curl\" \"openssl\" \"iptables\" \"tar\" \"expect\" \"wget\" \"xxd\" \"python3\" \"qrencode\" \"git\")\ninspackages=(\"curl\" \"openssl\" \"iptables\" \"tar\" \"expect\" \"wget\" \"xxd\" \"python3\" \"qrencode\" \"git\")\nfor i in \"${!packages[@]}\"; do\npackage=\"${packages[$i]}\"\ninspackage=\"${inspackages[$i]}\"\nif ! command -v \"$package\" &> /dev/null; then\nif [ -x \"$(command -v apt-get)\" ]; then\napt-get install -y \"$inspackage\"\nelif [ -x \"$(command -v yum)\" ]; then\nyum install -y \"$inspackage\"\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf install -y \"$inspackage\"\nfi\nfi\ndone\nfi\ntouch sbyg_update\nfi\n\nif [[ $vi = openvz ]]; then\nTUN=$(cat /dev/net/tun 2>&1)\nif [[ ! $TUN =~ 'in bad state' ]] && [[ ! $TUN =~ 'å¤„äºé”™è¯¯çŠ¶æ€' ]] && [[ ! $TUN =~ 'Die Dateizugriffsnummer ist in schlechter Verfassung' ]]; then \nred \"æ£€æµ‹åˆ°æœªå¼€å¯TUNï¼Œç°å°è¯•æ·»åŠ TUNæ”¯æŒ\" && sleep 4\ncd /dev && mkdir net && mknod net/tun c 10 200 && chmod 0666 net/tun\nTUN=$(cat /dev/net/tun 2>&1)\nif [[ ! $TUN =~ 'in bad state' ]] && [[ ! $TUN =~ 'å¤„äºé”™è¯¯çŠ¶æ€' ]] && [[ ! $TUN =~ 'Die Dateizugriffsnummer ist in schlechter Verfassung' ]]; then \ngreen \"æ·»åŠ TUNæ”¯æŒå¤±è´¥ï¼Œå»ºè®®ä¸VPSå‚å•†æ²Ÿé€šæˆ–åå°è®¾ç½®å¼€å¯\" && exit\nelse\necho '#!/bin/bash' > /root/tun.sh && echo 'cd /dev && mkdir net && mknod net/tun c 10 200 && chmod 0666 net/tun' >> /root/tun.sh && chmod +x /root/tun.sh\ngrep -qE \"^ *@reboot root bash /root/tun.sh >/dev/null 2>&1\" /etc/crontab || echo \"@reboot root bash /root/tun.sh >/dev/null 2>&1\" >> /etc/crontab\ngreen \"TUNå®ˆæŠ¤åŠŸèƒ½å·²å¯åŠ¨\"\nfi\nfi\nfi\n\nv4v6(){\nv4=$(curl -s4m5 icanhazip.com -k)\nv6=$(curl -s6m5 icanhazip.com -k)\n}\n\nwarpcheck(){\nwgcfv6=$(curl -s6m5 https://www.cloudflare.com/cdn-cgi/trace -k | grep warp | cut -d= -f2)\nwgcfv4=$(curl -s4m5 https://www.cloudflare.com/cdn-cgi/trace -k | grep warp | cut -d= -f2)\n}\n\nv6(){\nv4orv6(){\nif [ -z $(curl -s4m5 icanhazip.com -k) ]; then\necho\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nyellow \"æ£€æµ‹åˆ° çº¯IPV6 VPSï¼Œæ·»åŠ DNS64\"\necho -e \"nameserver 2a00:1098:2b::1\\nnameserver 2a00:1098:2c::1\\nnameserver 2a01:4f8:c2c:123f::1\" > /etc/resolv.conf\nendip=2606:4700:d0::a29f:c101\nipv=prefer_ipv6\nelse\nendip=162.159.192.1\nipv=prefer_ipv4\n#echo '4' > /etc/s-box/i\nfi\n}\nwarpcheck\nif [[ ! $wgcfv4 =~ on|plus && ! $wgcfv6 =~ on|plus ]]; then\nv4orv6\nelse\nsystemctl stop wg-quick@wgcf >/dev/null 2>&1\nkill -15 $(pgrep warp-go) >/dev/null 2>&1 && sleep 2\nv4orv6\nsystemctl start wg-quick@wgcf >/dev/null 2>&1\nsystemctl restart warp-go >/dev/null 2>&1\nsystemctl enable warp-go >/dev/null 2>&1\nsystemctl start warp-go >/dev/null 2>&1\nfi\n}\n\nargopid(){\nym=$(cat /etc/s-box/sbargoympid.log 2>/dev/null)\nls=$(cat /etc/s-box/sbargopid.log 2>/dev/null)\n}\n\nclose(){\nsystemctl stop firewalld.service >/dev/null 2>&1\nsystemctl disable firewalld.service >/dev/null 2>&1\nsetenforce 0 >/dev/null 2>&1\nufw disable >/dev/null 2>&1\niptables -P INPUT ACCEPT >/dev/null 2>&1\niptables -P FORWARD ACCEPT >/dev/null 2>&1\niptables -P OUTPUT ACCEPT >/dev/null 2>&1\niptables -t mangle -F >/dev/null 2>&1\niptables -F >/dev/null 2>&1\niptables -X >/dev/null 2>&1\nnetfilter-persistent save >/dev/null 2>&1\nif [[ -n $(apachectl -v 2>/dev/null) ]]; then\nsystemctl stop httpd.service >/dev/null 2>&1\nsystemctl disable httpd.service >/dev/null 2>&1\nservice apache2 stop >/dev/null 2>&1\nsystemctl disable apache2 >/dev/null 2>&1\nfi\nsleep 1\ngreen \"æ‰§è¡Œå¼€æ”¾ç«¯å£ï¼Œå…³é—­é˜²ç«å¢™å®Œæ¯•\"\n}\n\nopenyn(){\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nreadp \"æ˜¯å¦å¼€æ”¾ç«¯å£ï¼Œå…³é—­é˜²ç«å¢™ï¼Ÿ\\n1ã€æ˜¯ï¼Œæ‰§è¡Œ (å›è½¦é»˜è®¤)\\n2ã€å¦ï¼Œè·³è¿‡ï¼è‡ªè¡Œå¤„ç†\\nè¯·é€‰æ‹©ã€1-2ã€‘ï¼š\" action\nif [[ -z $action ]] || [[ \"$action\" = \"1\" ]]; then\nclose\nelif [[ \"$action\" = \"2\" ]]; then\necho\nelse\nred \"è¾“å…¥é”™è¯¯,è¯·é‡æ–°é€‰æ‹©\" && openyn\nfi\n}\n\ninssb(){\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \"ä¸€ã€å¼€å§‹ä¸‹è½½å¹¶å®‰è£…Sing-boxæ­£å¼ç‰ˆ1.10ç³»åˆ—å†…æ ¸â€¦â€¦è¯·ç¨ç­‰\"\necho\nsbcore=$(curl -Ls https://data.jsdelivr.com/v1/package/gh/SagerNet/sing-box | grep -Eo '\"1\\.10[0-9\\.]*\",'  | sed -n 1p | tr -d '\",')\nsbname=\"sing-box-$sbcore-linux-$cpu\"\ncurl -L -o /etc/s-box/sing-box.tar.gz  -# --retry 2 https://github.com/SagerNet/sing-box/releases/download/v$sbcore/$sbname.tar.gz\nif [[ -f '/etc/s-box/sing-box.tar.gz' ]]; then\ntar xzf /etc/s-box/sing-box.tar.gz -C /etc/s-box\nmv /etc/s-box/$sbname/sing-box /etc/s-box\nrm -rf /etc/s-box/{sing-box.tar.gz,$sbname}\nif [[ -f '/etc/s-box/sing-box' ]]; then\nchown root:root /etc/s-box/sing-box\nchmod +x /etc/s-box/sing-box\nblue \"æˆåŠŸå®‰è£… Sing-box å†…æ ¸ç‰ˆæœ¬ï¼š$(/etc/s-box/sing-box version | awk '/version/{print $NF}')\"\nelse\nred \"ä¸‹è½½ Sing-box å†…æ ¸ä¸å®Œæ•´ï¼Œå®‰è£…å¤±è´¥ï¼Œè¯·å†è¿è¡Œå®‰è£…ä¸€æ¬¡\" && exit\nfi\nelse\nred \"ä¸‹è½½ Sing-box å†…æ ¸å¤±è´¥ï¼Œè¯·å†è¿è¡Œå®‰è£…ä¸€æ¬¡ï¼Œå¹¶æ£€æµ‹VPSçš„ç½‘ç»œæ˜¯å¦å¯ä»¥è®¿é—®Github\" && exit\nfi\n}\n\ninscertificate(){\nymzs(){\nym_vl_re=www.yahoo.com\necho\nblue \"Vless-realityçš„SNIåŸŸåé»˜è®¤ä¸º www.yahoo.com\"\nblue \"Vmess-wså°†å¼€å¯TLSï¼ŒHysteria-2ã€Tuic-v5å°†ä½¿ç”¨ $(cat /root/ygkkkca/ca.log 2>/dev/null) è¯ä¹¦ï¼Œå¹¶å¼€å¯SNIè¯ä¹¦éªŒè¯\"\ntlsyn=true\nym_vm_ws=$(cat /root/ygkkkca/ca.log 2>/dev/null)\ncertificatec_vmess_ws='/root/ygkkkca/cert.crt'\ncertificatep_vmess_ws='/root/ygkkkca/private.key'\ncertificatec_hy2='/root/ygkkkca/cert.crt'\ncertificatep_hy2='/root/ygkkkca/private.key'\ncertificatec_tuic='/root/ygkkkca/cert.crt'\ncertificatep_tuic='/root/ygkkkca/private.key'\n}\n\nzqzs(){\nym_vl_re=www.yahoo.com\necho\nblue \"Vless-realityçš„SNIåŸŸåé»˜è®¤ä¸º www.yahoo.com\"\nblue \"Vmess-wså°†å…³é—­TLSï¼ŒHysteria-2ã€Tuic-v5å°†ä½¿ç”¨bingè‡ªç­¾è¯ä¹¦ï¼Œå¹¶å…³é—­SNIè¯ä¹¦éªŒè¯\"\ntlsyn=false\nym_vm_ws=www.bing.com\ncertificatec_vmess_ws='/etc/s-box/cert.pem'\ncertificatep_vmess_ws='/etc/s-box/private.key'\ncertificatec_hy2='/etc/s-box/cert.pem'\ncertificatep_hy2='/etc/s-box/private.key'\ncertificatec_tuic='/etc/s-box/cert.pem'\ncertificatep_tuic='/etc/s-box/private.key'\n}\n\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \"äºŒã€ç”Ÿæˆå¹¶è®¾ç½®ç›¸å…³è¯ä¹¦\"\necho\nblue \"è‡ªåŠ¨ç”Ÿæˆbingè‡ªç­¾è¯ä¹¦ä¸­â€¦â€¦\" && sleep 2\nopenssl ecparam -genkey -name prime256v1 -out /etc/s-box/private.key\nopenssl req -new -x509 -days 36500 -key /etc/s-box/private.key -out /etc/s-box/cert.pem -subj \"/CN=www.bing.com\"\necho\nif [[ -f /etc/s-box/cert.pem ]]; then\nblue \"ç”Ÿæˆbingè‡ªç­¾è¯ä¹¦æˆåŠŸ\"\nelse\nred \"ç”Ÿæˆbingè‡ªç­¾è¯ä¹¦å¤±è´¥\" && exit\nfi\necho\nif [[ -f /root/ygkkkca/cert.crt && -f /root/ygkkkca/private.key && -s /root/ygkkkca/cert.crt && -s /root/ygkkkca/private.key ]]; then\nyellow \"ç»æ£€æµ‹ï¼Œä¹‹å‰å·²ä½¿ç”¨Acme-ygè„šæœ¬ç”³è¯·è¿‡AcmeåŸŸåè¯ä¹¦ï¼š$(cat /root/ygkkkca/ca.log) \"\ngreen \"æ˜¯å¦ä½¿ç”¨ $(cat /root/ygkkkca/ca.log) åŸŸåè¯ä¹¦ï¼Ÿ\"\nyellow \"1ï¼šå¦ï¼ä½¿ç”¨è‡ªç­¾çš„è¯ä¹¦ (å›è½¦é»˜è®¤)\"\nyellow \"2ï¼šæ˜¯ï¼ä½¿ç”¨ $(cat /root/ygkkkca/ca.log) åŸŸåè¯ä¹¦\"\nreadp \"è¯·é€‰æ‹©ã€1-2ã€‘ï¼š\" menu\nif [ -z \"$menu\" ] || [ \"$menu\" = \"1\" ] ; then\nzqzs\nelse\nymzs\nfi\nelse\ngreen \"å¦‚æœä½ æœ‰è§£æå®Œæˆçš„åŸŸåï¼Œæ˜¯å¦ç”³è¯·ä¸€ä¸ªAcmeåŸŸåè¯ä¹¦ï¼Ÿ\"\nyellow \"1ï¼šå¦ï¼ç»§ç»­ä½¿ç”¨è‡ªç­¾çš„è¯ä¹¦ (å›è½¦é»˜è®¤)\"\nyellow \"2ï¼šæ˜¯ï¼ä½¿ç”¨Acme-ygè„šæœ¬ç”³è¯·Acmeè¯ä¹¦ (æ”¯æŒå¸¸è§„80ç«¯å£æ¨¡å¼ä¸Dns APIæ¨¡å¼)\"\nreadp \"è¯·é€‰æ‹©ã€1-2ã€‘ï¼š\" menu\nif [ -z \"$menu\" ] || [ \"$menu\" = \"1\" ] ; then\nzqzs\nelse\nbash <(curl -Ls https://gitlab.com/rwkgyg/acme-script/raw/main/acme.sh)\nif [[ ! -f /root/ygkkkca/cert.crt && ! -f /root/ygkkkca/private.key && ! -s /root/ygkkkca/cert.crt && ! -s /root/ygkkkca/private.key ]]; then\nred \"Acmeè¯ä¹¦ç”³è¯·å¤±è´¥ï¼Œç»§ç»­ä½¿ç”¨è‡ªç­¾è¯ä¹¦\" \nzqzs\nelse\nymzs\nfi\nfi\nfi\n}\n\nchooseport(){\nif [[ -z $port ]]; then\nport=$(shuf -i 10000-65535 -n 1)\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] \ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nelse\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]]\ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nfi\nblue \"ç¡®è®¤çš„ç«¯å£ï¼š$port\" && sleep 2\n}\n\nvlport(){\nreadp \"\\nè®¾ç½®Vless-realityç«¯å£[1-65535] (å›è½¦è·³è¿‡ä¸º10000-65535ä¹‹é—´çš„éšæœºç«¯å£)ï¼š\" port\nchooseport\nport_vl_re=$port\n}\nvmport(){\nreadp \"\\nè®¾ç½®Vmess-wsç«¯å£[1-65535] (å›è½¦è·³è¿‡ä¸º10000-65535ä¹‹é—´çš„éšæœºç«¯å£)ï¼š\" port\nchooseport\nport_vm_ws=$port\n}\nhy2port(){\nreadp \"\\nè®¾ç½®Hysteria2ä¸»ç«¯å£[1-65535] (å›è½¦è·³è¿‡ä¸º10000-65535ä¹‹é—´çš„éšæœºç«¯å£)ï¼š\" port\nchooseport\nport_hy2=$port\n}\ntu5port(){\nreadp \"\\nè®¾ç½®Tuic5ä¸»ç«¯å£[1-65535] (å›è½¦è·³è¿‡ä¸º10000-65535ä¹‹é—´çš„éšæœºç«¯å£)ï¼š\" port\nchooseport\nport_tu=$port\n}\n\ninsport(){\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \"ä¸‰ã€è®¾ç½®å„ä¸ªåè®®ç«¯å£\"\nyellow \"1ï¼šè‡ªåŠ¨ç”Ÿæˆæ¯ä¸ªåè®®çš„éšæœºç«¯å£ (10000-65535èŒƒå›´å†…)ï¼Œå›è½¦é»˜è®¤\"\nyellow \"2ï¼šè‡ªå®šä¹‰æ¯ä¸ªåè®®ç«¯å£\"\nreadp \"è¯·è¾“å…¥ã€1-2ã€‘ï¼š\" port\nif [ -z \"$port\" ] || [ \"$port\" = \"1\" ] ; then\nports=()\nfor i in {1..4}; do\nwhile true; do\nport=$(shuf -i 10000-65535 -n 1)\nif ! [[ \" ${ports[@]} \" =~ \" $port \" ]] && \\\n[[ -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && \\\n[[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]]; then\nports+=($port)\nbreak\nfi\ndone\ndone\nport_vm_ws=${ports[0]}\nport_vl_re=${ports[1]}\nport_hy2=${ports[2]}\nport_tu=${ports[3]}\nif [[ $tlsyn == \"true\" ]]; then\nnumbers=(\"2053\" \"2083\" \"2087\" \"2096\" \"8443\")\nelse\nnumbers=(\"8080\" \"8880\" \"2052\" \"2082\" \"2086\" \"2095\")\nfi\nport_vm_ws=${numbers[$RANDOM % ${#numbers[@]}]}\nuntil [[ -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port_vm_ws\") ]]\ndo\nif [[ $tlsyn == \"true\" ]]; then\nnumbers=(\"2053\" \"2083\" \"2087\" \"2096\" \"8443\")\nelse\nnumbers=(\"8080\" \"8880\" \"2052\" \"2082\" \"2086\" \"2095\")\nfi\nport_vm_ws=${numbers[$RANDOM % ${#numbers[@]}]}\ndone\necho\nblue \"æ ¹æ®Vmess-wsåè®®æ˜¯å¦å¯ç”¨TLSï¼ŒéšæœºæŒ‡å®šæ”¯æŒCDNä¼˜é€‰IPçš„æ ‡å‡†ç«¯å£ï¼š$port_vm_ws\"\nelse\nvlport && vmport && hy2port && tu5port\nfi\necho\nblue \"å„åè®®ç«¯å£ç¡®è®¤å¦‚ä¸‹\"\nblue \"Vless-realityç«¯å£ï¼š$port_vl_re\"\nblue \"Vmess-wsç«¯å£ï¼š$port_vm_ws\"\nblue \"Hysteria-2ç«¯å£ï¼š$port_hy2\"\nblue \"Tuic-v5ç«¯å£ï¼š$port_tu\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \"å››ã€è‡ªåŠ¨ç”Ÿæˆå„ä¸ªåè®®ç»Ÿä¸€çš„uuid (å¯†ç )\"\nuuid=$(/etc/s-box/sing-box generate uuid)\nblue \"å·²ç¡®è®¤uuid (å¯†ç )ï¼š${uuid}\"\nblue \"å·²ç¡®è®¤Vmessçš„pathè·¯å¾„ï¼š${uuid}-vm\"\n}\n\ninssbjsonser(){\ncat > /etc/s-box/sb.json <<EOF\n{\n\"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"inbounds\": [\n    {\n      \"type\": \"vless\",\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"tag\": \"vless-sb\",\n      \"listen\": \"::\",\n      \"listen_port\": ${port_vl_re},\n      \"users\": [\n        {\n          \"uuid\": \"${uuid}\",\n          \"flow\": \"xtls-rprx-vision\"\n        }\n      ],\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"${ym_vl_re}\",\n          \"reality\": {\n          \"enabled\": true,\n          \"handshake\": {\n            \"server\": \"${ym_vl_re}\",\n            \"server_port\": 443\n          },\n          \"private_key\": \"$private_key\",\n          \"short_id\": [\"$short_id\"]\n        }\n      }\n    },\n{\n        \"type\": \"vmess\",\n        \"sniff\": true,\n        \"sniff_override_destination\": true,\n        \"tag\": \"vmess-sb\",\n        \"listen\": \"::\",\n        \"listen_port\": ${port_vm_ws},\n        \"users\": [\n            {\n                \"uuid\": \"${uuid}\",\n                \"alterId\": 0\n            }\n        ],\n        \"transport\": {\n            \"type\": \"ws\",\n            \"path\": \"${uuid}-vm\",\n            \"max_early_data\":2048,\n            \"early_data_header_name\": \"Sec-WebSocket-Protocol\"    \n        },\n        \"tls\":{\n                \"enabled\": ${tlsyn},\n                \"server_name\": \"${ym_vm_ws}\",\n                \"certificate_path\": \"$certificatec_vmess_ws\",\n                \"key_path\": \"$certificatep_vmess_ws\"\n            }\n    }, \n    {\n        \"type\": \"hysteria2\",\n        \"sniff\": true,\n        \"sniff_override_destination\": true,\n        \"tag\": \"hy2-sb\",\n        \"listen\": \"::\",\n        \"listen_port\": ${port_hy2},\n        \"users\": [\n            {\n                \"password\": \"${uuid}\"\n            }\n        ],\n        \"ignore_client_bandwidth\":false,\n        \"tls\": {\n            \"enabled\": true,\n            \"alpn\": [\n                \"h3\"\n            ],\n            \"certificate_path\": \"$certificatec_hy2\",\n            \"key_path\": \"$certificatep_hy2\"\n        }\n    },\n        {\n            \"type\":\"tuic\",\n            \"sniff\": true,\n            \"sniff_override_destination\": true,\n            \"tag\": \"tuic5-sb\",\n            \"listen\": \"::\",\n            \"listen_port\": ${port_tu},\n            \"users\": [\n                {\n                    \"uuid\": \"${uuid}\",\n                    \"password\": \"${uuid}\"\n                }\n            ],\n            \"congestion_control\": \"bbr\",\n            \"tls\":{\n                \"enabled\": true,\n                \"alpn\": [\n                    \"h3\"\n                ],\n                \"certificate_path\": \"$certificatec_tuic\",\n                \"key_path\": \"$certificatep_tuic\"\n            }\n        }\n],\n\"outbounds\": [\n{\n\"type\":\"direct\",\n\"tag\":\"direct\",\n\"domain_strategy\": \"$ipv\"\n},\n{\n\"type\":\"direct\",\n\"tag\": \"vps-outbound-v4\", \n\"domain_strategy\":\"ipv4_only\"\n},\n{\n\"type\":\"direct\",\n\"tag\": \"vps-outbound-v6\",\n\"domain_strategy\":\"ipv6_only\"\n},\n{\n\"type\": \"socks\",\n\"tag\": \"socks-out\",\n\"server\": \"127.0.0.1\",\n\"server_port\": 40000,\n\"version\": \"5\"\n},\n{\n\"type\":\"direct\",\n\"tag\":\"socks-IPv4-out\",\n\"detour\":\"socks-out\",\n\"domain_strategy\":\"ipv4_only\"\n},\n{\n\"type\":\"direct\",\n\"tag\":\"socks-IPv6-out\",\n\"detour\":\"socks-out\",\n\"domain_strategy\":\"ipv6_only\"\n},\n{\n\"type\":\"direct\",\n\"tag\":\"warp-IPv4-out\",\n\"detour\":\"wireguard-out\",\n\"domain_strategy\":\"ipv4_only\"\n},\n{\n\"type\":\"direct\",\n\"tag\":\"warp-IPv6-out\",\n\"detour\":\"wireguard-out\",\n\"domain_strategy\":\"ipv6_only\"\n},\n{\n\"type\":\"wireguard\",\n\"tag\":\"wireguard-out\",\n\"server\":\"$endip\",\n\"server_port\":2408,\n\"local_address\":[\n\"172.16.0.2/32\",\n\"${v6}/128\"\n],\n\"private_key\":\"$pvk\",\n\"peer_public_key\":\"bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=\",\n\"reserved\":$res\n},\n{\n\"type\": \"block\",\n\"tag\": \"block\"\n}\n],\n\"route\":{\n\"rules\":[\n{\n\"protocol\": [\n\"quic\",\n\"stun\"\n],\n\"outbound\": \"block\"\n},\n{\n\"outbound\":\"warp-IPv4-out\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\":\"warp-IPv6-out\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\":\"socks-IPv4-out\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\":\"socks-IPv6-out\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\":\"vps-outbound-v4\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\":\"vps-outbound-v6\",\n\"domain\": [\n\"yg_kkk\"\n]\n,\"geosite\": [\n\"yg_kkk\"\n]\n},\n{\n\"outbound\": \"direct\",\n\"network\": \"udp,tcp\"\n}\n]\n}\n}\nEOF\n}\n\nsbservice(){\nif [[ x\"${release}\" == x\"alpine\" ]]; then\necho '#!/sbin/openrc-run\ndescription=\"sing-box service\"\ncommand=\"/etc/s-box/sing-box\"\ncommand_args=\"run -c /etc/s-box/sb.json\"\ncommand_background=true\npidfile=\"/var/run/sing-box.pid\"' > /etc/init.d/sing-box\nchmod +x /etc/init.d/sing-box\nrc-update add sing-box default\nrc-service sing-box start\nelse\ncat > /etc/systemd/system/sing-box.service <<EOF\n[Unit]\nAfter=network.target nss-lookup.target\n[Service]\nUser=root\nWorkingDirectory=/root\nCapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE CAP_NET_RAW\nAmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE CAP_NET_RAW\nExecStart=/etc/s-box/sing-box run -c /etc/s-box/sb.json\nExecReload=/bin/kill -HUP \\$MAINPID\nRestart=on-failure\nRestartSec=10\nLimitNOFILE=infinity\n[Install]\nWantedBy=multi-user.target\nEOF\nsystemctl daemon-reload\nsystemctl enable sing-box >/dev/null 2>&1\nsystemctl start sing-box\nsystemctl restart sing-box\nfi\n}\n\nipuuid(){\nuuid=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].users[0].uuid')\nserip=$(curl -s4m5 icanhazip.com -k || curl -s6m5 icanhazip.com -k)\nif [[ \"$serip\" =~ : ]]; then\nsbdnsip='tls://[2001:4860:4860::8888]/dns-query'\nserver_ip=\"[$serip]\"\nserver_ipcl=\"$serip\"\nelse\nsbdnsip='tls://8.8.8.8/dns-query'\nserver_ip=\"$serip\"\nserver_ipcl=\"$serip\"\nfi\n}\n\nwgcfgo(){\nwarpcheck\nif [[ ! $wgcfv4 =~ on|plus && ! $wgcfv6 =~ on|plus ]]; then\nipuuid\nelse\nsystemctl stop wg-quick@wgcf >/dev/null 2>&1\nkill -15 $(pgrep warp-go) >/dev/null 2>&1 && sleep 2\nipuuid\nsystemctl start wg-quick@wgcf >/dev/null 2>&1\nsystemctl restart warp-go >/dev/null 2>&1\nsystemctl enable warp-go >/dev/null 2>&1\nsystemctl start warp-go >/dev/null 2>&1\nfi\n}\n\nresult_vl_vm_hy_tu(){\nif [[ -f /root/ygkkkca/cert.crt && -f /root/ygkkkca/private.key && -s /root/ygkkkca/cert.crt && -s /root/ygkkkca/private.key ]]; then\nym=`bash ~/.acme.sh/acme.sh --list | tail -1 | awk '{print $1}'`\necho $ym > /root/ygkkkca/ca.log\nfi\nrm -rf /etc/s-box/vm_ws_argo.txt /etc/s-box/vm_ws.txt /etc/s-box/vm_ws_tls.txt\nwgcfgo\nvl_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].listen_port')\nvl_name=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.server_name')\npublic_key=$(cat /etc/s-box/public.key)\nshort_id=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.reality.short_id[0]')\nargo=$(cat /etc/s-box/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')\nws_path=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].transport.path')\nvm_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].listen_port')\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nvm_name=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.server_name')\nif [[ \"$tls\" = \"false\" ]]; then\nif [[ -f /etc/s-box/cfymjx.txt ]]; then\nvm_name=$(cat /etc/s-box/cfymjx.txt 2>/dev/null)\nelse\nvm_name=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.server_name')\nfi\nvmadd_local=$server_ipcl\nvmadd_are_local=$server_ip\nelse\nvmadd_local=$vm_name\nvmadd_are_local=$vm_name\nfi\nif [[ -f /etc/s-box/cfvmadd_local.txt ]]; then\nvmadd_local=$(cat /etc/s-box/cfvmadd_local.txt 2>/dev/null)\nvmadd_are_local=$(cat /etc/s-box/cfvmadd_local.txt 2>/dev/null)\nelse\nif [[ \"$tls\" = \"false\" ]]; then\nif [[ -f /etc/s-box/cfymjx.txt ]]; then\nvm_name=$(cat /etc/s-box/cfymjx.txt 2>/dev/null)\nelse\nvm_name=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.server_name')\nfi\nvmadd_local=$server_ipcl\nvmadd_are_local=$server_ip\nelse\nvmadd_local=$vm_name\nvmadd_are_local=$vm_name\nfi\nfi\nif [[ -f /etc/s-box/cfvmadd_argo.txt ]]; then\nvmadd_argo=$(cat /etc/s-box/cfvmadd_argo.txt 2>/dev/null)\nelse\nvmadd_argo=www.visa.com.sg\nfi\nhy2_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].listen_port')\nhy2_ports=$(iptables -t nat -nL --line 2>/dev/null | grep -w \"$hy2_port\" | awk '{print $8}' | sed 's/dpts://; s/dpt://' | tr '\\n' ',' | sed 's/,$//')\nif [[ -n $hy2_ports ]]; then\nhy2ports=$(echo $hy2_ports | sed 's/:/-/g')\nhyps=$hy2_port,$hy2ports\nelse\nhyps=$hy2_port\nfi\nym=$(cat /root/ygkkkca/ca.log 2>/dev/null)\nhy2_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].tls.key_path')\nif [[ \"$hy2_sniname\" = '/etc/s-box/private.key' ]]; then\nhy2_name=www.bing.com\nsb_hy2_ip=$server_ip\ncl_hy2_ip=$server_ipcl\nins_hy2=1\nhy2_ins=true\nelse\nhy2_name=$ym\nsb_hy2_ip=$ym\ncl_hy2_ip=$ym\nins_hy2=0\nhy2_ins=false\nfi\ntu5_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].listen_port')\nym=$(cat /root/ygkkkca/ca.log 2>/dev/null)\ntu5_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.key_path')\nif [[ \"$tu5_sniname\" = '/etc/s-box/private.key' ]]; then\ntu5_name=www.bing.com\nsb_tu5_ip=$server_ip\ncl_tu5_ip=$server_ipcl\nins=1\ntu5_ins=true\nelse\ntu5_name=$ym\nsb_tu5_ip=$ym\ncl_tu5_ip=$ym\nins=0\ntu5_ins=false\nfi\n}\n\nresvless(){\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nvl_link=\"vless://$uuid@$server_ip:$vl_port?encryption=none&flow=xtls-rprx-vision&security=reality&sni=$vl_name&fp=chrome&pbk=$public_key&sid=$short_id&type=tcp&headerType=none#vl-reality-$hostname\"\necho \"$vl_link\" > /etc/s-box/vl_reality.txt\nred \"ğŸš€ã€ vless-reality-vision ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}$vl_link${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/vl_reality.txt)\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nresvmess(){\nif [[ \"$tls\" = \"false\" ]]; then\nargopid\nif [[ -n $(ps -e | grep -w $ls 2>/dev/null) ]]; then\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vmess-ws(tls)+Argo ã€‘ä¸´æ—¶èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹(å¯é€‰æ‹©3-8-3ï¼Œè‡ªå®šä¹‰CDNä¼˜é€‰åœ°å€)ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}vmess://$(echo '{\"add\":\"'$vmadd_argo'\",\"aid\":\"0\",\"host\":\"'$argo'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"'vm-argo-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$argo'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho 'vmess://'$(echo '{\"add\":\"'$vmadd_argo'\",\"aid\":\"0\",\"host\":\"'$argo'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"'vm-argo-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$argo'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0) > /etc/s-box/vm_ws_argols.txt\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/vm_ws_argols.txt)\"\nfi\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) ]]; then\nargogd=$(cat /etc/s-box/sbargoym.log 2>/dev/null)\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vmess-ws(tls)+Argo ã€‘å›ºå®šèŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ (å¯é€‰æ‹©3-8-3ï¼Œè‡ªå®šä¹‰CDNä¼˜é€‰åœ°å€)ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}vmess://$(echo '{\"add\":\"'$vmadd_argo'\",\"aid\":\"0\",\"host\":\"'$argogd'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"'vm-argo-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$argogd'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho 'vmess://'$(echo '{\"add\":\"'$vmadd_argo'\",\"aid\":\"0\",\"host\":\"'$argogd'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"'vm-argo-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$argogd'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0) > /etc/s-box/vm_ws_argogd.txt\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/vm_ws_argogd.txt)\"\nfi\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vmess-ws ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ (å»ºè®®é€‰æ‹©3-8-1ï¼Œè®¾ç½®ä¸ºCDNä¼˜é€‰èŠ‚ç‚¹)ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}vmess://$(echo '{\"add\":\"'$vmadd_are_local'\",\"aid\":\"0\",\"host\":\"'$vm_name'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"'$vm_port'\",\"ps\":\"'vm-ws-$hostname'\",\"tls\":\"\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho 'vmess://'$(echo '{\"add\":\"'$vmadd_are_local'\",\"aid\":\"0\",\"host\":\"'$vm_name'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"'$vm_port'\",\"ps\":\"'vm-ws-$hostname'\",\"tls\":\"\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0) > /etc/s-box/vm_ws.txt\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/vm_ws.txt)\"\nelse\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vmess-ws-tls ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ (å»ºè®®é€‰æ‹©3-8-1ï¼Œè®¾ç½®ä¸ºCDNä¼˜é€‰èŠ‚ç‚¹)ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}vmess://$(echo '{\"add\":\"'$vmadd_are_local'\",\"aid\":\"0\",\"host\":\"'$vm_name'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"'$vm_port'\",\"ps\":\"'vm-ws-tls-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$vm_name'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€v2rayngã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho 'vmess://'$(echo '{\"add\":\"'$vmadd_are_local'\",\"aid\":\"0\",\"host\":\"'$vm_name'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"'$vm_port'\",\"ps\":\"'vm-ws-tls-$hostname'\",\"tls\":\"tls\",\"sni\":\"'$vm_name'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0) > /etc/s-box/vm_ws_tls.txt\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/vm_ws_tls.txt)\"\nfi\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nreshy2(){\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nhy2_link=\"hysteria2://$uuid@$sb_hy2_ip:$hy2_port?&alpn=h3&insecure=$ins_hy2&mport=$hyps&sni=$hy2_name#hy2-$hostname\"\necho \"$hy2_link\" > /etc/s-box/hy2.txt\nred \"ğŸš€ã€ Hysteria-2 ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}$hy2_link${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/hy2.txt)\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nrestu5(){\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ntuic5_link=\"tuic://$uuid:$uuid@$sb_tu5_ip:$tu5_port?congestion_control=bbr&udp_relay_mode=native&alpn=h3&sni=$tu5_name&allow_insecure=$ins#tu5-$hostname\"\necho \"$tuic5_link\" > /etc/s-box/tuic5.txt\nred \"ğŸš€ã€ Tuic-v5 ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\necho -e \"${yellow}$tuic5_link${plain}\"\necho\necho \"äºŒç»´ç ã€v2raynã€nekoboxã€å°ç«ç®­shadowrocketã€‘\"\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/tuic5.txt)\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nsb_client(){\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nargopid\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) && -n $(ps -e | grep -w $ls 2>/dev/null) && \"$tls\" = \"false\" ]]; then\ncat > /etc/s-box/sing_box_client.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"$sbdnsip\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n           \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoå›ºå®š-$hostname\",\n\"vmess-argoå›ºå®š-$hostname\",\n\"vmess-tls-argoä¸´æ—¶-$hostname\",\n\"vmess-argoä¸´æ—¶-$hostname\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$hostname\",\n      \"server\": \"$server_ipcl\",\n      \"server_port\": $vl_port,\n      \"uuid\": \"$uuid\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$vl_name\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"$short_id\"\n        }\n      }\n    },\n{\n            \"server\": \"$vmadd_local\",\n            \"server_port\": $vm_port,\n            \"tag\": \"vmess-$hostname\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vm_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$hostname\",\n        \"server\": \"$cl_hy2_ip\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$uuid\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$hy2_name\",\n            \"insecure\": $hy2_ins,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n        {\n            \"type\":\"tuic\",\n            \"tag\": \"tuic5-$hostname\",\n            \"server\": \"$cl_tu5_ip\",\n            \"server_port\": $tu5_port,\n            \"uuid\": \"$uuid\",\n            \"password\": \"$uuid\",\n            \"congestion_control\": \"bbr\",\n            \"udp_relay_mode\": \"native\",\n            \"udp_over_stream\": false,\n            \"zero_rtt_handshake\": false,\n            \"heartbeat\": \"10s\",\n            \"tls\":{\n                \"enabled\": true,\n                \"server_name\": \"$tu5_name\",\n                \"insecure\": $tu5_ins,\n                \"alpn\": [\n                    \"h3\"\n                ]\n            }\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argoå›ºå®š-$hostname\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argogd\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argogd\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argoå›ºå®š-$hostname\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argogd\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argogd\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argoä¸´æ—¶-$hostname\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argo\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argo\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argoä¸´æ—¶-$hostname\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argo\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argo\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoå›ºå®š-$hostname\",\n\"vmess-argoå›ºå®š-$hostname\",\n\"vmess-tls-argoä¸´æ—¶-$hostname\",\n\"vmess-argoä¸´æ—¶-$hostname\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > /etc/s-box/clash_meta_client.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$hostname               \n  type: vless\n  server: $server_ipcl                           \n  port: $vl_port                                \n  uuid: $uuid   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $vl_name                 \n  reality-opts: \n    public-key: $public_key    \n    short-id: $short_id                      \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$hostname                         \n  type: vmess\n  server: $vmadd_local                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vm_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name                     \n\n- name: hysteria2-$hostname                            \n  type: hysteria2                                      \n  server: $cl_hy2_ip                               \n  port: $hy2_port                                \n  password: $uuid                          \n  alpn:\n    - h3\n  sni: $hy2_name                               \n  skip-cert-verify: $hy2_ins\n  fast-open: true\n\n- name: tuic5-$hostname                            \n  server: $cl_tu5_ip                      \n  port: $tu5_port                                    \n  type: tuic\n  uuid: $uuid       \n  password: $uuid   \n  alpn: [h3]\n  disable-sni: true\n  reduce-rtt: true\n  udp-relay-mode: native\n  congestion-controller: bbr\n  sni: $tu5_name                                \n  skip-cert-verify: $tu5_ins\n\n- name: vmess-tls-argoå›ºå®š-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argogd                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argogd\n\n\n- name: vmess-argoå›ºå®š-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argogd                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argogd\n\n- name: vmess-tls-argoä¸´æ—¶-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argo                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argo\n\n- name: vmess-argoä¸´æ—¶-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argo                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argo \n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\nEOF\n\n\nelif [[ ! -n $(ps -e | grep -w $ym 2>/dev/null) && -n $(ps -e | grep -w $ls 2>/dev/null) && \"$tls\" = \"false\" ]]; then\ncat > /etc/s-box/sing_box_client.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"$sbdnsip\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n           \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoä¸´æ—¶-$hostname\",\n\"vmess-argoä¸´æ—¶-$hostname\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$hostname\",\n      \"server\": \"$server_ipcl\",\n      \"server_port\": $vl_port,\n      \"uuid\": \"$uuid\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$vl_name\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"$short_id\"\n        }\n      }\n    },\n{\n            \"server\": \"$vmadd_local\",\n            \"server_port\": $vm_port,\n            \"tag\": \"vmess-$hostname\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vm_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$hostname\",\n        \"server\": \"$cl_hy2_ip\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$uuid\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$hy2_name\",\n            \"insecure\": $hy2_ins,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n        {\n            \"type\":\"tuic\",\n            \"tag\": \"tuic5-$hostname\",\n            \"server\": \"$cl_tu5_ip\",\n            \"server_port\": $tu5_port,\n            \"uuid\": \"$uuid\",\n            \"password\": \"$uuid\",\n            \"congestion_control\": \"bbr\",\n            \"udp_relay_mode\": \"native\",\n            \"udp_over_stream\": false,\n            \"zero_rtt_handshake\": false,\n            \"heartbeat\": \"10s\",\n            \"tls\":{\n                \"enabled\": true,\n                \"server_name\": \"$tu5_name\",\n                \"insecure\": $tu5_ins,\n                \"alpn\": [\n                    \"h3\"\n                ]\n            }\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argoä¸´æ—¶-$hostname\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argo\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argo\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argoä¸´æ—¶-$hostname\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argo\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argo\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoä¸´æ—¶-$hostname\",\n\"vmess-argoä¸´æ—¶-$hostname\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > /etc/s-box/clash_meta_client.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$hostname               \n  type: vless\n  server: $server_ipcl                           \n  port: $vl_port                                \n  uuid: $uuid   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $vl_name                 \n  reality-opts: \n    public-key: $public_key    \n    short-id: $short_id                      \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$hostname                         \n  type: vmess\n  server: $vmadd_local                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vm_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name                     \n\n- name: hysteria2-$hostname                            \n  type: hysteria2                                      \n  server: $cl_hy2_ip                               \n  port: $hy2_port                                \n  password: $uuid                          \n  alpn:\n    - h3\n  sni: $hy2_name                               \n  skip-cert-verify: $hy2_ins\n  fast-open: true\n\n- name: tuic5-$hostname                            \n  server: $cl_tu5_ip                      \n  port: $tu5_port                                    \n  type: tuic\n  uuid: $uuid       \n  password: $uuid   \n  alpn: [h3]\n  disable-sni: true\n  reduce-rtt: true\n  udp-relay-mode: native\n  congestion-controller: bbr\n  sni: $tu5_name                                \n  skip-cert-verify: $tu5_ins\n\n\n\n\n\n\n\n\n\n- name: vmess-tls-argoä¸´æ—¶-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argo                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argo\n\n- name: vmess-argoä¸´æ—¶-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argo                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argo \n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoä¸´æ—¶-$hostname\n    - vmess-argoä¸´æ—¶-$hostname\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\nEOF\n\nelif [[ -n $(ps -e | grep -w $ym 2>/dev/null) && ! -n $(ps -e | grep -w $ls 2>/dev/null) && \"$tls\" = \"false\" ]]; then\ncat > /etc/s-box/sing_box_client.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"$sbdnsip\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n     \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoå›ºå®š-$hostname\",\n\"vmess-argoå›ºå®š-$hostname\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$hostname\",\n      \"server\": \"$server_ipcl\",\n      \"server_port\": $vl_port,\n      \"uuid\": \"$uuid\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$vl_name\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"$short_id\"\n        }\n      }\n    },\n{\n            \"server\": \"$vmadd_local\",\n            \"server_port\": $vm_port,\n            \"tag\": \"vmess-$hostname\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vm_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$hostname\",\n        \"server\": \"$cl_hy2_ip\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$uuid\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$hy2_name\",\n            \"insecure\": $hy2_ins,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n        {\n            \"type\":\"tuic\",\n            \"tag\": \"tuic5-$hostname\",\n            \"server\": \"$cl_tu5_ip\",\n            \"server_port\": $tu5_port,\n            \"uuid\": \"$uuid\",\n            \"password\": \"$uuid\",\n            \"congestion_control\": \"bbr\",\n            \"udp_relay_mode\": \"native\",\n            \"udp_over_stream\": false,\n            \"zero_rtt_handshake\": false,\n            \"heartbeat\": \"10s\",\n            \"tls\":{\n                \"enabled\": true,\n                \"server_name\": \"$tu5_name\",\n                \"insecure\": $tu5_ins,\n                \"alpn\": [\n                    \"h3\"\n                ]\n            }\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argoå›ºå®š-$hostname\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argogd\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argogd\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n{\n            \"server\": \"$vmadd_argo\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argoå›ºå®š-$hostname\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argogd\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argogd\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\",\n\"vmess-tls-argoå›ºå®š-$hostname\",\n\"vmess-argoå›ºå®š-$hostname\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > /etc/s-box/clash_meta_client.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$hostname               \n  type: vless\n  server: $server_ipcl                           \n  port: $vl_port                                \n  uuid: $uuid   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $vl_name                 \n  reality-opts: \n    public-key: $public_key    \n    short-id: $short_id                      \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$hostname                         \n  type: vmess\n  server: $vmadd_local                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vm_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name                     \n\n- name: hysteria2-$hostname                            \n  type: hysteria2                                      \n  server: $cl_hy2_ip                               \n  port: $hy2_port                                \n  password: $uuid                          \n  alpn:\n    - h3\n  sni: $hy2_name                               \n  skip-cert-verify: $hy2_ins\n  fast-open: true\n\n- name: tuic5-$hostname                            \n  server: $cl_tu5_ip                      \n  port: $tu5_port                                    \n  type: tuic\n  uuid: $uuid       \n  password: $uuid   \n  alpn: [h3]\n  disable-sni: true\n  reduce-rtt: true\n  udp-relay-mode: native\n  congestion-controller: bbr\n  sni: $tu5_name                                \n  skip-cert-verify: $tu5_ins\n\n\n\n\n\n\n\n- name: vmess-tls-argoå›ºå®š-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argogd                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argogd\n\n- name: vmess-argoå›ºå®š-$hostname                         \n  type: vmess\n  server: $vmadd_argo                        \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argogd                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argogd\n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    - vmess-tls-argoå›ºå®š-$hostname\n    - vmess-argoå›ºå®š-$hostname\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\nEOF\n\nelse\ncat > /etc/s-box/sing_box_client.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"$sbdnsip\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n     \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$hostname\",\n      \"server\": \"$server_ipcl\",\n      \"server_port\": $vl_port,\n      \"uuid\": \"$uuid\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$vl_name\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"$short_id\"\n        }\n      }\n    },\n{\n            \"server\": \"$vmadd_local\",\n            \"server_port\": $vm_port,\n            \"tag\": \"vmess-$hostname\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vm_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$hostname\",\n        \"server\": \"$cl_hy2_ip\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$uuid\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$hy2_name\",\n            \"insecure\": $hy2_ins,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n        {\n            \"type\":\"tuic\",\n            \"tag\": \"tuic5-$hostname\",\n            \"server\": \"$cl_tu5_ip\",\n            \"server_port\": $tu5_port,\n            \"uuid\": \"$uuid\",\n            \"password\": \"$uuid\",\n            \"congestion_control\": \"bbr\",\n            \"udp_relay_mode\": \"native\",\n            \"udp_over_stream\": false,\n            \"zero_rtt_handshake\": false,\n            \"heartbeat\": \"10s\",\n            \"tls\":{\n                \"enabled\": true,\n                \"server_name\": \"$tu5_name\",\n                \"insecure\": $tu5_ins,\n                \"alpn\": [\n                    \"h3\"\n                ]\n            }\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$hostname\",\n        \"vmess-$hostname\",\n        \"hy2-$hostname\",\n        \"tuic5-$hostname\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > /etc/s-box/clash_meta_client.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$hostname               \n  type: vless\n  server: $server_ipcl                           \n  port: $vl_port                                \n  uuid: $uuid   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $vl_name                 \n  reality-opts: \n    public-key: $public_key    \n    short-id: $short_id                    \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$hostname                         \n  type: vmess\n  server: $vmadd_local                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vm_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name                     \n\n\n\n\n\n- name: hysteria2-$hostname                            \n  type: hysteria2                                      \n  server: $cl_hy2_ip                               \n  port: $hy2_port                                \n  password: $uuid                          \n  alpn:\n    - h3\n  sni: $hy2_name                               \n  skip-cert-verify: $hy2_ins\n  fast-open: true\n\n- name: tuic5-$hostname                            \n  server: $cl_tu5_ip                      \n  port: $tu5_port                                    \n  type: tuic\n  uuid: $uuid       \n  password: $uuid   \n  alpn: [h3]\n  disable-sni: true\n  reduce-rtt: true\n  udp-relay-mode: native\n  congestion-controller: bbr\n  sni: $tu5_name                                \n  skip-cert-verify: $tu5_ins\n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$hostname                              \n    - vmess-ws-$hostname\n    - hysteria2-$hostname\n    - tuic5-$hostname\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\nEOF\nfi\n\ncat > /etc/s-box/v2rayn_hy2.yaml <<EOF\nserver: $sb_hy2_ip:$hy2_port\nauth: $uuid\ntls:\n  sni: $hy2_name\n  insecure: $hy2_ins\nfastOpen: true\nsocks5:\n  listen: 127.0.0.1:50000\nlazy: true\ntransport:\n  udp:\n    hopInterval: 30s\nEOF\n\ncat > /etc/s-box/v2rayn_tu5.json <<EOF\n{\n    \"relay\": {\n        \"server\": \"$sb_tu5_ip:$tu5_port\",\n        \"uuid\": \"$uuid\",\n        \"password\": \"$uuid\",\n        \"congestion_control\": \"bbr\",\n        \"alpn\": [\"h3\", \"spdy/3.1\"]\n    },\n    \"local\": {\n        \"server\": \"127.0.0.1:55555\"\n    },\n    \"log_level\": \"info\"\n}\nEOF\nif [[ -n $hy2_ports ]]; then\nhy2_ports=\",$hy2_ports\"\nhy2_ports=$(echo $hy2_ports | sed 's/:/-/g')\na=$hy2_ports\nsed -i \"/server:/ s/$/$a/\" /etc/s-box/v2rayn_hy2.yaml\nfi\nsed -i 's/server: \\(.*\\)/server: \"\\1\"/' /etc/s-box/v2rayn_hy2.yaml\n#if [[ -f /etc/s-box/i ]]; then\n#sed -i 's/\"inet6_address\":/\\/\\/&/' /etc/s-box/sing_box_client.json\n#fi\n}\n\ncfargo_ym(){\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nif [[ \"$tls\" = \"false\" ]]; then\necho\nyellow \"1ï¼šArgoä¸´æ—¶éš§é“\"\nyellow \"2ï¼šArgoå›ºå®šéš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ncfargo\nelif [ \"$menu\" = \"2\" ]; then\ncfargoym\nelse\nchangeserv\nfi\nelse\nyellow \"å› vmesså¼€å¯äº†tlsï¼ŒArgoéš§é“åŠŸèƒ½ä¸å¯ç”¨\" && sleep 2\nfi\n}\n\ncloudflaredargo(){\nif [ ! -e /etc/s-box/cloudflared ]; then\ncase $(uname -m) in\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\nesac\ncurl -L -o /etc/s-box/cloudflared -# --retry 2 https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-$cpu\n#curl -L -o /etc/s-box/cloudflared -# --retry 2 https://gitlab.com/rwkgyg/sing-box-yg/-/raw/main/$cpu\nchmod +x /etc/s-box/cloudflared\nfi\n}\n\ncfargoym(){\necho\nif [[ -f /etc/s-box/sbargotoken.log && -f /etc/s-box/sbargoym.log ]]; then\ngreen \"å½“å‰Argoå›ºå®šéš§é“åŸŸåï¼š$(cat /etc/s-box/sbargoym.log 2>/dev/null)\"\ngreen \"å½“å‰Argoå›ºå®šéš§é“Tokenï¼š$(cat /etc/s-box/sbargotoken.log 2>/dev/null)\"\nfi\necho\ngreen \"è¯·ç¡®ä¿Cloudflareå®˜ç½‘ --- Zero Trust --- Networks --- Tunnelså·²è®¾ç½®å®Œæˆ\"\nyellow \"1ï¼šé‡ç½®/è®¾ç½®Argoå›ºå®šéš§é“åŸŸå\"\nyellow \"2ï¼šåœæ­¢Argoå›ºå®šéš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ncloudflaredargo\nreadp \"è¾“å…¥Argoå›ºå®šéš§é“Token: \" argotoken\nreadp \"è¾“å…¥Argoå›ºå®šéš§é“åŸŸå: \" argoym\nif [[ -n $(ps -e | grep cloudflared) ]]; then\nkill -15 $(cat /etc/s-box/sbargoympid.log 2>/dev/null) >/dev/null 2>&1\nfi\necho\nif [[ -n \"${argotoken}\" && -n \"${argoym}\" ]]; then\nnohup setsid /etc/s-box/cloudflared tunnel --no-autoupdate --edge-ip-version auto --protocol http2 run --token ${argotoken} >/dev/null 2>&1 & echo \"$!\" > /etc/s-box/sbargoympid.log\nsleep 20\nfi\necho ${argoym} > /etc/s-box/sbargoym.log\necho ${argotoken} > /etc/s-box/sbargotoken.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbargoympid/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid /etc/s-box/cloudflared tunnel --no-autoupdate --edge-ip-version auto --protocol http2 run --token $(cat /etc/s-box/sbargotoken.log 2>/dev/null) >/dev/null 2>&1 & pid=\\$! && echo \\$pid > /etc/s-box/sbargoympid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nargo=$(cat /etc/s-box/sbargoym.log 2>/dev/null)\nblue \"Argoå›ºå®šéš§é“è®¾ç½®å®Œæˆï¼Œå›ºå®šåŸŸåï¼š$argo\"\nelif [ \"$menu\" = \"2\" ]; then\nkill -15 $(cat /etc/s-box/sbargoympid.log 2>/dev/null) >/dev/null 2>&1\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbargoympid/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nrm -rf /etc/s-box/vm_ws_argogd.txt\ngreen \"Argoå›ºå®šéš§é“å·²åœæ­¢\"\nelse\ncfargo_ym\nfi\n}\n\ncfargo(){\necho\nyellow \"1ï¼šé‡ç½®Argoä¸´æ—¶éš§é“åŸŸå\"\nyellow \"2ï¼šåœæ­¢Argoä¸´æ—¶éš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ncloudflaredargo\ni=0\nwhile [ $i -le 4 ]; do let i++\nyellow \"ç¬¬$iæ¬¡åˆ·æ–°éªŒè¯Cloudflared Argoä¸´æ—¶éš§é“åŸŸåæœ‰æ•ˆæ€§ï¼Œè¯·ç¨ç­‰â€¦â€¦\"\nif [[ -n $(ps -e | grep cloudflared) ]]; then\nkill -15 $(cat /etc/s-box/sbargopid.log 2>/dev/null) >/dev/null 2>&1\nfi\n/etc/s-box/cloudflared tunnel --url http://localhost:$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].listen_port') --edge-ip-version auto --no-autoupdate --protocol http2 > /etc/s-box/argo.log 2>&1 &\necho \"$!\" > /etc/s-box/sbargopid.log\nsleep 20\nif [[ -n $(curl -sL https://$(cat /etc/s-box/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')/ -I | awk 'NR==1 && /404|400|503/') ]]; then\nargo=$(cat /etc/s-box/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')\nblue \"Argoä¸´æ—¶éš§é“ç”³è¯·æˆåŠŸï¼ŒåŸŸåéªŒè¯æœ‰æ•ˆï¼š$argo\" && sleep 2\nbreak\nfi\nif [ $i -eq 5 ]; then\necho\nyellow \"Argoä¸´æ—¶åŸŸåéªŒè¯æš‚ä¸å¯ç”¨ï¼Œç¨åå¯èƒ½ä¼šè‡ªåŠ¨æ¢å¤ï¼Œæˆ–è€…ç”³è¯·é‡ç½®\" && sleep 3\nfi\ndone\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbargopid/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"/etc/s-box/cloudflared tunnel --url http://localhost:$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].listen_port') --edge-ip-version auto --no-autoupdate --protocol http2 > /etc/s-box/argo.log 2>&1 & pid=\\$! && echo \\$pid > /etc/s-box/sbargopid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nelif [ \"$menu\" = \"2\" ]; then\nkill -15 $(cat /etc/s-box/sbargopid.log 2>/dev/null) >/dev/null 2>&1\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbargopid/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nrm -rf /etc/s-box/vm_ws_argols.txt\ngreen \"Argoä¸´æ—¶éš§é“å·²åœæ­¢\"\nelse\ncfargo_ym\nfi\n}\n\ninstsllsingbox(){\nif [[ -f '/etc/systemd/system/sing-box.service' ]]; then\nred \"å·²å®‰è£…Sing-boxæœåŠ¡ï¼Œæ— æ³•å†æ¬¡å®‰è£…\" && exit\nfi\nmkdir -p /etc/s-box\nv6\nopenyn\ninssb\ninscertificate\ninsport\nsleep 2\necho\nblue \"Vless-realityç›¸å…³keyä¸idå°†è‡ªåŠ¨ç”Ÿæˆâ€¦â€¦\"\nkey_pair=$(/etc/s-box/sing-box generate reality-keypair)\nprivate_key=$(echo \"$key_pair\" | awk '/PrivateKey/ {print $2}' | tr -d '\"')\npublic_key=$(echo \"$key_pair\" | awk '/PublicKey/ {print $2}' | tr -d '\"')\necho \"$public_key\" > /etc/s-box/public.key\nshort_id=$(/etc/s-box/sing-box generate rand --hex 4)\nwget -q -O /root/geoip.db https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.db\nwget -q -O /root/geosite.db https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.db\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \"äº”ã€è‡ªåŠ¨ç”Ÿæˆwarp-wireguardå‡ºç«™è´¦æˆ·\" && sleep 2\nwarpwg\ninssbjsonser && sbservice && sbactive\n#curl -sL https://gitlab.com/rwkgyg/sing-box-yg/-/raw/main/version/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /etc/s-box/v\ncurl -sL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /etc/s-box/v\nclear\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nlnsb && blue \"Sing-box-ygè„šæœ¬å®‰è£…æˆåŠŸï¼Œè„šæœ¬å¿«æ·æ–¹å¼ï¼šsb\" && cronsb && sleep 1\nsbshare\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nblue \"Hysteria2/Tuic5è‡ªå®šä¹‰V2rayNé…ç½®ã€Clash-Meta/Sing-boxå®¢æˆ·ç«¯é…ç½®åŠç§æœ‰è®¢é˜…é“¾æ¥ï¼Œè¯·é€‰æ‹©9æŸ¥çœ‹\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nchangeym(){\n[ -f /root/ygkkkca/ca.log ] && ymzs=\"$yellowåˆ‡æ¢ä¸ºåŸŸåè¯ä¹¦ï¼š$(cat /root/ygkkkca/ca.log 2>/dev/null)$plain\" || ymzs=\"$yellowæœªç”³è¯·åŸŸåè¯ä¹¦ï¼Œæ— æ³•åˆ‡æ¢$plain\"\nvl_na=\"æ­£åœ¨ä½¿ç”¨çš„åŸŸåï¼š$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.server_name')ã€‚$yellowæ›´æ¢ç¬¦åˆrealityè¦æ±‚çš„åŸŸåï¼Œä¸æ”¯æŒè¯ä¹¦åŸŸå$plain\"\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\n[[ \"$tls\" = \"false\" ]] && vm_na=\"å½“å‰å·²å…³é—­TLSã€‚$ymzs ${yellow}å°†å¼€å¯TLSï¼ŒArgoéš§é“å°†ä¸æ”¯æŒå¼€å¯${plain}\" || vm_na=\"æ­£åœ¨ä½¿ç”¨çš„åŸŸåè¯ä¹¦ï¼š$(cat /root/ygkkkca/ca.log 2>/dev/null)ã€‚$yellowåˆ‡æ¢ä¸ºå…³é—­TLSï¼ŒArgoéš§é“å°†å¯ç”¨$plain\"\nhy2_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].tls.key_path')\n[[ \"$hy2_sniname\" = '/etc/s-box/private.key' ]] && hy2_na=\"æ­£åœ¨ä½¿ç”¨è‡ªç­¾bingè¯ä¹¦ã€‚$ymzs\" || hy2_na=\"æ­£åœ¨ä½¿ç”¨çš„åŸŸåè¯ä¹¦ï¼š$(cat /root/ygkkkca/ca.log 2>/dev/null)ã€‚$yellowåˆ‡æ¢ä¸ºè‡ªç­¾bingè¯ä¹¦$plain\"\ntu5_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.key_path')\n[[ \"$tu5_sniname\" = '/etc/s-box/private.key' ]] && tu5_na=\"æ­£åœ¨ä½¿ç”¨è‡ªç­¾bingè¯ä¹¦ã€‚$ymzs\" || tu5_na=\"æ­£åœ¨ä½¿ç”¨çš„åŸŸåè¯ä¹¦ï¼š$(cat /root/ygkkkca/ca.log 2>/dev/null)ã€‚$yellowåˆ‡æ¢ä¸ºè‡ªç­¾bingè¯ä¹¦$plain\"\necho\ngreen \"è¯·é€‰æ‹©è¦åˆ‡æ¢è¯ä¹¦æ¨¡å¼çš„åè®®\"\ngreen \"1ï¼švless-realityåè®®ï¼Œ$vl_na\"\nif [[ -f /root/ygkkkca/ca.log ]]; then\ngreen \"2ï¼švmess-wsåè®®ï¼Œ$vm_na\"\ngreen \"3ï¼šHysteria2åè®®ï¼Œ$hy2_na\"\ngreen \"4ï¼šTuic5åè®®ï¼Œ$tu5_na\"\nelse\nred \"ä»…æ”¯æŒé€‰é¡¹1 (vless-reality)ã€‚å› æœªç”³è¯·åŸŸåè¯ä¹¦ï¼Œvmess-wsã€Hysteria-2ã€Tuic-v5çš„è¯ä¹¦åˆ‡æ¢é€‰é¡¹æš‚ä¸äºˆæ˜¾ç¤º\"\nfi\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"è¯·è¾“å…¥vless-realityåŸŸå (å›è½¦ä½¿ç”¨www.yahoo.com)ï¼š\" menu\nym_vl_re=${menu:-www.yahoo.com}\na=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.server_name')\nb=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.reality.handshake.server')\nc=$(cat /etc/s-box/vl_reality.txt | cut -d'=' -f5 | cut -d'&' -f1)\nsed -i \"23s/$a/$ym_vl_re/\" /etc/s-box/sb.json\nsed -i \"27s/$b/$ym_vl_re/\" /etc/s-box/sb.json\nrestartsb\nblue \"è®¾ç½®å®Œæ¯•ï¼Œè¯·å›åˆ°ä¸»èœå•è¿›å…¥é€‰é¡¹9æ›´æ–°èŠ‚ç‚¹é…ç½®\"\nelif [ \"$menu\" = \"2\" ]; then\nif [ -f /root/ygkkkca/ca.log ]; then\na=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\n[ \"$a\" = \"true\" ] && a_a=false || a_a=true\nb=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.server_name')\n[ \"$b\" = \"www.bing.com\" ] && b_b=$(cat /root/ygkkkca/ca.log) || b_b=$(cat /root/ygkkkca/ca.log)\nc=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.certificate_path')\nd=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.key_path')\nif [ \"$d\" = '/etc/s-box/private.key' ]; then\nc_c='/root/ygkkkca/cert.crt'\nd_d='/root/ygkkkca/private.key'\nelse\nc_c='/etc/s-box/cert.pem'\nd_d='/etc/s-box/private.key'\nfi\nsed -i \"55s#$a#$a_a#\" /etc/s-box/sb.json\nsed -i \"56s#$b#$b_b#\" /etc/s-box/sb.json\nsed -i \"57s#$c#$c_c#\" /etc/s-box/sb.json\nsed -i \"58s#$d#$d_d#\" /etc/s-box/sb.json\nrestartsb\nblue \"è®¾ç½®å®Œæ¯•ï¼Œè¯·å›åˆ°ä¸»èœå•è¿›å…¥é€‰é¡¹9æ›´æ–°èŠ‚ç‚¹é…ç½®\"\necho\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nvm_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].listen_port')\nblue \"å½“å‰Vmess-ws(tls)çš„ç«¯å£ï¼š$vm_port\"\n[[ \"$tls\" = \"false\" ]] && blue \"åˆ‡è®°ï¼šå¯è¿›å…¥ä¸»èœå•é€‰é¡¹4-2ï¼Œå°†Vmess-wsç«¯å£æ›´æ”¹ä¸ºä»»æ„7ä¸ª80ç³»ç«¯å£(80ã€8080ã€8880ã€2052ã€2082ã€2086ã€2095)ï¼Œå¯å®ç°CDNä¼˜é€‰IP\" || blue \"åˆ‡è®°ï¼šå¯è¿›å…¥ä¸»èœå•é€‰é¡¹4-2ï¼Œå°†Vmess-ws-tlsç«¯å£æ›´æ”¹ä¸ºä»»æ„6ä¸ª443ç³»çš„ç«¯å£(443ã€8443ã€2053ã€2083ã€2087ã€2096)ï¼Œå¯å®ç°CDNä¼˜é€‰IP\"\necho\nelse\nred \"å½“å‰æœªç”³è¯·åŸŸåè¯ä¹¦ï¼Œä¸å¯åˆ‡æ¢ã€‚ä¸»èœå•é€‰æ‹©12ï¼Œæ‰§è¡ŒAcmeè¯ä¹¦ç”³è¯·\" && sleep 2 && sb\nfi\nelif [ \"$menu\" = \"3\" ]; then\nif [ -f /root/ygkkkca/ca.log ]; then\nc=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].tls.certificate_path')\nd=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].tls.key_path')\nif [ \"$d\" = '/etc/s-box/private.key' ]; then\nc_c='/root/ygkkkca/cert.crt'\nd_d='/root/ygkkkca/private.key'\nelse\nc_c='/etc/s-box/cert.pem'\nd_d='/etc/s-box/private.key'\nfi\nsed -i \"79s#$c#$c_c#\" /etc/s-box/sb.json\nsed -i \"80s#$d#$d_d#\" /etc/s-box/sb.json\nrestartsb\nblue \"è®¾ç½®å®Œæ¯•ï¼Œè¯·å›åˆ°ä¸»èœå•è¿›å…¥é€‰é¡¹9æ›´æ–°èŠ‚ç‚¹é…ç½®\"\nelse\nred \"å½“å‰æœªç”³è¯·åŸŸåè¯ä¹¦ï¼Œä¸å¯åˆ‡æ¢ã€‚ä¸»èœå•é€‰æ‹©12ï¼Œæ‰§è¡ŒAcmeè¯ä¹¦ç”³è¯·\" && sleep 2 && sb\nfi\nelif [ \"$menu\" = \"4\" ]; then\nif [ -f /root/ygkkkca/ca.log ]; then\nc=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.certificate_path')\nd=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.key_path')\nif [ \"$d\" = '/etc/s-box/private.key' ]; then\nc_c='/root/ygkkkca/cert.crt'\nd_d='/root/ygkkkca/private.key'\nelse\nc_c='/etc/s-box/cert.pem'\nd_d='/etc/s-box/private.key'\nfi\nsed -i \"102s#$c#$c_c#\" /etc/s-box/sb.json\nsed -i \"103s#$d#$d_d#\" /etc/s-box/sb.json\nrestartsb\nblue \"è®¾ç½®å®Œæ¯•ï¼Œè¯·å›åˆ°ä¸»èœå•è¿›å…¥é€‰é¡¹9æ›´æ–°èŠ‚ç‚¹é…ç½®\"\nelse\nred \"å½“å‰æœªç”³è¯·åŸŸåè¯ä¹¦ï¼Œä¸å¯åˆ‡æ¢ã€‚ä¸»èœå•é€‰æ‹©12ï¼Œæ‰§è¡ŒAcmeè¯ä¹¦ç”³è¯·\" && sleep 2 && sb\nfi\nelse\nsb\nfi\n}\n\nallports(){\nvl_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].listen_port')\nvm_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].listen_port')\nhy2_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].listen_port')\ntu5_port=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].listen_port')\nhy2_ports=$(iptables -t nat -nL --line 2>/dev/null | grep -w \"$hy2_port\" | awk '{print $8}' | sed 's/dpts://; s/dpt://' | tr '\\n' ',' | sed 's/,$//')\ntu5_ports=$(iptables -t nat -nL --line 2>/dev/null | grep -w \"$tu5_port\" | awk '{print $8}' | sed 's/dpts://; s/dpt://' | tr '\\n' ',' | sed 's/,$//')\n[[ -n $hy2_ports ]] && hy2zfport=\"$hy2_ports\" || hy2zfport=\"æœªæ·»åŠ \"\n[[ -n $tu5_ports ]] && tu5zfport=\"$tu5_ports\" || tu5zfport=\"æœªæ·»åŠ \"\n}\n\nchangeport(){\nsbactive\nallports\nfports(){\nreadp \"\\nè¯·è¾“å…¥è½¬å‘çš„ç«¯å£èŒƒå›´ (1000-65535èŒƒå›´å†…ï¼Œæ ¼å¼ä¸º å°æ•°å­—:å¤§æ•°å­—)ï¼š\" rangeport\nif [[ $rangeport =~ ^([1-9][0-9]{3,4}:[1-9][0-9]{3,4})$ ]]; then\nb=${rangeport%%:*}\nc=${rangeport##*:}\nif [[ $b -ge 1000 && $b -le 65535 && $c -ge 1000 && $c -le 65535 && $b -lt $c ]]; then\niptables -t nat -A PREROUTING -p udp --dport $rangeport -j DNAT --to-destination :$port\nip6tables -t nat -A PREROUTING -p udp --dport $rangeport -j DNAT --to-destination :$port\nnetfilter-persistent save >/dev/null 2>&1\nservice iptables save >/dev/null 2>&1\nblue \"å·²ç¡®è®¤è½¬å‘çš„ç«¯å£èŒƒå›´ï¼š$rangeport\"\nelse\nred \"è¾“å…¥çš„ç«¯å£èŒƒå›´ä¸åœ¨æœ‰æ•ˆèŒƒå›´å†…\" && fports\nfi\nelse\nred \"è¾“å…¥æ ¼å¼ä¸æ­£ç¡®ã€‚æ ¼å¼ä¸º å°æ•°å­—:å¤§æ•°å­—\" && fports\nfi\necho\n}\nfport(){\nreadp \"\\nè¯·è¾“å…¥ä¸€ä¸ªè½¬å‘çš„ç«¯å£ (1000-65535èŒƒå›´å†…)ï¼š\" onlyport\nif [[ $onlyport -ge 1000 && $onlyport -le 65535 ]]; then\niptables -t nat -A PREROUTING -p udp --dport $onlyport -j DNAT --to-destination :$port\nip6tables -t nat -A PREROUTING -p udp --dport $onlyport -j DNAT --to-destination :$port\nnetfilter-persistent save >/dev/null 2>&1\nservice iptables save >/dev/null 2>&1\nblue \"å·²ç¡®è®¤è½¬å‘çš„ç«¯å£ï¼š$onlyport\"\nelse\nblue \"è¾“å…¥çš„ç«¯å£ä¸åœ¨æœ‰æ•ˆèŒƒå›´å†…\" && fport\nfi\necho\n}\n\nhy2deports(){\nallports\nhy2_ports=$(echo \"$hy2_ports\" | sed 's/,/,/g')\nIFS=',' read -ra ports <<< \"$hy2_ports\"\nfor port in \"${ports[@]}\"; do\niptables -t nat -D PREROUTING -p udp --dport $port -j DNAT --to-destination :$hy2_port\nip6tables -t nat -D PREROUTING -p udp --dport $port -j DNAT --to-destination :$hy2_port\ndone\nnetfilter-persistent save >/dev/null 2>&1\nservice iptables save >/dev/null 2>&1\n}\ntu5deports(){\nallports\ntu5_ports=$(echo \"$tu5_ports\" | sed 's/,/,/g')\nIFS=',' read -ra ports <<< \"$tu5_ports\"\nfor port in \"${ports[@]}\"; do\niptables -t nat -D PREROUTING -p udp --dport $port -j DNAT --to-destination :$tu5_port\nip6tables -t nat -D PREROUTING -p udp --dport $port -j DNAT --to-destination :$tu5_port\ndone\nnetfilter-persistent save >/dev/null 2>&1\nservice iptables save >/dev/null 2>&1\n}\n\nallports\ngreen \"Vless-realityä¸Vmess-wsä»…èƒ½æ›´æ”¹å”¯ä¸€çš„ç«¯å£ï¼Œvmess-wsæ³¨æ„Argoç«¯å£é‡ç½®\"\ngreen \"Hysteria2ä¸Tuic5æ”¯æŒæ›´æ”¹ä¸»ç«¯å£ï¼Œä¹Ÿæ”¯æŒå¢åˆ å¤šä¸ªè½¬å‘ç«¯å£\"\ngreen \"Hysteria2æ”¯æŒç«¯å£è·³è·ƒï¼Œä¸”ä¸Tuic5éƒ½æ”¯æŒå¤šç«¯å£å¤ç”¨\"\necho\ngreen \"1ï¼šVless-realityåè®® ${yellow}ç«¯å£:$vl_port${plain}\"\ngreen \"2ï¼šVmess-wsåè®® ${yellow}ç«¯å£:$vm_port${plain}\"\ngreen \"3ï¼šHysteria2åè®® ${yellow}ç«¯å£:$hy2_port  è½¬å‘å¤šç«¯å£: $hy2zfport${plain}\"\ngreen \"4ï¼šTuic5åè®® ${yellow}ç«¯å£:$tu5_port  è½¬å‘å¤šç«¯å£: $tu5zfport${plain}\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©è¦å˜æ›´ç«¯å£çš„åè®®ã€0-4ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nvlport\nsed -i \"14s/$vl_port/$port_vl_re/\" /etc/s-box/sb.json\nrestartsb\nblue \"Vless-realityç«¯å£æ›´æ”¹å®Œæˆï¼Œå¯é€‰æ‹©9è¾“å‡ºé…ç½®ä¿¡æ¯\"\necho\nelif [ \"$menu\" = \"2\" ]; then\nvmport\nsed -i \"41s/$vm_port/$port_vm_ws/\" /etc/s-box/sb.json\nrestartsb\nblue \"Vmess-wsç«¯å£æ›´æ”¹å®Œæˆï¼Œå¯é€‰æ‹©9è¾“å‡ºé…ç½®ä¿¡æ¯\"\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nif [[ \"$tls\" = \"false\" ]]; then\nblue \"åˆ‡è®°ï¼šå¦‚æœArgoä½¿ç”¨ä¸­ï¼Œä¸´æ—¶éš§é“å¿…é¡»é‡ç½®ï¼Œå›ºå®šéš§é“çš„CFè®¾ç½®ç•Œé¢ç«¯å£å¿…é¡»ä¿®æ”¹ä¸º$port_vm_wsã€‚\"\nelse\nblue \"å½“å‰Argoéš§é“å·²ä¸æ”¯æŒå¼€å¯\"\nfi\necho\nelif [ \"$menu\" = \"3\" ]; then\ngreen \"1ï¼šæ›´æ¢Hysteria2ä¸»ç«¯å£ (åŸå¤šç«¯å£è‡ªåŠ¨é‡ç½®åˆ é™¤)\"\ngreen \"2ï¼šæ·»åŠ Hysteria2å¤šç«¯å£\"\ngreen \"3ï¼šé‡ç½®åˆ é™¤Hysteria2å¤šç«¯å£\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nif [ -n $hy2_ports ]; then\nhy2deports\nhy2port\nsed -i \"67s/$hy2_port/$port_hy2/\" /etc/s-box/sb.json\nrestartsb\nresult_vl_vm_hy_tu && reshy2 && sb_client\nelse\nhy2port\nsed -i \"67s/$hy2_port/$port_hy2/\" /etc/s-box/sb.json\nrestartsb\nresult_vl_vm_hy_tu && reshy2 && sb_client\nfi\nelif [ \"$menu\" = \"2\" ]; then\ngreen \"1ï¼šæ·»åŠ Hysteria2èŒƒå›´ç«¯å£\"\ngreen \"2ï¼šæ·»åŠ Hysteria2å•ç«¯å£\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nport=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].listen_port')\nfports && result_vl_vm_hy_tu && sb_client && changeport\nelif [ \"$menu\" = \"2\" ]; then\nport=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].listen_port')\nfport && result_vl_vm_hy_tu && sb_client && changeport\nelse\nchangeport\nfi\nelif [ \"$menu\" = \"3\" ]; then\nif [ -n $hy2_ports ]; then\nhy2deports && result_vl_vm_hy_tu && sb_client && changeport\nelse\nyellow \"Hysteria2æœªè®¾ç½®å¤šç«¯å£\" && changeport\nfi\nelse\nchangeport\nfi\n\nelif [ \"$menu\" = \"4\" ]; then\ngreen \"1ï¼šæ›´æ¢Tuic5ä¸»ç«¯å£ (åŸå¤šç«¯å£è‡ªåŠ¨é‡ç½®åˆ é™¤)\"\ngreen \"2ï¼šæ·»åŠ Tuic5å¤šç«¯å£\"\ngreen \"3ï¼šé‡ç½®åˆ é™¤Tuic5å¤šç«¯å£\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nif [ -n $tu5_ports ]; then\ntu5deports\ntu5port\nsed -i \"89s/$tu5_port/$port_tu/\" /etc/s-box/sb.json\nrestartsb\nresult_vl_vm_hy_tu && restu5 && sb_client\nelse\ntu5port\nsed -i \"89s/$tu5_port/$port_tu/\" /etc/s-box/sb.json\nrestartsb\nresult_vl_vm_hy_tu && restu5 && sb_client\nfi\nelif [ \"$menu\" = \"2\" ]; then\ngreen \"1ï¼šæ·»åŠ Tuic5èŒƒå›´ç«¯å£\"\ngreen \"2ï¼šæ·»åŠ Tuic5å•ç«¯å£\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nport=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].listen_port')\nfports && result_vl_vm_hy_tu && sb_client && changeport\nelif [ \"$menu\" = \"2\" ]; then\nport=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].listen_port')\nfport && result_vl_vm_hy_tu && sb_client && changeport\nelse\nchangeport\nfi\nelif [ \"$menu\" = \"3\" ]; then\nif [ -n $tu5_ports ]; then\ntu5deports && result_vl_vm_hy_tu && sb_client && changeport\nelse\nyellow \"Tuic5æœªè®¾ç½®å¤šç«¯å£\" && changeport\nfi\nelse\nchangeport\nfi\nelse\nsb\nfi\n}\n\nchangeuuid(){\necho\nolduuid=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].users[0].uuid')\noldvmpath=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].transport.path')\ngreen \"å…¨åè®®çš„uuid (å¯†ç )ï¼š$olduuid\"\ngreen \"Vmessçš„pathè·¯å¾„ï¼š$oldvmpath\"\necho\nyellow \"1ï¼šè‡ªå®šä¹‰å…¨åè®®çš„uuid (å¯†ç )\"\nyellow \"2ï¼šè‡ªå®šä¹‰Vmessçš„pathè·¯å¾„\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"è¾“å…¥uuidï¼Œå¿…é¡»æ˜¯uuidæ ¼å¼ï¼Œä¸æ‡‚å°±å›è½¦(é‡ç½®å¹¶éšæœºç”Ÿæˆuuid)ï¼š\" menu\nif [ -z \"$menu\" ]; then\nuuid=$(/etc/s-box/sing-box generate uuid)\nelse\nuuid=$menu\nfi\nsed -i \"s/$olduuid/$uuid/g\" /etc/s-box/sb.json\nrestartsb\nblue \"å·²ç¡®è®¤uuid (å¯†ç )ï¼š${uuid}\" \nblue \"å·²ç¡®è®¤Vmessçš„pathè·¯å¾„ï¼š$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].transport.path')\"\nelif [ \"$menu\" = \"2\" ]; then\nreadp \"è¾“å…¥Vmessçš„pathè·¯å¾„ï¼Œå›è½¦è¡¨ç¤ºä¸å˜ï¼š\" menu\nif [ -z \"$menu\" ]; then\necho\nelse\nvmpath=$menu\nsed -i \"50s#$oldvmpath#$vmpath#g\" /etc/s-box/sb.json\nrestartsb\nfi\nblue \"å·²ç¡®è®¤Vmessçš„pathè·¯å¾„ï¼š$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].transport.path')\"\nsbshare\nelse\nchangeserv\nfi\n}\n\nchangeip(){\nv4v6\nchip(){\nrpip=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.outbounds[0].domain_strategy')\nsed -i \"111s/$rpip/$rrpip/g\" /etc/s-box/sb.json\nrestartsb\n}\nreadp \"1. IPV4ä¼˜å…ˆ\\n2. IPV6ä¼˜å…ˆ\\n3. ä»…IPV4\\n4. ä»…IPV6\\nè¯·é€‰æ‹©ï¼š\" choose\nif [[ $choose == \"1\" && -n $v4 ]]; then\nrrpip=\"prefer_ipv4\" && chip && v4_6=\"IPV4ä¼˜å…ˆ($v4)\"\nelif [[ $choose == \"2\" && -n $v6 ]]; then\nrrpip=\"prefer_ipv6\" && chip && v4_6=\"IPV6ä¼˜å…ˆ($v6)\"\nelif [[ $choose == \"3\" && -n $v4 ]]; then\nrrpip=\"ipv4_only\" && chip && v4_6=\"ä»…IPV4($v4)\"\nelif [[ $choose == \"4\" && -n $v6 ]]; then\nrrpip=\"ipv6_only\" && chip && v4_6=\"ä»…IPV6($v6)\"\nelse \nred \"å½“å‰ä¸å­˜åœ¨ä½ é€‰æ‹©çš„IPV4/IPV6åœ°å€ï¼Œæˆ–è€…è¾“å…¥é”™è¯¯\" && changeip\nfi\nblue \"å½“å‰å·²æ›´æ¢çš„IPä¼˜å…ˆçº§ï¼š${v4_6}\" && sb\n}\n\ntgsbshow(){\necho\nyellow \"1ï¼šé‡ç½®/è®¾ç½®Telegramæœºå™¨äººçš„Tokenã€ç”¨æˆ·ID\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-1ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nrm -rf /etc/s-box/sbtg.sh\nreadp \"è¾“å…¥Telegramæœºå™¨äººToken: \" token\ntelegram_token=$token\nreadp \"è¾“å…¥Telegramæœºå™¨äººç”¨æˆ·ID: \" userid\ntelegram_id=$userid\necho '#!/bin/bash\nexport LANG=en_US.UTF-8\n\ntotal_lines=$(wc -l < /etc/s-box/clash_meta_client.yaml)\nhalf=$((total_lines / 2))\nhead -n $half /etc/s-box/clash_meta_client.yaml > /etc/s-box/clash_meta_client1.txt\ntail -n +$((half + 1)) /etc/s-box/clash_meta_client.yaml > /etc/s-box/clash_meta_client2.txt\n\ntotal_lines=$(wc -l < /etc/s-box/sing_box_client.json)\nquarter=$((total_lines / 4))\nhead -n $quarter /etc/s-box/sing_box_client.json > /etc/s-box/sing_box_client1.txt\ntail -n +$((quarter + 1)) /etc/s-box/sing_box_client.json | head -n $quarter > /etc/s-box/sing_box_client2.txt\ntail -n +$((2 * quarter + 1)) /etc/s-box/sing_box_client.json | head -n $quarter > /etc/s-box/sing_box_client3.txt\ntail -n +$((3 * quarter + 1)) /etc/s-box/sing_box_client.json > /etc/s-box/sing_box_client4.txt\n\nm1=$(cat /etc/s-box/vl_reality.txt 2>/dev/null)\nm2=$(cat /etc/s-box/vm_ws.txt 2>/dev/null)\nm3=$(cat /etc/s-box/vm_ws_argols.txt 2>/dev/null)\nm3_5=$(cat /etc/s-box/vm_ws_argogd.txt 2>/dev/null)\nm4=$(cat /etc/s-box/vm_ws_tls.txt 2>/dev/null)\nm5=$(cat /etc/s-box/hy2.txt 2>/dev/null)\nm6=$(cat /etc/s-box/tuic5.txt 2>/dev/null)\nm7=$(cat /etc/s-box/sing_box_client1.txt 2>/dev/null)\nm7_5=$(cat /etc/s-box/sing_box_client2.txt 2>/dev/null)\nm7_5_5=$(cat /etc/s-box/sing_box_client3.txt 2>/dev/null)\nm7_5_5_5=$(cat /etc/s-box/sing_box_client4.txt 2>/dev/null)\nm8=$(cat /etc/s-box/clash_meta_client1.txt 2>/dev/null)\nm8_5=$(cat /etc/s-box/clash_meta_client2.txt 2>/dev/null)\nm9=$(cat /etc/s-box/sing_box_gitlab.txt 2>/dev/null)\nm10=$(cat /etc/s-box/clash_meta_gitlab.txt 2>/dev/null)\nm11=$(cat /etc/s-box/jh_sub.txt 2>/dev/null)\nmessage_text_m1=$(echo \"$m1\")\nmessage_text_m2=$(echo \"$m2\")\nmessage_text_m3=$(echo \"$m3\")\nmessage_text_m3_5=$(echo \"$m3_5\")\nmessage_text_m4=$(echo \"$m4\")\nmessage_text_m5=$(echo \"$m5\")\nmessage_text_m6=$(echo \"$m6\")\nmessage_text_m7=$(echo \"$m7\")\nmessage_text_m7_5=$(echo \"$m7_5\")\nmessage_text_m7_5_5=$(echo \"$m7_5_5\")\nmessage_text_m7_5_5_5=$(echo \"$m7_5_5_5\")\nmessage_text_m8=$(echo \"$m8\")\nmessage_text_m8_5=$(echo \"$m8_5\")\nmessage_text_m9=$(echo \"$m9\")\nmessage_text_m10=$(echo \"$m10\")\nmessage_text_m11=$(echo \"$m11\")\nMODE=HTML\nURL=\"https://api.telegram.org/bottelegram_token/sendMessage\"\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Vless-reality-vision åˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m1}\")\nif [[ -f /etc/s-box/vm_ws.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Vmess-ws åˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m2}\")\nfi\nif [[ -f /etc/s-box/vm_ws_argols.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Vmess-ws(tls)+Argoä¸´æ—¶åŸŸååˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m3}\")\nfi\nif [[ -f /etc/s-box/vm_ws_argogd.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Vmess-ws(tls)+Argoå›ºå®šåŸŸååˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m3_5}\")\nfi\nif [[ -f /etc/s-box/vm_ws_tls.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Vmess-ws-tls åˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m4}\")\nfi\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Hysteria-2 åˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒnekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m5}\")\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Tuic-v5 åˆ†äº«é“¾æ¥ ã€‘ï¼šæ”¯æŒnekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m6}\")\n\nif [[ -f /etc/s-box/sing_box_gitlab.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Sing-box è®¢é˜…é“¾æ¥ ã€‘ï¼šæ”¯æŒSFAã€SFWã€SFI \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m9}\")\nelse\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Sing-box é…ç½®æ–‡ä»¶(4æ®µ) ã€‘ï¼šæ”¯æŒSFAã€SFWã€SFI \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m7}\")\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=${message_text_m7_5}\")\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=${message_text_m7_5_5}\")\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=${message_text_m7_5_5_5}\")\nfi\n\nif [[ -f /etc/s-box/clash_meta_gitlab.txt ]]; then\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Clash-meta è®¢é˜…é“¾æ¥ ã€‘ï¼šæ”¯æŒClash-metaç›¸å…³å®¢æˆ·ç«¯ \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m10}\")\nelse\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ Clash-meta é…ç½®æ–‡ä»¶(2æ®µ) ã€‘ï¼šæ”¯æŒClash-metaç›¸å…³å®¢æˆ·ç«¯ \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m8}\")\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=${message_text_m8_5}\")\nfi\nres=$(timeout 20s curl -s -X POST $URL -d chat_id=telegram_id  -d parse_mode=${MODE} --data-urlencode \"text=ğŸš€ã€ å››åˆä¸€åè®®èšåˆè®¢é˜…é“¾æ¥ ã€‘ï¼šæ”¯æŒv2rayngã€nekobox \"$'\"'\"'\\n\\n'\"'\"'\"${message_text_m11}\")\n\nif [ $? == 124 ];then\necho TG_apiè¯·æ±‚è¶…æ—¶,è¯·æ£€æŸ¥ç½‘ç»œæ˜¯å¦é‡å¯å®Œæˆå¹¶æ˜¯å¦èƒ½å¤Ÿè®¿é—®TG\nfi\nresSuccess=$(echo \"$res\" | jq -r \".ok\")\nif [[ $resSuccess = \"true\" ]]; then\necho \"TGæ¨é€æˆåŠŸ\";\nelse\necho \"TGæ¨é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥TGæœºå™¨äººTokenå’ŒID\";\nfi\n' > /etc/s-box/sbtg.sh\nsed -i \"s/telegram_token/$telegram_token/g\" /etc/s-box/sbtg.sh\nsed -i \"s/telegram_id/$telegram_id/g\" /etc/s-box/sbtg.sh\ngreen \"è®¾ç½®å®Œæˆï¼è¯·ç¡®ä¿TGæœºå™¨äººå·²å¤„äºæ¿€æ´»çŠ¶æ€ï¼\"\ntgnotice\nelse\nchangeserv\nfi\n}\n\ntgnotice(){\nif [[ -f /etc/s-box/sbtg.sh ]]; then\ngreen \"è¯·ç¨ç­‰5ç§’ï¼ŒTGæœºå™¨äººå‡†å¤‡æ¨é€â€¦â€¦\"\nsbshare > /dev/null 2>&1\nbash /etc/s-box/sbtg.sh\nelse\nyellow \"æœªè®¾ç½®TGé€šçŸ¥åŠŸèƒ½\"\nfi\nexit\n}\n\nchangeserv(){\nsbactive\necho\ngreen \"Sing-boxé…ç½®å˜æ›´é€‰æ‹©å¦‚ä¸‹:\"\nreadp \"1ï¼šæ›´æ¢RealityåŸŸåä¼ªè£…åœ°å€ã€åˆ‡æ¢è‡ªç­¾è¯ä¹¦ä¸AcmeåŸŸåè¯ä¹¦ã€å¼€å…³TLS\\n2ï¼šæ›´æ¢å…¨åè®®UUID(å¯†ç )ã€Vmess-Pathè·¯å¾„\\n3ï¼šè®¾ç½®Argoä¸´æ—¶éš§é“ã€å›ºå®šéš§é“\\n4ï¼šåˆ‡æ¢IPV4æˆ–IPV6çš„ä»£ç†ä¼˜å…ˆçº§\\n5ï¼šè®¾ç½®Telegramæ¨é€èŠ‚ç‚¹é€šçŸ¥\\n6ï¼šæ›´æ¢Warp-wireguardå‡ºç«™è´¦æˆ·ã€è‡ªåŠ¨ä¼˜é€‰å¯¹ç«¯IP\\n7ï¼šè®¾ç½®Gitlabè®¢é˜…åˆ†äº«é“¾æ¥\\n8ï¼šè®¾ç½®æ‰€æœ‰VmessèŠ‚ç‚¹çš„CDNä¼˜é€‰åœ°å€\\n0ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ã€0-8ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ];then\nchangeym\nelif [ \"$menu\" = \"2\" ];then\nchangeuuid\nelif [ \"$menu\" = \"3\" ];then\ncfargo_ym\nelif [ \"$menu\" = \"4\" ];then\nchangeip\nelif [ \"$menu\" = \"5\" ];then\ntgsbshow\nelif [ \"$menu\" = \"6\" ];then\nchangewg\nelif [ \"$menu\" = \"7\" ];then\ngitlabsub\nelif [ \"$menu\" = \"8\" ];then\nvmesscfadd\nelse \nsb\nfi\n}\n\nvmesscfadd(){\necho\ngreen \"æ¨èä½¿ç”¨ç¨³å®šçš„ä¸–ç•Œå¤§å‚æˆ–ç»„ç»‡çš„å®˜æ–¹CDNåŸŸåä½œä¸ºCDNä¼˜é€‰åœ°å€ï¼š\"\nblue \"www.visa.com.sg\"\nblue \"www.wto.org\"\nblue \"www.web.com\"\necho\nyellow \"1ï¼šè‡ªå®šä¹‰Vmess-ws(tls)ä¸»åè®®èŠ‚ç‚¹çš„CDNä¼˜é€‰åœ°å€\"\nyellow \"2ï¼šé’ˆå¯¹é€‰é¡¹1ï¼Œé‡ç½®å®¢æˆ·ç«¯host/sniåŸŸå(IPè§£æåˆ°CFä¸Šçš„åŸŸå)\"\nyellow \"3ï¼šè‡ªå®šä¹‰Vmess-ws(tls)-ArgoèŠ‚ç‚¹çš„CDNä¼˜é€‰åœ°å€\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\necho\ngreen \"è¯·ç¡®ä¿VPSçš„IPå·²è§£æåˆ°Cloudflareçš„åŸŸåä¸Š\"\nif [[ ! -f /etc/s-box/cfymjx.txt ]] 2>/dev/null; then\nreadp \"è¾“å…¥å®¢æˆ·ç«¯host/sniåŸŸå(IPè§£æåˆ°CFä¸Šçš„åŸŸå)ï¼š\" menu\necho \"$menu\" > /etc/s-box/cfymjx.txt\nfi\necho\nreadp \"è¾“å…¥è‡ªå®šä¹‰çš„ä¼˜é€‰IP/åŸŸåï¼š\" menu\necho \"$menu\" > /etc/s-box/cfvmadd_local.txt\ngreen \"è®¾ç½®æˆåŠŸï¼Œé€‰æ‹©ä¸»èœå•9è¿›è¡ŒèŠ‚ç‚¹é…ç½®æ›´æ–°\" && sleep 2 && vmesscfadd\nelif  [ \"$menu\" = \"2\" ]; then\nrm -rf /etc/s-box/cfymjx.txt\ngreen \"é‡ç½®æˆåŠŸï¼Œå¯é€‰æ‹©1é‡æ–°è®¾ç½®\" && sleep 2 && vmesscfadd\nelif  [ \"$menu\" = \"3\" ]; then\nreadp \"è¾“å…¥è‡ªå®šä¹‰çš„ä¼˜é€‰IP/åŸŸåï¼š\" menu\necho \"$menu\" > /etc/s-box/cfvmadd_argo.txt\ngreen \"è®¾ç½®æˆåŠŸï¼Œé€‰æ‹©ä¸»èœå•9è¿›è¡ŒèŠ‚ç‚¹é…ç½®æ›´æ–°\" && sleep 2 && vmesscfadd\nelse\nchangeserv\nfi\n}\n\ngitlabsub(){\necho\ngreen \"è¯·ç¡®ä¿Gitlabå®˜ç½‘ä¸Šå·²å»ºç«‹é¡¹ç›®ï¼Œå·²å¼€å¯æ¨é€åŠŸèƒ½ï¼Œå·²è·å–è®¿é—®ä»¤ç‰Œ\"\nyellow \"1ï¼šé‡ç½®/è®¾ç½®Gitlabè®¢é˜…é“¾æ¥\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-1ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ncd /etc/s-box\nreadp \"è¾“å…¥ç™»å½•é‚®ç®±: \" email\nreadp \"è¾“å…¥è®¿é—®ä»¤ç‰Œ: \" token\nreadp \"è¾“å…¥ç”¨æˆ·å: \" userid\nreadp \"è¾“å…¥é¡¹ç›®å: \" project\necho\ngreen \"å¤šå°VPSå…±ç”¨ä¸€ä¸ªä»¤ç‰ŒåŠé¡¹ç›®åï¼Œå¯åˆ›å»ºå¤šä¸ªåˆ†æ”¯è®¢é˜…é“¾æ¥\"\ngreen \"å›è½¦è·³è¿‡è¡¨ç¤ºä¸æ–°å»ºï¼Œä»…ä½¿ç”¨ä¸»åˆ†æ”¯mainè®¢é˜…é“¾æ¥(é¦–å°VPSå»ºè®®å›è½¦è·³è¿‡)\"\nreadp \"æ–°å»ºåˆ†æ”¯åç§°: \" gitlabml\necho\nif [[ -z \"$gitlabml\" ]]; then\ngitlab_ml=''\ngit_sk=main\nrm -rf /etc/s-box/gitlab_ml_ml\nelse\ngitlab_ml=\":${gitlabml}\"\ngit_sk=\"${gitlabml}\"\necho \"${gitlab_ml}\" > /etc/s-box/gitlab_ml_ml\nfi\necho \"$token\" > /etc/s-box/gitlabtoken.txt\nrm -rf /etc/s-box/.git\ngit init >/dev/null 2>&1\ngit add sing_box_client.json clash_meta_client.yaml jh_sub.txt >/dev/null 2>&1\ngit config --global user.email \"${email}\" >/dev/null 2>&1\ngit config --global user.name \"${userid}\" >/dev/null 2>&1\ngit commit -m \"commit_add_$(date +\"%F %T\")\" >/dev/null 2>&1\nbranches=$(git branch)\nif [[ $branches == *master* ]]; then\ngit branch -m master main >/dev/null 2>&1\nfi\ngit remote add origin https://${token}@gitlab.com/${userid}/${project}.git >/dev/null 2>&1\nif [[ $(ls -a | grep '^\\.git$') ]]; then\ncat > /etc/s-box/gitpush.sh <<EOF\n#!/usr/bin/expect\nspawn bash -c \"git push -f origin main${gitlab_ml}\"\nexpect \"Password for 'https://$(cat /etc/s-box/gitlabtoken.txt 2>/dev/null)@gitlab.com':\"\nsend \"$(cat /etc/s-box/gitlabtoken.txt 2>/dev/null)\\r\"\ninteract\nEOF\nchmod +x gitpush.sh\n./gitpush.sh \"git push -f origin main${gitlab_ml}\" cat /etc/s-box/gitlabtoken.txt >/dev/null 2>&1\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/sing_box_client.json/raw?ref=${git_sk}&private_token=${token}\" > /etc/s-box/sing_box_gitlab.txt\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/clash_meta_client.yaml/raw?ref=${git_sk}&private_token=${token}\" > /etc/s-box/clash_meta_gitlab.txt\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/jh_sub.txt/raw?ref=${git_sk}&private_token=${token}\" > /etc/s-box/jh_sub_gitlab.txt\nclsbshow\nelse\nyellow \"è®¾ç½®Gitlabè®¢é˜…é“¾æ¥å¤±è´¥ï¼Œè¯·åé¦ˆ\"\nfi\ncd\nelse\nchangeserv\nfi\n}\n\ngitlabsubgo(){\ncd /etc/s-box\nif [[ $(ls -a | grep '^\\.git$') ]]; then\nif [ -f /etc/s-box/gitlab_ml_ml ]; then\ngitlab_ml=$(cat /etc/s-box/gitlab_ml_ml)\nfi\ngit rm --cached sing_box_client.json clash_meta_client.yaml jh_sub.txt >/dev/null 2>&1\ngit commit -m \"commit_rm_$(date +\"%F %T\")\" >/dev/null 2>&1\ngit add sing_box_client.json clash_meta_client.yaml jh_sub.txt >/dev/null 2>&1\ngit commit -m \"commit_add_$(date +\"%F %T\")\" >/dev/null 2>&1\nchmod +x gitpush.sh\n./gitpush.sh \"git push -f origin main${gitlab_ml}\" cat /etc/s-box/gitlabtoken.txt >/dev/null 2>&1\nclsbshow\nelse\nyellow \"æœªè®¾ç½®Gitlabè®¢é˜…é“¾æ¥\"\nfi\ncd\n}\n\nclsbshow(){\ngreen \"å½“å‰Sing-boxèŠ‚ç‚¹å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"Sing-boxè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /etc/s-box/sing_box_gitlab.txt 2>/dev/null)\"\necho\ngreen \"Sing-boxè®¢é˜…é“¾æ¥äºŒç»´ç å¦‚ä¸‹ï¼š\"\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/sing_box_gitlab.txt 2>/dev/null)\"\necho\necho \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\ngreen \"å½“å‰Clash-metaèŠ‚ç‚¹é…ç½®å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"Clash-metaè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /etc/s-box/clash_meta_gitlab.txt 2>/dev/null)\"\necho\ngreen \"Clash-metaè®¢é˜…é“¾æ¥äºŒç»´ç å¦‚ä¸‹ï¼š\"\nqrencode -o - -t ANSIUTF8 \"$(cat /etc/s-box/clash_meta_gitlab.txt 2>/dev/null)\"\necho\necho \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\ngreen \"å½“å‰èšåˆè®¢é˜…èŠ‚ç‚¹é…ç½®å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"è®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /etc/s-box/jh_sub_gitlab.txt 2>/dev/null)\"\necho\nyellow \"å¯ä»¥åœ¨ç½‘é¡µä¸Šè¾“å…¥è®¢é˜…é“¾æ¥æŸ¥çœ‹é…ç½®å†…å®¹ï¼Œå¦‚æœæ— é…ç½®å†…å®¹ï¼Œè¯·è‡ªæ£€Gitlabç›¸å…³è®¾ç½®å¹¶é‡ç½®\"\necho\n}\n\nwarpwg(){\nwarpcode(){\nreg(){\nkeypair=$(openssl genpkey -algorithm X25519|openssl pkey -text -noout)\nprivate_key=$(echo \"$keypair\" | awk '/priv:/{flag=1; next} /pub:/{flag=0} flag' | tr -d '[:space:]' | xxd -r -p | base64)\npublic_key=$(echo \"$keypair\" | awk '/pub:/{flag=1} flag' | tr -d '[:space:]' | xxd -r -p | base64)\ncurl -X POST 'https://api.cloudflareclient.com/v0a2158/reg' -sL --tlsv1.3 \\\n-H 'CF-Client-Version: a-7.21-0721' -H 'Content-Type: application/json' \\\n-d \\\n'{\n\"key\":\"'${public_key}'\",\n\"tos\":\"'$(date +\"%Y-%m-%dT%H:%M:%S.000Z\")'\"\n}' \\\n| python3 -m json.tool | sed \"/\\\"account_type\\\"/i\\         \\\"private_key\\\": \\\"$private_key\\\",\"\n}\nreserved(){\nreserved_str=$(echo \"$warp_info\" | grep 'client_id' | cut -d\\\" -f4)\nreserved_hex=$(echo \"$reserved_str\" | base64 -d | xxd -p)\nreserved_dec=$(echo \"$reserved_hex\" | fold -w2 | while read HEX; do printf '%d ' \"0x${HEX}\"; done | awk '{print \"[\"$1\", \"$2\", \"$3\"]\"}')\necho -e \"{\\n    \\\"reserved_dec\\\": $reserved_dec,\"\necho -e \"    \\\"reserved_hex\\\": \\\"0x$reserved_hex\\\",\"\necho -e \"    \\\"reserved_str\\\": \\\"$reserved_str\\\"\\n}\"\n}\nresult() {\necho \"$warp_reserved\" | grep -P \"reserved\" | sed \"s/ //g\" | sed 's/:\"/: \"/g' | sed 's/:\\[/: \\[/g' | sed 's/\\([0-9]\\+\\),\\([0-9]\\+\\),\\([0-9]\\+\\)/\\1, \\2, \\3/' | sed 's/^\"/    \"/g' | sed 's/\"$/\",/g'\necho \"$warp_info\" | grep -P \"(private_key|public_key|\\\"v4\\\": \\\"172.16.0.2\\\"|\\\"v6\\\": \\\"2)\" | sed \"s/ //g\" | sed 's/:\"/: \"/g' | sed 's/^\"/    \"/g'\necho \"}\"\n}\nwarp_info=$(reg) \nwarp_reserved=$(reserved) \nresult\n}\noutput=$(warpcode)\nif ! echo \"$output\" 2>/dev/null | grep -w \"private_key\" > /dev/null; then\nv6=2606:4700:110:8f20:f22e:2c8d:d8ee:fe7\npvk=SGU6hx3CJAWGMr6XYoChvnrKV61hxAw2S4VlgBAxzFs=\nres=[15,242,244]\nelse\npvk=$(echo \"$output\" | sed -n 4p | awk '{print $2}' | tr -d ' \"' | sed 's/.$//')\nv6=$(echo \"$output\" | sed -n 7p | awk '{print $2}' | tr -d ' \"')\nres=$(echo \"$output\" | sed -n 1p | awk -F\":\" '{print $NF}' | tr -d ' ' | sed 's/.$//')\nfi\nblue \"Private_keyç§é’¥ï¼š$pvk\"\nblue \"IPV6åœ°å€ï¼š$v6\"\nblue \"reservedå€¼ï¼š$res\"\n}\n\nchangewg(){\nwgipv6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.outbounds[] | select(.type == \"wireguard\") | .local_address[1] | split(\"/\")[0]')\nwgprkey=$(sed 's://.*::g' /etc/s-box/sb.json | jq '.outbounds[] | select(.type == \"wireguard\") | .private_key' | tr -d '\"')\nwgres=$(sed -n '165s/.*\\[\\(.*\\)\\].*/\\1/p' /etc/s-box/sb.json)\nwgip=$(sed 's://.*::g' /etc/s-box/sb.json | jq '.outbounds[] | select(.type == \"wireguard\") | .server' | tr -d '\"')\nwgpo=$(sed 's://.*::g' /etc/s-box/sb.json | jq '.outbounds[] | select(.type == \"wireguard\") | .server_port' | tr -d '\"')\necho\ngreen \"å½“å‰warp-wireguardå¯æ›´æ¢çš„å‚æ•°å¦‚ä¸‹ï¼š\"\ngreen \"Private_keyç§é’¥ï¼š$wgprkey\"\ngreen \"IPV6åœ°å€ï¼š$wgipv6\"\ngreen \"Reservedå€¼ï¼š$wgres\"\ngreen \"å¯¹ç«¯IPï¼š$wgip:$wgpo\"\necho\nyellow \"1ï¼šæ›´æ¢warp-wireguardè´¦æˆ·\"\nyellow \"2ï¼šè‡ªåŠ¨ä¼˜é€‰warp-wireguardå¯¹ç«¯IP\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ngreen \"æœ€æ–°éšæœºç”Ÿæˆæ™®é€šwarp-wireguardè´¦æˆ·å¦‚ä¸‹\"\nwarpwg\necho\nreadp \"è¾“å…¥è‡ªå®šä¹‰Private_keyï¼š\" menu\nsed -i \"163s#$wgprkey#$menu#g\" /etc/s-box/sb.json\nreadp \"è¾“å…¥è‡ªå®šä¹‰IPV6åœ°å€ï¼š\" menu\nsed -i \"161s/$wgipv6/$menu/g\" /etc/s-box/sb.json\nreadp \"è¾“å…¥è‡ªå®šä¹‰Reservedå€¼ (æ ¼å¼ï¼šæ•°å­—,æ•°å­—,æ•°å­—)ï¼Œå¦‚æ— å€¼åˆ™å›è½¦è·³è¿‡ï¼š\" menu\nif [ -z \"$menu\" ]; then\nmenu=0,0,0\nfi\nsed -i \"165s/$wgres/$menu/g\" /etc/s-box/sb.json\nrestartsb\ngreen \"è®¾ç½®ç»“æŸ\"\ngreen \"å¯ä»¥å…ˆåœ¨é€‰é¡¹5-1æˆ–5-2ä½¿ç”¨å®Œæ•´åŸŸååˆ†æµï¼šcloudflare.com\"\ngreen \"ç„¶åä½¿ç”¨ä»»æ„èŠ‚ç‚¹æ‰“å¼€ç½‘é¡µhttps://cloudflare.com/cdn-cgi/traceï¼ŒæŸ¥çœ‹å½“å‰WARPè´¦æˆ·ç±»å‹\"\nelif  [ \"$menu\" = \"2\" ]; then\ngreen \"è¯·ç¨ç­‰â€¦â€¦æ›´æ–°ä¸­â€¦â€¦\"\nif [ -z $(curl -s4m5 icanhazip.com -k) ]; then\ncurl -sSL https://gitlab.com/rwkgyg/CFwarp/raw/main/point/endip.sh -o endip.sh && chmod +x endip.sh && (echo -e \"1\\n2\\n\") | bash endip.sh > /dev/null 2>&1\nnwgip=$(awk -F, 'NR==2 {print $1}' /root/result.csv 2>/dev/null | grep -o '\\[.*\\]' | tr -d '[]')\nnwgpo=$(awk -F, 'NR==2 {print $1}' /root/result.csv 2>/dev/null | awk -F \"]\" '{print $2}' | tr -d ':')\nelse\ncurl -sSL https://gitlab.com/rwkgyg/CFwarp/raw/main/point/endip.sh -o endip.sh && chmod +x endip.sh && (echo -e \"1\\n1\\n\") | bash endip.sh > /dev/null 2>&1\nnwgip=$(awk -F, 'NR==2 {print $1}' /root/result.csv 2>/dev/null | awk -F: '{print $1}')\nnwgpo=$(awk -F, 'NR==2 {print $1}' /root/result.csv 2>/dev/null | awk -F: '{print $2}')\nfi\na=$(cat /root/result.csv 2>/dev/null | awk -F, '$3!=\"timeout ms\" {print} ' | sed -n '2p' | awk -F ',' '{print $2}')\nif [[ -z $a || $a = \"100.00%\" ]]; then\nif [[ -z $(curl -s4m5 icanhazip.com -k) ]]; then\nnwgip=2606:4700:d0::a29f:c001\nnwgpo=2408\nelse\nnwgip=162.159.192.1\nnwgpo=2408\nfi\nfi\nsed -i \"157s#$wgip#$nwgip#g\" /etc/s-box/sb.json\nsed -i \"158s#$wgpo#$nwgpo#g\" /etc/s-box/sb.json\nrestartsb\nrm -rf /root/result.csv /root/endip.sh \necho\ngreen \"ä¼˜é€‰å®Œæ¯•ï¼Œå½“å‰ä½¿ç”¨çš„å¯¹ç«¯IPï¼š$nwgip:$nwgpo\"\nelse\nchangeserv\nfi\n}\n\nsbymfl(){\nsbport=$(cat /etc/s-box/sbwpph.log 2>/dev/null | awk '{print $3}' | awk -F\":\" '{print $NF}') \nsbport=${sbport:-'40000'}\nresv1=$(curl -s --socks5 localhost:$sbport icanhazip.com)\nresv2=$(curl -sx socks5h://localhost:$sbport icanhazip.com)\nif [[ -z $resv1 && -z $resv2 ]]; then\nwarp_s4_ip='Socks5-IPV4æœªå¯åŠ¨ï¼Œé»‘åå•æ¨¡å¼'\nwarp_s6_ip='Socks5-IPV6æœªå¯åŠ¨ï¼Œé»‘åå•æ¨¡å¼'\nelse\nwarp_s4_ip='Socks5-IPV4å¯ç”¨'\nwarp_s6_ip='Socks5-IPV6è‡ªæµ‹'\nfi\nv4v6\nif [[ -z $v4 ]]; then\nvps_ipv4='æ— æœ¬åœ°IPV4ï¼Œé»‘åå•æ¨¡å¼'      \nvps_ipv6=\"å½“å‰IPï¼š$v6\"\nelif [[ -n $v4 &&  -n $v6 ]]; then\nvps_ipv4=\"å½“å‰IPï¼š$v4\"    \nvps_ipv6=\"å½“å‰IPï¼š$v6\"\nelse\nvps_ipv4=\"å½“å‰IPï¼š$v4\"    \nvps_ipv6='æ— æœ¬åœ°IPV6ï¼Œé»‘åå•æ¨¡å¼'\nfi\nunset swg4 swd4 swd6 swg6 ssd4 ssg4 ssd6 ssg6 sad4 sag4 sad6 sag6\nwd4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[1].domain | join(\" \")')\nwg4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[1].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$wd4\" == \"yg_kkk\" && (\"$wg4\" == \"yg_kkk\" || -z \"$wg4\") ]]; then\nwfl4=\"${yellow}ã€warpå‡ºç«™IPV4å¯ç”¨ã€‘æœªåˆ†æµ${plain}\"\nelse\nif [[ \"$wd4\" != \"yg_kkk\" ]]; then\nswd4=\"$wd4 \"\nfi\nif [[ \"$wg4\" != \"yg_kkk\" ]]; then\nswg4=$wg4\nfi\nwfl4=\"${yellow}ã€warpå‡ºç«™IPV4å¯ç”¨ã€‘å·²åˆ†æµï¼š$swd4$swg4${plain} \"\nfi\n\nwd6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[2].domain | join(\" \")')\nwg6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[2].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$wd6\" == \"yg_kkk\" && (\"$wg6\" == \"yg_kkk\"|| -z \"$wg6\") ]]; then\nwfl6=\"${yellow}ã€warpå‡ºç«™IPV6è‡ªæµ‹ã€‘æœªåˆ†æµ${plain}\"\nelse\nif [[ \"$wd6\" != \"yg_kkk\" ]]; then\nswd6=\"$wd6 \"\nfi\nif [[ \"$wg6\" != \"yg_kkk\" ]]; then\nswg6=$wg6\nfi\nwfl6=\"${yellow}ã€warpå‡ºç«™IPV6è‡ªæµ‹ã€‘å·²åˆ†æµï¼š$swd6$swg6${plain} \"\nfi\n\nsd4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[3].domain | join(\" \")')\nsg4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[3].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$sd4\" == \"yg_kkk\" && (\"$sg4\" == \"yg_kkk\" || -z \"$sg4\") ]]; then\nsfl4=\"${yellow}ã€$warp_s4_ipã€‘æœªåˆ†æµ${plain}\"\nelse\nif [[ \"$sd4\" != \"yg_kkk\" ]]; then\nssd4=\"$sd4 \"\nfi\nif [[ \"$sg4\" != \"yg_kkk\" ]]; then\nssg4=$sg4\nfi\nsfl4=\"${yellow}ã€$warp_s4_ipã€‘å·²åˆ†æµï¼š$ssd4$ssg4${plain} \"\nfi\n\nsd6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[4].domain | join(\" \")')\nsg6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[4].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$sd6\" == \"yg_kkk\" && (\"$sg6\" == \"yg_kkk\" || -z \"$sg6\") ]]; then\nsfl6=\"${yellow}ã€$warp_s6_ipã€‘æœªåˆ†æµ${plain}\"\nelse\nif [[ \"$sd6\" != \"yg_kkk\" ]]; then\nssd6=\"$sd6 \"\nfi\nif [[ \"$sg6\" != \"yg_kkk\" ]]; then\nssg6=$sg6\nfi\nsfl6=\"${yellow}ã€$warp_s6_ipã€‘å·²åˆ†æµï¼š$ssd6$ssg6${plain} \"\nfi\n\nad4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[5].domain | join(\" \")')\nag4=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[5].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$ad4\" == \"yg_kkk\" && (\"$ag4\" == \"yg_kkk\" || -z \"$ag4\") ]]; then\nadfl4=\"${yellow}ã€$vps_ipv4ã€‘æœªåˆ†æµ${plain}\" \nelse\nif [[ \"$ad4\" != \"yg_kkk\" ]]; then\nsad4=\"$ad4 \"\nfi\nif [[ \"$ag4\" != \"yg_kkk\" ]]; then\nsag4=$ag4\nfi\nadfl4=\"${yellow}ã€$vps_ipv4ã€‘å·²åˆ†æµï¼š$sad4$sag4${plain} \"\nfi\n\nad6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[6].domain | join(\" \")')\nag6=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.route.rules[6].geosite | join(\" \")' 2>/dev/null)\nif [[ \"$ad6\" == \"yg_kkk\" && (\"$ag6\" == \"yg_kkk\" || -z \"$ag6\") ]]; then\nadfl6=\"${yellow}ã€$vps_ipv6ã€‘æœªåˆ†æµ${plain}\" \nelse\nif [[ \"$ad6\" != \"yg_kkk\" ]]; then\nsad6=\"$ad6 \"\nfi\nif [[ \"$ag6\" != \"yg_kkk\" ]]; then\nsag6=$ag6\nfi\nadfl6=\"${yellow}ã€$vps_ipv6ã€‘å·²åˆ†æµï¼š$sad6$sag6${plain} \"\nfi\n}\n\nchangefl(){\nsbactive\ngreen \"å¯¹æ‰€æœ‰åè®®è¿›è¡Œç»Ÿä¸€çš„åŸŸååˆ†æµ\"\nyellow \"warp-wireguardé»˜è®¤å¼€å¯ï¼ŒIPV4ä¸IPV6å¯ç”¨ (é€‰é¡¹1ä¸2)\"\nyellow \"socks5éœ€è¦åœ¨VPSå®‰è£…warpå®˜æ–¹å®¢æˆ·ç«¯æˆ–è€…WARP-plus-Socks5-èµ›é£VPN (é€‰é¡¹3ä¸4)\"\nyellow \"VPSæœ¬åœ°å‡ºç«™åˆ†æµ(é€‰é¡¹5ä¸6)\"\necho\nsbnh=$(/etc/s-box/sing-box version | awk '/version/{print $NF}' | cut -d '.' -f 1,2)\n[ $sbnh = 1.10 ] && blue \"æ­å–œï¼å½“å‰Sing-boxå†…æ ¸æ”¯æŒgeositeåˆ†æµæ–¹å¼\" || blue \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\"\nyellow \"æ³¨æ„ï¼š\"\nyellow \"ä¸€ã€å®Œæ•´åŸŸåæ–¹å¼åªèƒ½å¡«å®Œæ•´åŸŸå (ä¾‹ï¼šè°·æ­Œç½‘ç«™å¡«å†™ï¼šwww.google.com)\"\nyellow \"äºŒã€geositeæ–¹å¼é¡»å¡«å†™geositeè§„åˆ™å (ä¾‹ï¼šå¥ˆé£å¡«å†™ï¼šnetflix ï¼›è¿ªå£«å°¼å¡«å†™ï¼šdisney ï¼›ChatGPTå¡«å†™ï¼šopenai ï¼›å…¨å±€ä¸”ç»•è¿‡ä¸­å›½å¡«å†™ï¼šgeolocation-!cn)\"\nyellow \"ä¸‰ã€åŒä¸€ä¸ªå®Œæ•´åŸŸåæˆ–è€…geositeåˆ‡å‹¿é‡å¤åˆ†æµ\"\nyellow \"å››ã€å¦‚è¯¥åˆ†æµé€šé“æ— ç½‘ç»œï¼Œæ‰€å¡«åˆ†æµä¸ºé»‘åå•æ¨¡å¼ï¼Œå³å±è”½è¯¥ç½‘ç«™è®¿é—®\"\nchangef\n}\n\nchangef(){\nsbnh=$(/etc/s-box/sing-box version | awk '/version/{print $NF}' | cut -d '.' -f 1,2)\nsbymfl\necho\ngreen \"1ï¼šé‡ç½®warp-wireguard-ipv4åˆ†æµåŸŸå $wfl4\"\ngreen \"2ï¼šé‡ç½®warp-wireguard-ipv6åˆ†æµåŸŸå $wfl6\"\ngreen \"3ï¼šé‡ç½®warp-socks5-ipv4åˆ†æµåŸŸå $sfl4\"\ngreen \"4ï¼šé‡ç½®warp-socks5-ipv6åˆ†æµåŸŸå $sfl6\"\ngreen \"5ï¼šé‡ç½®VPSæœ¬åœ°ipv4åˆ†æµåŸŸå $adfl4\"\ngreen \"6ï¼šé‡ç½®VPSæœ¬åœ°ipv6åˆ†æµåŸŸå $adfl6\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\necho\nreadp \"è¯·é€‰æ‹©ã€0-6ã€‘ï¼š\" menu\n\nif [ \"$menu\" = \"1\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-wireguard-ipv4çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“)ï¼š\" w4flym\nif [ -z \"$w4flym\" ]; then\nw4flym='\"yg_kkk\"'\nelse\nw4flym=\"$(echo \"$w4flym\" | sed 's/ /\",\"/g')\"\nw4flym=\"\\\"$w4flym\\\"\"\nfi\nsed -i \"184s/.*/$w4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-wireguard-ipv4çš„geositeæ–¹å¼çš„åˆ†æµé€šé“)ï¼š\" w4flym\nif [ -z \"$w4flym\" ]; then\nw4flym='\"yg_kkk\"'\nelse\nw4flym=\"$(echo \"$w4flym\" | sed 's/ /\",\"/g')\"\nw4flym=\"\\\"$w4flym\\\"\"\nfi\nsed -i \"187s/.*/$w4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\n\nelif [ \"$menu\" = \"2\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-wireguard-ipv6çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" w6flym\nif [ -z \"$w6flym\" ]; then\nw6flym='\"yg_kkk\"'\nelse\nw6flym=\"$(echo \"$w6flym\" | sed 's/ /\",\"/g')\"\nw6flym=\"\\\"$w6flym\\\"\"\nfi\nsed -i \"193s/.*/$w6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-wireguard-ipv6çš„geositeæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" w6flym\nif [ -z \"$w6flym\" ]; then\nw6flym='\"yg_kkk\"'\nelse\nw6flym=\"$(echo \"$w6flym\" | sed 's/ /\",\"/g')\"\nw6flym=\"\\\"$w6flym\\\"\"\nfi\nsed -i \"196s/.*/$w6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\n\nelif [ \"$menu\" = \"3\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-socks5-ipv4çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" s4flym\nif [ -z \"$s4flym\" ]; then\ns4flym='\"yg_kkk\"'\nelse\ns4flym=\"$(echo \"$s4flym\" | sed 's/ /\",\"/g')\"\ns4flym=\"\\\"$s4flym\\\"\"\nfi\nsed -i \"202s/.*/$s4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-socks5-ipv4çš„geositeæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" s4flym\nif [ -z \"$s4flym\" ]; then\ns4flym='\"yg_kkk\"'\nelse\ns4flym=\"$(echo \"$s4flym\" | sed 's/ /\",\"/g')\"\ns4flym=\"\\\"$s4flym\\\"\"\nfi\nsed -i \"205s/.*/$s4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\n\nelif [ \"$menu\" = \"4\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-socks5-ipv6çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" s6flym\nif [ -z \"$s6flym\" ]; then\ns6flym='\"yg_kkk\"'\nelse\ns6flym=\"$(echo \"$s6flym\" | sed 's/ /\",\"/g')\"\ns6flym=\"\\\"$s6flym\\\"\"\nfi\nsed -i \"211s/.*/$s6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºwarp-socks5-ipv6çš„geositeæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" s6flym\nif [ -z \"$s6flym\" ]; then\ns6flym='\"yg_kkk\"'\nelse\ns6flym=\"$(echo \"$s6flym\" | sed 's/ /\",\"/g')\"\ns6flym=\"\\\"$s6flym\\\"\"\nfi\nsed -i \"214s/.*/$s6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\n\nelif [ \"$menu\" = \"5\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºVPSæœ¬åœ°ipv4çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" ad4flym\nif [ -z \"$ad4flym\" ]; then\nad4flym='\"yg_kkk\"'\nelse\nad4flym=\"$(echo \"$ad4flym\" | sed 's/ /\",\"/g')\"\nad4flym=\"\\\"$ad4flym\\\"\"\nfi\nsed -i \"220s/.*/$ad4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºVPSæœ¬åœ°ipv4çš„geositeæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" ad4flym\nif [ -z \"$ad4flym\" ]; then\nad4flym='\"yg_kkk\"'\nelse\nad4flym=\"$(echo \"$ad4flym\" | sed 's/ /\",\"/g')\"\nad4flym=\"\\\"$ad4flym\\\"\"\nfi\nsed -i \"223s/.*/$ad4flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\n\nelif [ \"$menu\" = \"6\" ]; then\nreadp \"1ï¼šä½¿ç”¨å®Œæ•´åŸŸåæ–¹å¼\\n2ï¼šä½¿ç”¨geositeæ–¹å¼\\n3ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºVPSæœ¬åœ°ipv6çš„å®Œæ•´åŸŸåæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" ad6flym\nif [ -z \"$ad6flym\" ]; then\nad6flym='\"yg_kkk\"'\nelse\nad6flym=\"$(echo \"$ad6flym\" | sed 's/ /\",\"/g')\"\nad6flym=\"\\\"$ad6flym\\\"\"\nfi\nsed -i \"229s/.*/$ad6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelif [ \"$menu\" = \"2\" ]; then\nif [ $sbnh = 1.10 ]; then\nreadp \"æ¯ä¸ªåŸŸåä¹‹é—´ç•™ç©ºæ ¼ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºé‡ç½®æ¸…ç©ºVPSæœ¬åœ°ipv6çš„geositeæ–¹å¼çš„åˆ†æµé€šé“ï¼š\" ad6flym\nif [ -z \"$ad6flym\" ]; then\nad6flym='\"yg_kkk\"'\nelse\nad6flym=\"$(echo \"$ad6flym\" | sed 's/ /\",\"/g')\"\nad6flym=\"\\\"$ad6flym\\\"\"\nfi\nsed -i \"232s/.*/$ad6flym/\" /etc/s-box/sb.json\nrestartsb\nchangef\nelse\nyellow \"é—æ†¾ï¼å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ–¹å¼ã€‚å¦‚è¦æ”¯æŒï¼Œè¯·åˆ‡æ¢1.10ç³»åˆ—å†…æ ¸\" && exit\nfi\nelse\nchangef\nfi\nelse\nsb\nfi\n}\n\nrestartsb(){\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service sing-box restart\nelse\nsystemctl enable sing-box\nsystemctl start sing-box\nsystemctl restart sing-box\nfi\n}\n\nstclre(){\nif [[ ! -f '/etc/s-box/sb.json' ]]; then\nred \"æœªæ­£å¸¸å®‰è£…Sing-box\" && exit\nfi\nreadp \"1ï¼šé‡å¯\\n2ï¼šå…³é—­\\nè¯·é€‰æ‹©ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nrestartsb\nsbactive\ngreen \"Sing-boxæœåŠ¡å·²é‡å¯\\n\" && sleep 3 && sb\nelif [ \"$menu\" = \"2\" ]; then\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service sing-box stop\nelse\nsystemctl stop sing-box\nsystemctl disable sing-box\nfi\ngreen \"Sing-boxæœåŠ¡å·²å…³é—­\\n\" && sleep 3 && sb\nelse\nstclre\nfi\n}\n\ncronsb(){\nuncronsb\ncrontab -l > /tmp/crontab.tmp\necho \"0 1 * * * systemctl restart sing-box;rc-service sing-box restart\" >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\nuncronsb(){\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sing-box/d' /tmp/crontab.tmp\nsed -i '/sbargopid/d' /tmp/crontab.tmp\nsed -i '/sbargoympid/d' /tmp/crontab.tmp\nsed -i '/sbwpphid.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\n\nlnsb(){\nrm -rf /usr/bin/sb\ncurl -L -o /usr/bin/sb -# --retry 2 --insecure https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/sb.sh\nchmod +x /usr/bin/sb\n}\n\nupsbyg(){\nif [[ ! -f '/usr/bin/sb' ]]; then\nred \"æœªæ­£å¸¸å®‰è£…Sing-box-yg\" && exit\nfi\nlnsb\ncurl -sL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /etc/s-box/v\ngreen \"Sing-box-ygå®‰è£…è„šæœ¬å‡çº§æˆåŠŸ\" && sleep 5 && sb\n}\n\nlapre(){\nlatcore=$(curl -Ls https://data.jsdelivr.com/v1/package/gh/SagerNet/sing-box | grep -Eo '\"[0-9.]+\",' | sed -n 1p | tr -d '\",')\nprecore=$(curl -Ls https://data.jsdelivr.com/v1/package/gh/SagerNet/sing-box | grep -Eo '\"[0-9.]*-[^\"]*\"' | sed -n 1p | tr -d '\",')\ninscore=$(/etc/s-box/sing-box version 2>/dev/null | awk '/version/{print $NF}')\n}\n\nupsbcroe(){\nsbactive\nlapre\n[[ $inscore =~ ^[0-9.]+$ ]] && lat=\"ã€å·²å®‰è£…v$inscoreã€‘\" || pre=\"ã€å·²å®‰è£…v$inscoreã€‘\"\ngreen \"1ï¼šå‡çº§/åˆ‡æ¢Sing-boxæœ€æ–°æ­£å¼ç‰ˆ v$latcore  ${bblue}${lat}${plain}\"\ngreen \"2ï¼šå‡çº§/åˆ‡æ¢Sing-boxæœ€æ–°æµ‹è¯•ç‰ˆ v$precore  ${bblue}${pre}${plain}\"\ngreen \"3ï¼šåˆ‡æ¢Sing-boxæŸä¸ªæ­£å¼ç‰ˆæˆ–æµ‹è¯•ç‰ˆï¼Œéœ€æŒ‡å®šç‰ˆæœ¬å· (å»ºè®®1.10.0ä»¥ä¸Šç‰ˆæœ¬)\"\ngreen \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nupcore=$(curl -Ls https://data.jsdelivr.com/v1/package/gh/SagerNet/sing-box | grep -Eo '\"[0-9.]+\",' | sed -n 1p | tr -d '\",')\nelif [ \"$menu\" = \"2\" ]; then\nupcore=$(curl -Ls https://data.jsdelivr.com/v1/package/gh/SagerNet/sing-box | grep -Eo '\"[0-9.]*-[^\"]*\"' | sed -n 1p | tr -d '\",')\nelif [ \"$menu\" = \"3\" ]; then\necho\nred \"æ³¨æ„: ç‰ˆæœ¬å·åœ¨ https://github.com/SagerNet/sing-box/tags å¯æŸ¥ï¼Œä¸”æœ‰Downloadså­—æ · (å»ºè®®1.10.0ä»¥ä¸Šç‰ˆæœ¬)\"\ngreen \"æ­£å¼ç‰ˆç‰ˆæœ¬å·æ ¼å¼ï¼šæ•°å­—.æ•°å­—.æ•°å­— (ä¾‹ï¼š1.10.0   æ³¨æ„ï¼Œ1.10ç³»åˆ—å†…æ ¸æ”¯æŒgeositeåˆ†æµï¼Œ1.10ä»¥ä¸Šç‰ˆæœ¬ä¸æ”¯æŒgeositeåˆ†æµ)\"\ngreen \"æµ‹è¯•ç‰ˆç‰ˆæœ¬å·æ ¼å¼ï¼šæ•°å­—.æ•°å­—.æ•°å­—-alphaæˆ–rcæˆ–beta.æ•°å­— (ä¾‹ï¼š1.10.0-alphaæˆ–rcæˆ–beta.1)\"\nreadp \"è¯·è¾“å…¥Sing-boxç‰ˆæœ¬å·ï¼š\" upcore\nelse\nsb\nfi\nif [[ -n $upcore ]]; then\ngreen \"å¼€å§‹ä¸‹è½½å¹¶æ›´æ–°Sing-boxå†…æ ¸â€¦â€¦è¯·ç¨ç­‰\"\nsbname=\"sing-box-$upcore-linux-$cpu\"\ncurl -L -o /etc/s-box/sing-box.tar.gz  -# --retry 2 https://github.com/SagerNet/sing-box/releases/download/v$upcore/$sbname.tar.gz\nif [[ -f '/etc/s-box/sing-box.tar.gz' ]]; then\ntar xzf /etc/s-box/sing-box.tar.gz -C /etc/s-box\nmv /etc/s-box/$sbname/sing-box /etc/s-box\nrm -rf /etc/s-box/{sing-box.tar.gz,$sbname}\nif [[ -f '/etc/s-box/sing-box' ]]; then\nchown root:root /etc/s-box/sing-box\nchmod +x /etc/s-box/sing-box\nsbnh110yn\nrestartsb\nblue \"æˆåŠŸå‡çº§/åˆ‡æ¢ Sing-box å†…æ ¸ç‰ˆæœ¬ï¼š$(/etc/s-box/sing-box version | awk '/version/{print $NF}')\" && sleep 3 && sb\nelse\nred \"ä¸‹è½½ Sing-box å†…æ ¸ä¸å®Œæ•´ï¼Œå®‰è£…å¤±è´¥ï¼Œè¯·é‡è¯•\" && upsbcroe\nfi\nelse\nred \"ä¸‹è½½ Sing-box å†…æ ¸å¤±è´¥æˆ–ä¸å­˜åœ¨ï¼Œè¯·é‡è¯•\" && upsbcroe\nfi\nelse\nred \"ç‰ˆæœ¬å·æ£€æµ‹å‡ºé”™ï¼Œè¯·é‡è¯•\" && upsbcroe\nfi\n}\n\nsbnh110yn(){\nsbnh=$(/etc/s-box/sing-box version | awk '/version/{print $NF}' | cut -d '.' -f 1,2)\nif [ $sbnh = 1.10 ]; then\nsed -i '186s/^\\/\\///' /etc/s-box/sb.json\nsed -i '187s/^\\/\\///' /etc/s-box/sb.json\nsed -i '188s/^\\/\\///' /etc/s-box/sb.json\nsed -i '195s/^\\/\\///' /etc/s-box/sb.json\nsed -i '196s/^\\/\\///' /etc/s-box/sb.json\nsed -i '197s/^\\/\\///' /etc/s-box/sb.json\nsed -i '204s/^\\/\\///' /etc/s-box/sb.json\nsed -i '205s/^\\/\\///' /etc/s-box/sb.json\nsed -i '206s/^\\/\\///' /etc/s-box/sb.json\nsed -i '213s/^\\/\\///' /etc/s-box/sb.json\nsed -i '214s/^\\/\\///' /etc/s-box/sb.json\nsed -i '215s/^\\/\\///' /etc/s-box/sb.json\nsed -i '222s/^\\/\\///' /etc/s-box/sb.json\nsed -i '223s/^\\/\\///' /etc/s-box/sb.json\nsed -i '224s/^\\/\\///' /etc/s-box/sb.json\nsed -i '231s/^\\/\\///' /etc/s-box/sb.json\nsed -i '232s/^\\/\\///' /etc/s-box/sb.json\nsed -i '233s/^\\/\\///' /etc/s-box/sb.json\nyellow \"å½“å‰Sing-boxå†…æ ¸ç‰ˆæœ¬ä¸º1.10ç³»åˆ—ï¼Œgeositeåˆ†æµæ¨¡å¼å¯ç”¨\"\nelse\nsed -i '186s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '187s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '188s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '195s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '196s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '197s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '204s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '205s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '206s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '213s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '214s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '215s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '222s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '223s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '224s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '231s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '232s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nsed -i '233s/^\\([^\\/]\\)/\\/\\/\\1/' /etc/s-box/sb.json\nred \"å½“å‰Sing-boxå†…æ ¸ä¸æ”¯æŒgeositeåˆ†æµæ¨¡å¼ï¼Œå¦‚è¦ä½¿ç”¨geositeåˆ†æµæ¨¡å¼ï¼Œè¯·åˆ‡æ¢1.10å†…æ ¸ç‰ˆæœ¬\"\nfi\n}\n\nunins(){\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service sing-box stop\nrc-update del sing-box default\nrm /etc/init.d/sing-box -f\nelse\nsystemctl stop sing-box >/dev/null 2>&1\nsystemctl disable sing-box >/dev/null 2>&1\nrm -f /etc/systemd/system/sing-box.service\nfi\nkill -15 $(cat /etc/s-box/sbargopid.log 2>/dev/null) >/dev/null 2>&1\nkill -15 $(cat /etc/s-box/sbargoympid.log 2>/dev/null) >/dev/null 2>&1\nkill -15 $(cat /etc/s-box/sbwpphid.log 2>/dev/null) >/dev/null 2>&1\nrm -rf /etc/s-box sbyg_update /usr/bin/sb /root/geoip.db /root/geosite.db /root/warpapi /root/warpip\nuncronsb\niptables -t nat -F PREROUTING >/dev/null 2>&1\nnetfilter-persistent save >/dev/null 2>&1\nservice iptables save >/dev/null 2>&1\ngreen \"Sing-boxå¸è½½å®Œæˆï¼\"\nblue \"æ¬¢è¿ç»§ç»­ä½¿ç”¨Sing-box-ygè„šæœ¬ï¼šbash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/sb.sh)\"\necho\n}\n\nsblog(){\nred \"é€€å‡ºæ—¥å¿— Ctrl+c\"\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nyellow \"æš‚ä¸æ”¯æŒalpineæŸ¥çœ‹æ—¥å¿—\"\nelse\n#systemctl status sing-box\njournalctl -u sing-box.service -o cat -f\nfi\n}\n\nsbactive(){\nif [[ ! -f /etc/s-box/sb.json ]]; then\nred \"æœªæ­£å¸¸å¯åŠ¨Sing-boxï¼Œè¯·å¸è½½é‡è£…æˆ–è€…é€‰æ‹©10æŸ¥çœ‹è¿è¡Œæ—¥å¿—åé¦ˆ\" && exit\nfi\n}\n\nsbshare(){\nrm -rf /etc/s-box/jhdy.txt /etc/s-box/vl_reality.txt /etc/s-box/vm_ws_argols.txt /etc/s-box/vm_ws_argogd.txt /etc/s-box/vm_ws.txt /etc/s-box/vm_ws_tls.txt /etc/s-box/hy2.txt /etc/s-box/tuic5.txt\nresult_vl_vm_hy_tu && resvless && resvmess && reshy2 && restu5\ncat /etc/s-box/vl_reality.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/vm_ws_argols.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/vm_ws_argogd.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/vm_ws.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/vm_ws_tls.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/hy2.txt 2>/dev/null >> /etc/s-box/jhdy.txt\ncat /etc/s-box/tuic5.txt 2>/dev/null >> /etc/s-box/jhdy.txt\nurl=$(cat /etc/s-box/jhdy.txt 2>/dev/null)\nbaseurl=$(echo -e \"$url\" | base64 -w 0)\necho \"$baseurl\" > /etc/s-box/jh_sub.txt\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ å››åˆä¸€èšåˆè®¢é˜… ã€‘èŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹ï¼š\" && sleep 2\necho\necho \"åˆ†äº«é“¾æ¥ã€v2raynã€v2rayngã€nekoboxã€Karingã€‘\"\necho -e \"${yellow}$baseurl${plain}\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nsb_client\n}\n\nclash_sb_share(){\nsbactive\necho\nyellow \"1ï¼šåˆ·æ–°å¹¶æŸ¥çœ‹å„åè®®åˆ†äº«é“¾æ¥ã€äºŒç»´ç ã€å››åˆä¸€èšåˆè®¢é˜…\"\nyellow \"2ï¼šåˆ·æ–°å¹¶æŸ¥çœ‹Clash-Metaã€Sing-boxå®¢æˆ·ç«¯SFA/SFI/SFWä¸‰åˆä¸€é…ç½®ã€Gitlabç§æœ‰è®¢é˜…é“¾æ¥\"\nyellow \"3ï¼šåˆ·æ–°å¹¶æŸ¥çœ‹Hysteria2ã€Tuic5çš„V2rayNå®¢æˆ·ç«¯è‡ªå®šä¹‰é…ç½®\"\nyellow \"4ï¼šæ¨é€æœ€æ–°èŠ‚ç‚¹é…ç½®ä¿¡æ¯(é€‰é¡¹1+é€‰é¡¹2)åˆ°Telegramé€šçŸ¥\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-4ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nsbshare\nelif  [ \"$menu\" = \"2\" ]; then\ngreen \"è¯·ç¨ç­‰â€¦â€¦\"\nsbshare > /dev/null 2>&1\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"Gitlabè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\ngitlabsubgo\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vless-realityã€vmess-wsã€Hysteria2ã€Tuic5 ã€‘Clash-Metaé…ç½®æ–‡ä»¶æ˜¾ç¤ºå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /etc/s-box/clash_meta_client.yaml ï¼Œå¤åˆ¶è‡ªå»ºä»¥yamlæ–‡ä»¶æ ¼å¼ä¸ºå‡†\" && sleep 2\necho\ncat /etc/s-box/clash_meta_client.yaml\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ vless-realityã€vmess-wsã€Hysteria2ã€Tuic5 ã€‘SFA/SFI/SFWé…ç½®æ–‡ä»¶æ˜¾ç¤ºå¦‚ä¸‹ï¼š\"\nred \"å®‰å“SFAã€è‹¹æœSFIï¼Œwinç”µè„‘å®˜æ–¹æ–‡ä»¶åŒ…SFWè¯·åˆ°ç”¬å“¥Githubé¡¹ç›®è‡ªè¡Œä¸‹è½½ï¼Œ\"\nred \"æ–‡ä»¶ç›®å½• /etc/s-box/sing_box_client.json ï¼Œå¤åˆ¶è‡ªå»ºä»¥jsonæ–‡ä»¶æ ¼å¼ä¸ºå‡†\" && sleep 2\necho\ncat /etc/s-box/sing_box_client.json\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nelif  [ \"$menu\" = \"3\" ]; then\ngreen \"è¯·ç¨ç­‰â€¦â€¦\"\nsbshare > /dev/null 2>&1\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ Hysteria-2 ã€‘è‡ªå®šä¹‰V2rayNé…ç½®æ–‡ä»¶æ˜¾ç¤ºå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /etc/s-box/v2rayn_hy2.yaml ï¼Œå¤åˆ¶è‡ªå»ºä»¥yamlæ–‡ä»¶æ ¼å¼ä¸ºå‡†\" && sleep 2\necho\ncat /etc/s-box/v2rayn_hy2.yaml\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\ntu5_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.key_path')\nif [[ \"$tu5_sniname\" = '/etc/s-box/private.key' ]]; then\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nred \"æ³¨æ„ï¼šV2rayNå®¢æˆ·ç«¯ä½¿ç”¨è‡ªå®šä¹‰Tuic5å®˜æ–¹å®¢æˆ·ç«¯æ ¸å¿ƒæ—¶ï¼Œä¸æ”¯æŒTuic5è‡ªç­¾è¯ä¹¦ï¼Œä»…æ”¯æŒåŸŸåè¯ä¹¦\" && sleep 2\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nelse\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€ã€ Tuic-v5 ã€‘è‡ªå®šä¹‰V2rayNé…ç½®æ–‡ä»¶æ˜¾ç¤ºå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /etc/s-box/v2rayn_tu5.json ï¼Œå¤åˆ¶è‡ªå»ºä»¥jsonæ–‡ä»¶æ ¼å¼ä¸ºå‡†\" && sleep 2\necho\ncat /etc/s-box/v2rayn_tu5.json\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nfi\nelif [ \"$menu\" = \"4\" ]; then\ntgnotice\nelse\nsb\nfi\n}\n\nacme(){\nbash <(curl -Ls https://gitlab.com/rwkgyg/acme-script/raw/main/acme.sh)\n}\ncfwarp(){\nbash <(curl -Ls https://gitlab.com/rwkgyg/CFwarp/raw/main/CFwarp.sh)\n}\nbbr(){\nif [[ $vi =~ lxc|openvz ]]; then\nyellow \"å½“å‰VPSçš„æ¶æ„ä¸º $viï¼Œä¸æ”¯æŒå¼€å¯åŸç‰ˆBBRåŠ é€Ÿ\" && sleep 2 && exit \nelse\ngreen \"ç‚¹å‡»ä»»æ„é”®ï¼Œå³å¯å¼€å¯BBRåŠ é€Ÿï¼Œctrl+cé€€å‡º\"\nbash <(curl -Ls https://raw.githubusercontent.com/teddysun/across/master/bbr.sh)\nfi\n}\n\nshowprotocol(){\nallports\nsbymfl\ntls=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].tls.enabled')\nif [[ \"$tls\" = \"false\" ]]; then\nargopid\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) || -n $(ps -e | grep -w $ls 2>/dev/null) ]]; then\nvm_zs=\"TLSå…³é—­\"\nargoym=\"å·²å¼€å¯\"\nelse\nvm_zs=\"TLSå…³é—­\"\nargoym=\"æœªå¼€å¯\"\nfi\nelse\nvm_zs=\"TLSå¼€å¯\"\nargoym=\"ä¸æ”¯æŒå¼€å¯\"\nfi\nhy2_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[2].tls.key_path')\n[[ \"$hy2_sniname\" = '/etc/s-box/private.key' ]] && hy2_zs=\"è‡ªç­¾è¯ä¹¦\" || hy2_zs=\"åŸŸåè¯ä¹¦\"\ntu5_sniname=$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[3].tls.key_path')\n[[ \"$tu5_sniname\" = '/etc/s-box/private.key' ]] && tu5_zs=\"è‡ªç­¾è¯ä¹¦\" || tu5_zs=\"åŸŸåè¯ä¹¦\"\necho -e \"Sing-boxèŠ‚ç‚¹å…³é”®ä¿¡æ¯ã€å·²åˆ†æµåŸŸåæƒ…å†µå¦‚ä¸‹ï¼š\"\necho -e \"ğŸš€ã€ Vless-reality ã€‘${yellow}ç«¯å£:$vl_port  RealityåŸŸåè¯ä¹¦ä¼ªè£…åœ°å€ï¼š$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].tls.server_name')${plain}\"\nif [[ \"$tls\" = \"false\" ]]; then\necho -e \"ğŸš€ã€   Vmess-ws    ã€‘${yellow}ç«¯å£:$vm_port   è¯ä¹¦å½¢å¼:$vm_zs   ArgoçŠ¶æ€:$argoym${plain}\"\nelse\necho -e \"ğŸš€ã€ Vmess-ws-tls  ã€‘${yellow}ç«¯å£:$vm_port   è¯ä¹¦å½¢å¼:$vm_zs   ArgoçŠ¶æ€:$argoym${plain}\"\nfi\necho -e \"ğŸš€ã€  Hysteria-2   ã€‘${yellow}ç«¯å£:$hy2_port  è¯ä¹¦å½¢å¼:$hy2_zs  è½¬å‘å¤šç«¯å£: $hy2zfport${plain}\"\necho -e \"ğŸš€ã€    Tuic-v5    ã€‘${yellow}ç«¯å£:$tu5_port  è¯ä¹¦å½¢å¼:$tu5_zs  è½¬å‘å¤šç«¯å£: $tu5zfport${plain}\"\nif [ \"$argoym\" = \"å·²å¼€å¯\" ]; then\necho -e \"Vmess-UUIDï¼š${yellow}$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[0].users[0].uuid')${plain}\"\necho -e \"Vmess-Pathï¼š${yellow}$(sed 's://.*::g' /etc/s-box/sb.json | jq -r '.inbounds[1].transport.path')${plain}\"\nif [[ -n $(ps -e | grep -w $ls 2>/dev/null) ]]; then\necho -e \"Argoä¸´æ—¶åŸŸåï¼š${yellow}$(cat /etc/s-box/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')${plain}\"\nfi\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) ]]; then\necho -e \"Argoå›ºå®šåŸŸåï¼š${yellow}$(cat /etc/s-box/sbargoym.log 2>/dev/null)${plain}\"\nfi\nfi\necho \"------------------------------------------------------------------------------------\"\nif [[ -n $(ps -e | grep sbwpph) ]]; then\ns5port=$(cat /etc/s-box/sbwpph.log 2>/dev/null | awk '{print $3}'| awk -F\":\" '{print $NF}')\ns5gj=$(cat /etc/s-box/sbwpph.log 2>/dev/null | awk '{print $6}')\ncase \"$s5gj\" in\nAT) showgj=\"å¥¥åœ°åˆ©\" ;;\nAU) showgj=\"æ¾³å¤§åˆ©äºš\" ;;\nBE) showgj=\"æ¯”åˆ©æ—¶\" ;;\nBG) showgj=\"ä¿åŠ åˆ©äºš\" ;;\nCA) showgj=\"åŠ æ‹¿å¤§\" ;;\nCH) showgj=\"ç‘å£«\" ;;\nCZ) showgj=\"æ·å…‹\" ;;\nDE) showgj=\"å¾·å›½\" ;;\nDK) showgj=\"ä¸¹éº¦\" ;;\nEE) showgj=\"çˆ±æ²™å°¼äºš\" ;;\nES) showgj=\"è¥¿ç­ç‰™\" ;;\nFI) showgj=\"èŠ¬å…°\" ;;\nFR) showgj=\"æ³•å›½\" ;;\nGB) showgj=\"è‹±å›½\" ;;\nHR) showgj=\"å…‹ç½—åœ°äºš\" ;;\nHU) showgj=\"åŒˆç‰™åˆ©\" ;;\nIE) showgj=\"çˆ±å°”å…°\" ;;\nIN) showgj=\"å°åº¦\" ;;\nIT) showgj=\"æ„å¤§åˆ©\" ;;\nJP) showgj=\"æ—¥æœ¬\" ;;\nLV) showgj=\"æ‹‰è„±ç»´äºš\" ;;\nNL) showgj=\"è·å…°\" ;;\nNO) showgj=\"æŒªå¨\" ;;\nPL) showgj=\"æ³¢å…°\" ;;\nPT) showgj=\"è‘¡è„ç‰™\" ;;\nRO) showgj=\"ç½—é©¬å°¼äºš\" ;;\nRS) showgj=\"å¡å°”ç»´äºš\" ;;\nSE) showgj=\"ç‘å…¸\" ;;\nSG) showgj=\"æ–°åŠ å¡\" ;;\nSK) showgj=\"æ–¯æ´›ä¼å…‹\" ;;\nUS) showgj=\"ç¾å›½\" ;;\nesac\ngrep -q \"country\" /etc/s-box/sbwpph.log 2>/dev/null && s5ms=\"å¤šåœ°åŒºPsiphonä»£ç†æ¨¡å¼ (ç«¯å£:$s5port  å›½å®¶:$showgj)\" || s5ms=\"æœ¬åœ°Warpä»£ç†æ¨¡å¼ (ç«¯å£:$s5port)\"\necho -e \"WARP-plus-Socks5çŠ¶æ€ï¼š$yellowå·²å¯åŠ¨ $s5ms$plain\"\nelse\necho -e \"WARP-plus-Socks5çŠ¶æ€ï¼š$yellowæœªå¯åŠ¨$plain\"\nfi\necho \"------------------------------------------------------------------------------------\"\nww4=\"warp-wireguard-ipv4åˆ†æµåŸŸåï¼š$wfl4\"\nww6=\"warp-wireguard-ipv6åˆ†æµåŸŸåï¼š$wfl6\"\nws4=\"warp-socks5-ipv4åˆ†æµåŸŸåï¼š$sfl4\"\nws6=\"warp-socks5-ipv6åˆ†æµåŸŸåï¼š$sfl6\"\nl4=\"VPSæœ¬åœ°ipv4åˆ†æµåŸŸåï¼š$adfl4\"\nl6=\"VPSæœ¬åœ°ipv6åˆ†æµåŸŸåï¼š$adfl6\"\nymflzu=(\"ww4\" \"ww6\" \"ws4\" \"ws6\" \"l4\" \"l6\")\nfor ymfl in \"${ymflzu[@]}\"; do\nif [[ ${!ymfl} != *\"æœª\"* ]]; then\necho -e \"${!ymfl}\"\nfi\ndone\nif [[ $ww4 = *\"æœª\"* && $ww6 = *\"æœª\"* && $ws4 = *\"æœª\"* && $ws6 = *\"æœª\"* && $l4 = *\"æœª\"* && $l6 = *\"æœª\"* ]] ; then\necho -e \"æœªè®¾ç½®åŸŸååˆ†æµ\"\nfi\n}\n\ninssbwpph(){\nsbactive\nins(){\nif [ ! -e /etc/s-box/sbwpph ]; then\ncase $(uname -m) in\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\nesac\ncurl -L -o /etc/s-box/sbwpph -# --retry 2 --insecure https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/sbwpph_$cpu\nchmod +x /etc/s-box/sbwpph\nfi\nif [[ -n $(ps -e | grep sbwpph) ]]; then\nkill -15 $(cat /etc/s-box/sbwpphid.log 2>/dev/null) >/dev/null 2>&1\nfi\nv4v6\nif [[ -z $v4 ]]; then\nred \"IPV4ä¸å­˜åœ¨ï¼Œç¡®ä¿å®‰è£…è¿‡WARP-IPV4æ¨¡å¼\"\nfi \n[[ -n $v6 ]] && sw46=6 || sw46=4\necho\nreadp \"è®¾ç½®WARP-plus-Socks5ç«¯å£ï¼ˆå›è½¦è·³è¿‡ç«¯å£é»˜è®¤40000ï¼‰ï¼š\" port\nif [[ -z $port ]]; then\nport=40000\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] \ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nelse\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]]\ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nfi\ns5port=$(cat /etc/s-box/sb.json | jq '.outbounds[] | select(.type == \"socks\") | .server_port' | tr -d '\"')\nsed -i \"127s/$s5port/$port/g\" /etc/s-box/sb.json\nrestartsb\n}\nunins(){\nkill -15 $(cat /etc/s-box/sbwpphid.log 2>/dev/null) >/dev/null 2>&1\nrm -rf /etc/s-box/sbwpph.log /etc/s-box/sbwpphid.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbwpphid.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\necho\nyellow \"1ï¼šé‡ç½®å¯ç”¨WARP-plus-Socks5æœ¬åœ°Warpä»£ç†æ¨¡å¼\"\nyellow \"2ï¼šé‡ç½®å¯ç”¨WARP-plus-Socks5å¤šåœ°åŒºPsiphonä»£ç†æ¨¡å¼\"\nyellow \"3ï¼šåœæ­¢WARP-plus-Socks5ä»£ç†æ¨¡å¼\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nins\nnohup setsid /etc/s-box/sbwpph -b 127.0.0.1:$port --gool -$sw46 >/dev/null 2>&1 & echo \"$!\" > /etc/s-box/sbwpphid.log\ngreen \"ç”³è¯·IPä¸­â€¦â€¦è¯·ç¨ç­‰â€¦â€¦\" && sleep 20\nresv1=$(curl -s --socks5 localhost:$port icanhazip.com)\nresv2=$(curl -sx socks5h://localhost:$port icanhazip.com)\nif [[ -z $resv1 && -z $resv2 ]]; then\nred \"WARP-plus-Socks5çš„IPè·å–å¤±è´¥\" && unins && exit\nelse\necho \"/etc/s-box/sbwpph -b 127.0.0.1:$port --gool -$sw46 >/dev/null 2>&1\" > /etc/s-box/sbwpph.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbwpphid.log/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid $(cat /etc/s-box/sbwpph.log 2>/dev/null) & pid=\\$! && echo \\$pid > /etc/s-box/sbwpphid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"WARP-plus-Socks5çš„IPè·å–æˆåŠŸï¼Œå¯è¿›è¡ŒSocks5ä»£ç†åˆ†æµ\"\nfi\nelif [ \"$menu\" = \"2\" ]; then\nins\necho '\nå¥¥åœ°åˆ©ï¼ˆATï¼‰\næ¾³å¤§åˆ©äºšï¼ˆAUï¼‰\næ¯”åˆ©æ—¶ï¼ˆBEï¼‰\nä¿åŠ åˆ©äºšï¼ˆBGï¼‰\nåŠ æ‹¿å¤§ï¼ˆCAï¼‰\nç‘å£«ï¼ˆCHï¼‰\næ·å…‹ (CZ)\nå¾·å›½ï¼ˆDEï¼‰\nä¸¹éº¦ï¼ˆDKï¼‰\nçˆ±æ²™å°¼äºšï¼ˆEEï¼‰\nè¥¿ç­ç‰™ï¼ˆESï¼‰\nèŠ¬å…°ï¼ˆFIï¼‰\næ³•å›½ï¼ˆFRï¼‰\nè‹±å›½ï¼ˆGBï¼‰\nå…‹ç½—åœ°äºšï¼ˆHRï¼‰\nåŒˆç‰™åˆ© (HU)\nçˆ±å°”å…°ï¼ˆIEï¼‰\nå°åº¦ï¼ˆINï¼‰\næ„å¤§åˆ© (IT)\næ—¥æœ¬ï¼ˆJPï¼‰\næ‹‰è„±ç»´äºšï¼ˆLVï¼‰\nè·å…°ï¼ˆNLï¼‰\næŒªå¨ (NO)\næ³¢å…°ï¼ˆPLï¼‰\nè‘¡è„ç‰™ï¼ˆPTï¼‰\nç½—é©¬å°¼äºš (RO)\nå¡å°”ç»´äºšï¼ˆRSï¼‰\nç‘å…¸ï¼ˆSEï¼‰\næ–°åŠ å¡ (SG)\næ–¯æ´›ä¼å…‹ï¼ˆSKï¼‰\nç¾å›½ï¼ˆUSï¼‰\n'\nreadp \"å¯é€‰æ‹©å›½å®¶åœ°åŒºï¼ˆè¾“å…¥æœ«å°¾ä¸¤ä¸ªå¤§å†™å­—æ¯ï¼Œå¦‚ç¾å›½ï¼Œåˆ™è¾“å…¥USï¼‰ï¼š\" guojia\nnohup setsid /etc/s-box/sbwpph -b 127.0.0.1:$port --cfon --country $guojia -$sw46 >/dev/null 2>&1 & echo \"$!\" > /etc/s-box/sbwpphid.log\ngreen \"ç”³è¯·IPä¸­â€¦â€¦è¯·ç¨ç­‰â€¦â€¦\" && sleep 20\nresv1=$(curl -s --socks5 localhost:$port icanhazip.com)\nresv2=$(curl -sx socks5h://localhost:$port icanhazip.com)\nif [[ -z $resv1 && -z $resv2 ]]; then\nred \"WARP-plus-Socks5çš„IPè·å–å¤±è´¥ï¼Œå°è¯•æ¢ä¸ªå›½å®¶åœ°åŒºå§\" && unins && exit\nelse\necho \"/etc/s-box/sbwpph -b 127.0.0.1:$port --cfon --country $guojia -$sw46 >/dev/null 2>&1\" > /etc/s-box/sbwpph.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/sbwpphid.log/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid $(cat /etc/s-box/sbwpph.log 2>/dev/null) & pid=\\$! && echo \\$pid > /etc/s-box/sbwpphid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"WARP-plus-Socks5çš„IPè·å–æˆåŠŸï¼Œå¯è¿›è¡ŒSocks5ä»£ç†åˆ†æµ\"\nfi\nelif [ \"$menu\" = \"3\" ]; then\nunins && green \"å·²åœæ­¢WARP-plus-Socks5ä»£ç†åŠŸèƒ½\"\nelse\nsb\nfi\n}\n\nclear\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \necho -e \"${bblue} â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ         â–‘â–ˆ${plain}â–ˆ   â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ     â–‘â–ˆ${red}â–ˆ   â–‘â–ˆâ–ˆ${plain}  \"\necho -e \"${bblue}  â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ    â–‘â–‘â–ˆâ–ˆ${plain}        â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ${red}      â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ${plain}   \"\necho -e \"${bblue}   â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ ${plain}                â–‘â–ˆâ–ˆ â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–ˆ${red}â–ˆ        â–‘â–ˆâ–ˆ â–ˆâ–ˆ  ${plain}   \"\necho -e \"${bblue}     â–‘â–ˆâ–ˆ        â–‘${plain}â–ˆâ–ˆ    â–‘â–ˆâ–ˆ â–ˆâ–ˆ       â–‘â–ˆâ–ˆ â–ˆâ–ˆ        â–‘â–ˆ${red}â–ˆ â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–ˆâ–ˆ  ${plain}  \"\necho -e \"${bblue}     â–‘â–ˆâ–ˆ ${plain}        â–‘â–ˆâ–ˆ    â–‘â–‘â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ       â–‘${red}â–ˆâ–ˆ â–‘â–ˆâ–ˆ       â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ ${plain}  \"\necho -e \"${bblue}     â–‘â–ˆ${plain}â–ˆ          â–‘â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ         â–‘â–ˆâ–ˆ  â–‘â–‘${red}â–ˆâ–ˆ     â–‘â–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆ ${plain}  \"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \nwhite \"ç”¬å“¥Githubé¡¹ç›®  ï¼šgithub.com/yonggekkk\"\nwhite \"ç”¬å“¥Bloggeråšå®¢ ï¼šygkkk.blogspot.com\"\nwhite \"ç”¬å“¥YouTubeé¢‘é“ ï¼šwww.youtube.com/@ygkkk\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \nwhite \"Vless-reality-visionã€Vmess-ws(tls)+Argoã€Hysteria-2ã€Tuic-v5 å››åè®®å…±å­˜è„šæœ¬\"\nwhite \"è„šæœ¬å¿«æ·æ–¹å¼ï¼šsb\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho \"ç”±äºsing-boxçš„1.10ä¸1.11å†…æ ¸åœ¨é…ç½®æ–‡ä»¶ä¸Šå˜åŒ–ä¹‹å¤§\"\necho \"å½“1.11æ­£å¼ç‰ˆå†…æ ¸å‘å¸ƒåï¼Œåˆ‡å‹¿æ›´æ–°å†…æ ¸ç‰ˆæœ¬ï¼Œä¿æŒ1.10ç³»åˆ—å†…æ ¸ä¸åŠ¨\"\necho \"ç­‰å¾…åç»­æ›´æ–°ï¼\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ngreen \" 1. ä¸€é”®å®‰è£… Sing-box\" \ngreen \" 2. åˆ é™¤å¸è½½ Sing-box\"\nwhite \"----------------------------------------------------------------------------------\"\ngreen \" 3. å˜æ›´é…ç½® ã€åŒè¯ä¹¦TLS/UUIDè·¯å¾„/Argo/IPä¼˜å…ˆ/TGé€šçŸ¥/Warp/è®¢é˜…/CDNä¼˜é€‰ã€‘\" \ngreen \" 4. æ›´æ”¹ä¸»ç«¯å£/æ·»åŠ å¤šç«¯å£è·³è·ƒå¤ç”¨\" \ngreen \" 5. ä¸‰é€šé“åŸŸååˆ†æµ\"\ngreen \" 6. å…³é—­/é‡å¯ Sing-box\"   \ngreen \" 7. æ›´æ–° Sing-box-yg è„šæœ¬\"\ngreen \" 8. æ›´æ–°/åˆ‡æ¢/æŒ‡å®š Sing-box å†…æ ¸ç‰ˆæœ¬\"\nwhite \"----------------------------------------------------------------------------------\"\ngreen \" 9. åˆ·æ–°å¹¶æŸ¥çœ‹èŠ‚ç‚¹ ã€Clash-Meta/SFA+SFI+SFWä¸‰åˆä¸€é…ç½®/è®¢é˜…é“¾æ¥/æ¨é€TGé€šçŸ¥ã€‘\"\ngreen \"10. æŸ¥çœ‹ Sing-box è¿è¡Œæ—¥å¿—\"\ngreen \"11. ä¸€é”®åŸç‰ˆBBR+FQåŠ é€Ÿ\"\ngreen \"12. ç®¡ç† Acme ç”³è¯·åŸŸåè¯ä¹¦\"\ngreen \"13. ç®¡ç† Warp æŸ¥çœ‹Netflix/ChatGPTè§£é”æƒ…å†µ\"\ngreen \"14. æ·»åŠ  WARP-plus-Socks5 ä»£ç†æ¨¡å¼ ã€æœ¬åœ°Warp/å¤šåœ°åŒºPsiphon-VPNã€‘\"\ngreen \" 0. é€€å‡ºè„šæœ¬\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\ninsV=$(cat /etc/s-box/v 2>/dev/null)\nlatestV=$(curl -sL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1)\nif [ -f /etc/s-box/v ]; then\nif [ \"$insV\" = \"$latestV\" ]; then\necho -e \"å½“å‰ Sing-box-yg è„šæœ¬æœ€æ–°ç‰ˆï¼š${bblue}${insV}${plain} (å·²å®‰è£…)\"\nelse\necho -e \"å½“å‰ Sing-box-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${bblue}${insV}${plain}\"\necho -e \"æ£€æµ‹åˆ°æœ€æ–° Sing-box-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${yellow}${latestV}${plain} (å¯é€‰æ‹©7è¿›è¡Œæ›´æ–°)\"\necho -e \"${yellow}$(curl -sL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/version)${plain}\"\nfi\nelse\necho -e \"å½“å‰ Sing-box-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${bblue}${latestV}${plain}\"\necho -e \"è¯·å…ˆé€‰æ‹© 1 ï¼Œå®‰è£… Sing-box-yg è„šæœ¬\"\nfi\n\nlapre\nif [ -f '/etc/s-box/sb.json' ]; then\nif [[ $inscore =~ ^[0-9.]+$ ]]; then\nif [ \"${inscore}\" = \"${latcore}\" ]; then\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æ­£å¼ç‰ˆå†…æ ¸ï¼š${bblue}${inscore}${plain} (å·²å®‰è£…)\"\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${bblue}${precore}${plain} (å¯åˆ‡æ¢)\"\nelse\necho\necho -e \"å½“å‰ Sing-box å·²å®‰è£…æ­£å¼ç‰ˆå†…æ ¸ï¼š${bblue}${inscore}${plain}\"\necho -e \"æ£€æµ‹åˆ°æœ€æ–° Sing-box æ­£å¼ç‰ˆå†…æ ¸ï¼š${yellow}${latcore}${plain} (å¯é€‰æ‹©8è¿›è¡Œæ›´æ–°)\"\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${bblue}${precore}${plain} (å¯åˆ‡æ¢)\"\nfi\nelse\nif [ \"${inscore}\" = \"${precore}\" ]; then\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${bblue}${inscore}${plain} (å·²å®‰è£…)\"\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æ­£å¼ç‰ˆå†…æ ¸ï¼š${bblue}${latcore}${plain} (å¯åˆ‡æ¢)\"\nelse\necho\necho -e \"å½“å‰ Sing-box å·²å®‰è£…æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${bblue}${inscore}${plain}\"\necho -e \"æ£€æµ‹åˆ°æœ€æ–° Sing-box æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${yellow}${precore}${plain} (å¯é€‰æ‹©8è¿›è¡Œæ›´æ–°)\"\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æ­£å¼ç‰ˆå†…æ ¸ï¼š${bblue}${latcore}${plain} (å¯åˆ‡æ¢)\"\nfi\nfi\nelse\necho\necho -e \"å½“å‰ Sing-box æœ€æ–°æ­£å¼ç‰ˆå†…æ ¸ï¼š${bblue}${latcore}${plain}\"\necho -e \"å½“å‰ Sing-box æœ€æ–°æµ‹è¯•ç‰ˆå†…æ ¸ï¼š${bblue}${precore}${plain}\"\nfi\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho -e \"VPSçŠ¶æ€å¦‚ä¸‹ï¼š\"\necho -e \"ç³»ç»Ÿ:$blue$op$plain  \\c\";echo -e \"å†…æ ¸:$blue$version$plain  \\c\";echo -e \"å¤„ç†å™¨:$blue$cpu$plain  \\c\";echo -e \"è™šæ‹ŸåŒ–:$blue$vi$plain  \\c\";echo -e \"BBRç®—æ³•:$blue$bbr$plain\"\nv4v6\nif [[ \"$v6\" == \"2a09\"* ]]; then\nw6=\"ã€WARPã€‘\"\nfi\nif [[ \"$v4\" == \"104.28\"* ]]; then\nw4=\"ã€WARPã€‘\"\nfi\nrpip=$(sed 's://.*::g' /etc/s-box/sb.json 2>/dev/null | jq -r '.outbounds[0].domain_strategy')\n[[ -z $v4 ]] && showv4='IPV4åœ°å€ä¸¢å¤±ï¼Œè¯·åˆ‡æ¢è‡³IPV6æˆ–è€…é‡è£…Sing-box' || showv4=$v4$w4\n[[ -z $v6 ]] && showv6='IPV6åœ°å€ä¸¢å¤±ï¼Œè¯·åˆ‡æ¢è‡³IPV4æˆ–è€…é‡è£…Sing-box' || showv6=$v6$w6\nif [[ $rpip = 'prefer_ipv6' ]]; then\nv4_6=\"IPV6ä¼˜å…ˆå‡ºç«™($showv6)\"\nelif [[ $rpip = 'prefer_ipv4' ]]; then\nv4_6=\"IPV4ä¼˜å…ˆå‡ºç«™($showv4)\"\nelif [[ $rpip = 'ipv4_only' ]]; then\nv4_6=\"ä»…IPV4å‡ºç«™($showv4)\"\nelif [[ $rpip = 'ipv6_only' ]]; then\nv4_6=\"ä»…IPV6å‡ºç«™($showv6)\"\nfi\nif [[ -z $v4 ]]; then\nvps_ipv4='æ— IPV4'      \nvps_ipv6=\"$v6\"\nelif [[ -n $v4 &&  -n $v6 ]]; then\nvps_ipv4=\"$v4\"    \nvps_ipv6=\"$v6\"\nelse\nvps_ipv4=\"$v4\"    \nvps_ipv6='æ— IPV6'\nfi\necho -e \"æœ¬åœ°IPV4åœ°å€ï¼š$blue$vps_ipv4$w4$plain   æœ¬åœ°IPV6åœ°å€ï¼š$blue$vps_ipv6$w6$plain\"\nif [[ -n $rpip ]]; then\necho -e \"ä»£ç†IPä¼˜å…ˆçº§ï¼š$blue$v4_6$plain\"\nfi\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nstatus_cmd=\"rc-service sing-box status\"\nstatus_pattern=\"started\"\nelse\nstatus_cmd=\"systemctl status sing-box\"\nstatus_pattern=\"active\"\nfi\nif [[ -n $($status_cmd 2>/dev/null | grep -w \"$status_pattern\") && -f '/etc/s-box/sb.json' ]]; then\necho -e \"Sing-boxçŠ¶æ€ï¼š$blueè¿è¡Œä¸­$plain\"\nelif [[ -z $($status_cmd 2>/dev/null | grep -w \"$status_pattern\") && -f '/etc/s-box/sb.json' ]]; then\necho -e \"Sing-boxçŠ¶æ€ï¼š$yellowæœªå¯åŠ¨ï¼Œé€‰æ‹©10æŸ¥çœ‹æ—¥å¿—å¹¶åé¦ˆï¼Œå»ºè®®å¸è½½é‡è£…Sing-box-ygè„šæœ¬$plain\"\nelse\necho -e \"Sing-boxçŠ¶æ€ï¼š$redæœªå®‰è£…$plain\"\nfi\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nif [ -f '/etc/s-box/sb.json' ]; then\nshowprotocol\nfi\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nreadp \"è¯·è¾“å…¥æ•°å­—ã€0-14ã€‘:\" Input\ncase \"$Input\" in  \n 1 ) instsllsingbox;;\n 2 ) unins;;\n 3 ) changeserv;;\n 4 ) changeport;;\n 5 ) changefl;;\n 6 ) stclre;;\n 7 ) upsbyg;; \n 8 ) upsbcroe;;\n 9 ) clash_sb_share;;\n10 ) sblog;;\n11 ) bbr;;\n12 ) acme;;\n13 ) cfwarp;;\n14 ) inssbwpph;;\n * ) exit \nesac\n"
        },
        {
          "name": "sbwpph_amd64",
          "type": "blob",
          "size": 17780.1318359375,
          "content": ""
        },
        {
          "name": "sbwpph_arm64",
          "type": "blob",
          "size": 17152.1318359375,
          "content": ""
        },
        {
          "name": "sbå®˜æ–¹å®¢æˆ·ç«¯é…ç½®è¯´æ˜.txt",
          "type": "blob",
          "size": 7.947265625,
          "content": "sing-boxå®˜æ–¹SFA/SFI/SFWå®¢æˆ·ç«¯é…ç½®ç®€è¦è¯´æ˜\nå°ç™½å…³é”®ç‚¹æ“ä½œæŒ‡å— V23.11.15ï¼ˆä¸å®šæ—¶æ›´æ–°ï¼‰\n\næ³¨æ„ï¼šå°ç™½åœ¨è‡ªå·±çš„sing-boxé…ç½®æ–‡ä»¶ä¸­ï¼Œåªè¦æ”¹åŠ¨èŠ‚ç‚¹åŒºä¸åˆ†æµç»„è¿™ä¸¤å—åŒºåŸŸå³å¯\n------------------------------------------------------------------------------------\nèŠ‚ç‚¹åŒº\n------------------------------------------------------------------------------------\nä¸€ã€vless-reality-visionèŠ‚ç‚¹\n------------------------------------------------------------------------------------\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-sb\",                                                  è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n      \"server\": \"1.2.3.4\",                                                æœåŠ¡å™¨æœ¬åœ°ip\n      \"server_port\": 12345,                                               è‡ªå®šä¹‰çš„ç«¯å£\n      \"uuid\": \"658ff7f4-0448-4368-a104-c3108517f56a\",                     è‡ªå®šä¹‰çš„uuid\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"www.yahoo.com\",                                   è‡ªå®šä¹‰çš„ç¬¬ä¸‰æ–¹å·åŸŸå\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"oBwBeiq8MjOqHS0fTXm39gRM_fdXgbAvtEWfAaW\",        è‡ªå®šä¹‰çš„public-key\n          \"short_id\": \"91b4db47\"                                          è‡ªå®šä¹‰çš„short-id\n        }\n      }\n    },\n\n\n------------------------------------------------------------------------------------\näºŒã€vmess-ws(tls)+argoèŠ‚ç‚¹\n------------------------------------------------------------------------------------\n     {\n            \"server\": \"1.2.3.4\",                                       æœåŠ¡å™¨æœ¬åœ°ipã€è§£æçš„åŸŸåã€ä¼˜é€‰IPã€ä¼˜é€‰åŸŸå\n            \"server_port\": 12345,                                      è‡ªå®šä¹‰çš„ç«¯å£ï¼Œvps-cdnä¸argo-cdnï¼Œæ³¨æ„13ä¸ªç«¯å£å˜åŒ–\n            \"tag\": \"vmess-sb\",                                         è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n            \"tls\": {\n                \"enabled\": true,                                       tlså¼€å¯ï¼štrue   tlså…³é—­ï¼šfalse    \n                \"server_name\": \"yg.ygkkk.eu.org\",                      tlså¼€å¯ï¼šè§£æçš„åŸŸåæˆ–è€…argoåŸŸå   \n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"yg.ygkkk.eu.org\"                              è§£æçš„åŸŸåæˆ–è€…argoåŸŸå\n                    ]\n                },\n                \"path\": \"658ff7f4-0448-4368-a104-c3108517f56a-vm\",     è‡ªå®šä¹‰çš„uuidå€¼-vm\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"658ff7f4-0448-4368-a104-c3108517f56a\"             è‡ªå®šä¹‰çš„uuid\n        },\n\n------------------------------------------------------------------------------------        \nä¸‰ã€hysteria2èŠ‚ç‚¹\n------------------------------------------------------------------------------------\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-sb\",                                           è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"server\": \"1.2.3.4\",                                       è‡ªç­¾è¯ä¹¦ï¼šæœåŠ¡å™¨æœ¬åœ°ip   åŸŸåè¯ä¹¦ï¼šè§£æçš„åŸŸå\n        \"server_port\": 12345,                                      è‡ªå®šä¹‰çš„ç«¯å£\n        \"password\": \"658ff7f4-0448-4368-a104-c3108517f56a\",        è‡ªå®šä¹‰çš„uuid\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"www.bing.com\",                         è‡ªç­¾è¯ä¹¦ï¼šwww.bing.com   åŸŸåè¯ä¹¦ï¼šè§£æçš„åŸŸå\n            \"insecure\": true,                                      è‡ªç­¾è¯ä¹¦ï¼štrue           åŸŸåè¯ä¹¦ï¼šfalse\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n\n\n------------------------------------------------------------------------------------\nå››ã€tuic5èŠ‚ç‚¹\n------------------------------------------------------------------------------------\n        {\n            \"type\":\"tuic\",\n            \"tag\": \"tuic5-sb\",                                       è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n            \"server\": \"1.2.3.4\",                                     è‡ªç­¾è¯ä¹¦ï¼šæœåŠ¡å™¨æœ¬åœ°ip   åŸŸåè¯ä¹¦ï¼šè§£æçš„åŸŸå\n            \"server_port\": 12345,                                    è‡ªå®šä¹‰çš„ç«¯å£\n            \"uuid\": \"658ff7f4-0448-4368-a104-c3108517f56a\",          è‡ªå®šä¹‰çš„uuid\n            \"password\": \"658ff7f4-0448-4368-a104-c3108517f56a\",      è‡ªå®šä¹‰çš„uuid\n            \"congestion_control\": \"bbr\",\n            \"udp_relay_mode\": \"native\",\n            \"udp_over_stream\": false,\n            \"zero_rtt_handshake\": false,\n            \"heartbeat\": \"10s\",\n            \"tls\":{\n                \"enabled\": true,\n                \"server_name\": \"www.bing.com\",                      è‡ªç­¾è¯ä¹¦ï¼šwww.bing.com   åŸŸåè¯ä¹¦ï¼šè§£æçš„åŸŸå\n                \"insecure\": true,                                   è‡ªç­¾è¯ä¹¦ï¼štrue           åŸŸåè¯ä¹¦ï¼šfalse\n                \"alpn\": [\n                    \"h3\"\n                ]\n            }\n        },\n\n------------------------------------------------------------------------------------\näº”ã€cf-vless(tls)èŠ‚ç‚¹\n------------------------------------------------------------------------------------\n     {\n            \"server\": \"1.2.3.4\",                                       ä¼˜é€‰IPã€ä¼˜é€‰åŸŸå\n            \"server_port\": 12345,                                      è‡ªå®šä¹‰çš„ç«¯å£ï¼Œæ³¨æ„13ä¸ªç«¯å£å˜åŒ–\n            \"tag\": \"cf-vless-sb\",                                      è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n            \"tls\": {\n                \"enabled\": true,                                       tlså¼€å¯ï¼štrue   tlså…³é—­ï¼šfalse    \n                \"server_name\": \"yg.ygkkk.eu.org\",                      tlså¼€å¯ï¼špagesåŸŸåæˆ–è€…è‡ªå®šä¹‰åŸŸå   \n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"yg.ygkkk.eu.org\"                              workersã€pagesåŸŸåæˆ–è€…è‡ªå®šä¹‰åŸŸå\n                    ]\n                },\n                \"path\": \"/?ed=2048\",                                   pathè·¯å¾„ï¼š/?ed=2048\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"658ff7f4-0448-4368-a104-c3108517f56a\"             è‡ªå®šä¹‰çš„uuid\n        },\n\n\n\n------------------------------------------------------------------------------------\nåˆ†æµç»„ï¼šå…±ä¸¤ç»„ï¼Œåˆ†ä¸ºæ‰‹åŠ¨é€‰æ‹©selectä¸è‡ªåŠ¨é€‰æ‹©autoï¼Œæ¯ç»„èŠ‚ç‚¹å¯æŒ‰éœ€æ±‚è‡ªè¡Œå¢å‡ï¼Œç¡®ä¿å‡ºç°çš„è‡ªå®šä¹‰èŠ‚ç‚¹åç§°å¯ä»¥åœ¨èŠ‚ç‚¹åŒºä¸­æŸ¥æ‰¾åˆ°\n------------------------------------------------------------------------------------\næ‰‹åŠ¨é€‰æ‹©select\n{\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",                \n        \"vless-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"vmess-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"hy2-sb\",              è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"tuic5-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"cf-vless-sb\"          è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n          â€¦â€¦â€¦â€¦                 â€¦â€¦â€¦â€¦ \n      ]\n    },\n------------------------------------------------------------------------------------\nè‡ªåŠ¨é€‰æ‹©auto\n{\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"vmess-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"hy2-sb\",              è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"tuic5-sb\",            è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n        \"cf-vless-sb\"          è‡ªå®šä¹‰èŠ‚ç‚¹åç§°\n          â€¦â€¦â€¦â€¦â€¦â€¦               â€¦â€¦â€¦â€¦ \n      ]\n    },\n------------------------------------------------------------------------------------\n"
        },
        {
          "name": "serv00.sh",
          "type": "blob",
          "size": 36.5234375,
          "content": "#!/bin/bash\n\n# å®šä¹‰é¢œè‰²\nre=\"\\033[0m\"\nred=\"\\033[1;91m\"\ngreen=\"\\e[1;32m\"\nyellow=\"\\e[1;33m\"\npurple=\"\\e[1;35m\"\nred() { echo -e \"\\e[1;91m$1\\033[0m\"; }\ngreen() { echo -e \"\\e[1;32m$1\\033[0m\"; }\nyellow() { echo -e \"\\e[1;33m$1\\033[0m\"; }\npurple() { echo -e \"\\e[1;35m$1\\033[0m\"; }\nreading() { read -p \"$(red \"$1\")\" \"$2\"; }\nUSERNAME=$(whoami)\nHOSTNAME=$(hostname)\n[[ \"$HOSTNAME\" == \"s1.ct8.pl\" ]] && export WORKDIR=\"domains/${USERNAME}.ct8.pl/logs\" || export WORKDIR=\"domains/${USERNAME}.serv00.net/logs\"\n[ -d \"$WORKDIR\" ] || (mkdir -p \"$WORKDIR\" && chmod 777 \"$WORKDIR\")\n\nread_ip() {\ncat ip.txt\nreading \"è¯·è¾“å…¥ä¸Šé¢ä¸‰ä¸ªIPä¸­çš„ä»»æ„ä¸€ä¸ª (å»ºè®®é»˜è®¤å›è½¦è‡ªåŠ¨é€‰æ‹©å¯ç”¨IP): \" IP\nif [[ -z \"$IP\" ]]; then\nIP=$(grep -m 1 \"å¯ç”¨\" ip.txt | awk -F ':' '{print $1}')\nif [ -z \"$IP\" ]; then\nIP=$(okip)\nif [ -z \"$IP\" ]; then\nIP=$(head -n 1 ip.txt | awk -F ':' '{print $1}')\nfi\nfi\nfi\ngreen \"ä½ é€‰æ‹©çš„IPä¸º: $IP\"\n}\n\nread_uuid() {\n        reading \"è¯·è¾“å…¥ç»Ÿä¸€çš„uuidå¯†ç  (å»ºè®®å›è½¦é»˜è®¤éšæœº): \" UUID\n        if [[ -z \"$UUID\" ]]; then\n\t   UUID=$(uuidgen -r)\n        fi\n\tgreen \"ä½ çš„uuidä¸º: $UUID\"\n}\n\nread_reym() {\n        yellow \"æ–¹å¼ä¸€ï¼šå›è½¦ä½¿ç”¨CFåŸŸåï¼Œæ”¯æŒproxyip+éæ ‡ç«¯å£åä»£ipåŠŸèƒ½ (æ¨è)\"\n\tyellow \"æ–¹å¼äºŒï¼šè¾“å…¥ s è¡¨ç¤ºä½¿ç”¨Serv00è‡ªå¸¦åŸŸåï¼Œä¸æ”¯æŒproxyipåŠŸèƒ½ (æ¨è)\"\n        yellow \"æ–¹å¼ä¸‰ï¼šæ”¯æŒå…¶ä»–åŸŸåï¼Œæ³¨æ„è¦ç¬¦åˆrealityåŸŸåè§„åˆ™\"\n        reading \"è¯·è¾“å…¥realityåŸŸå ã€è¯·é€‰æ‹© å›è½¦ æˆ–è€… s æˆ–è€… è¾“å…¥åŸŸåã€‘: \" reym\n        if [[ -z \"$reym\" ]]; then\n           reym=www.speedtest.net\n\telif [[ \"$reym\" == \"s\" || \"$reym\" == \"S\" ]]; then\n           reym=$USERNAME.serv00.net\n        fi\n\tgreen \"ä½ çš„realityåŸŸåä¸º: $reym\"\n}\n\nread_vless_port() {\n    while true; do\n        reading \"è¯·è¾“å…¥vless-realityç«¯å£ (é¢æ¿å¼€æ”¾çš„tcpç«¯å£): \" vless_port\n        if [[ \"$vless_port\" =~ ^[0-9]+$ ]] && [ \"$vless_port\" -ge 1 ] && [ \"$vless_port\" -le 65535 ]; then\n            green \"ä½ çš„vless-realityç«¯å£ä¸º: $vless_port\"\n            break\n        else\n            yellow \"è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥é¢æ¿å¼€æ”¾çš„TCPç«¯å£\"\n        fi\n    done\n}\n\nread_hy2_port() {\n    while true; do\n        reading \"è¯·è¾“å…¥hysteria2ç«¯å£ (é¢æ¿å¼€æ”¾çš„UDPç«¯å£): \" hy2_port\n        if [[ \"$hy2_port\" =~ ^[0-9]+$ ]] && [ \"$hy2_port\" -ge 1 ] && [ \"$hy2_port\" -le 65535 ]; then\n            green \"ä½ çš„hysteria2ç«¯å£ä¸º: $hy2_port\"\n            break\n        else\n            yellow \"è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥é¢æ¿å¼€æ”¾çš„UDPç«¯å£\"\n        fi\n    done\n}\n\nread_vmess_port() {\n    while true; do\n        reading \"è¯·è¾“å…¥vmess-wsç«¯å£ (é¢æ¿å¼€æ”¾çš„tcpç«¯å£): \" vmess_port\n        if [[ \"$vmess_port\" =~ ^[0-9]+$ ]] && [ \"$vmess_port\" -ge 1 ] && [ \"$vmess_port\" -le 65535 ]; then\n            green \"ä½ çš„vmessç«¯å£ä¸º: $vmess_port\"\n            break\n        else\n            yellow \"è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥é¢æ¿å¼€æ”¾çš„tcpç«¯å£\"\n        fi\n    done\n}\n\ninstall_singbox() {\nif [[ -e $WORKDIR/list.txt ]]; then\nyellow \"å·²å®‰è£…sing-boxï¼Œè¯·å…ˆé€‰æ‹©2å¸è½½ï¼Œå†æ‰§è¡Œå®‰è£…\" && exit\nfi\nyellow \"è¯·ç¡®ä¿åœ¨Serv00ç½‘é¡µè®¾ç½®ä¸­å·²å¼€æ”¾3ä¸ªç«¯å£ï¼š2ä¸ªtcpç«¯å£ã€1ä¸ªudpç«¯å£\"\nsleep 2\n        cd $WORKDIR\n\techo\n\tread_ip\n \techo\n        read_reym\n\techo\n\tread_uuid\n \techo\n        read_vless_port\n\techo\n        read_vmess_port\n\techo\n        read_hy2_port\n\techo\n        sleep 2\n        argo_configure\n\techo\n        download_and_run_singbox\n\tcd\n\techo\n\tservkeep\n        cd $WORKDIR\n        echo\n        get_links\n}\n\nuninstall_singbox() {\n  reading \"\\nç¡®å®šè¦å¸è½½å—ï¼Ÿã€y/nã€‘: \" choice\n    case \"$choice\" in\n       [Yy])\n          bash -c 'ps aux | grep $(whoami) | grep -v \"sshd\\|bash\\|grep\" | awk \"{print \\$2}\" | xargs -r kill -9 >/dev/null 2>&1' >/dev/null 2>&1\n          rm -rf $WORKDIR serv00.sh serv00keep.sh\n\t  crontab -l | grep -v \"serv00keep\" >rmcron\n          crontab rmcron >/dev/null 2>&1\n          rm rmcron\n          clear\n          green \"å·²å®Œå…¨å¸è½½\"\n          ;;\n        [Nn]) exit 0 ;;\n    \t*) red \"æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·è¾“å…¥yæˆ–n\" && menu ;;\n    esac\n}\n\nkill_all_tasks() {\nreading \"\\næ¸…ç†æ‰€æœ‰è¿›ç¨‹å¹¶æ¸…ç©ºæ‰€æœ‰å®‰è£…å†…å®¹ï¼Œå°†é€€å‡ºsshè¿æ¥ï¼Œç¡®å®šç»§ç»­æ¸…ç†å—ï¼Ÿã€y/nã€‘: \" choice\n  case \"$choice\" in\n    [Yy]) \n    bash -c 'ps aux | grep $(whoami) | grep -v \"sshd\\|bash\\|grep\" | awk \"{print \\$2}\" | xargs -r kill -9 >/dev/null 2>&1' >/dev/null 2>&1\n    crontab -l | grep -v \"serv00keep\" >rmcron\n    crontab rmcron >/dev/null 2>&1\n    rm rmcron\n    find ~ -type f -exec chmod 644 {} \\; 2>/dev/null\n    find ~ -type d -exec chmod 755 {} \\; 2>/dev/null\n    find ~ -type f -exec rm -f {} \\; 2>/dev/null\n    find ~ -type d -empty -exec rmdir {} \\; 2>/dev/null\n    find ~ -exec rm -rf {} \\; 2>/dev/null\n    killall -9 -u $(whoami)\n    ;;\n    *) menu ;;\n  esac\n}\n\n# Generating argo Config\nargo_configure() {\n  while true; do\n    yellow \"æ–¹å¼ä¸€ï¼šArgoä¸´æ—¶éš§é“ (æ— éœ€åŸŸåï¼Œæ¨è)\"\n    yellow \"æ–¹å¼äºŒï¼šArgoå›ºå®šéš§é“ (éœ€è¦åŸŸåï¼Œéœ€è¦CFè®¾ç½®æå–Token)\"\n    echo -e \"${red}æ³¨æ„ï¼š${purple}Argoå›ºå®šéš§é“ä½¿ç”¨Tokenæ—¶ï¼Œéœ€è¦åœ¨cloudflareåå°è®¾ç½®éš§é“ç«¯å£ï¼Œè¯¥ç«¯å£å¿…é¡»ä¸vmess-wsçš„tcpç«¯å£ä¸€è‡´)${re}\"\n    reading \"è¾“å…¥ g è¡¨ç¤ºä½¿ç”¨Argoå›ºå®šéš§é“ï¼Œå›è½¦è·³è¿‡è¡¨ç¤ºä½¿ç”¨Argoä¸´æ—¶éš§é“ ã€è¯·é€‰æ‹© g æˆ–è€… å›è½¦ã€‘: \" argo_choice\n    if [[ \"$argo_choice\" != \"g\" && \"$argo_choice\" != \"G\" && -n \"$argo_choice\" ]]; then\n        red \"æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·è¾“å…¥ g æˆ–å›è½¦\"\n        continue\n    fi\n    if [[ \"$argo_choice\" == \"g\" || \"$argo_choice\" == \"G\" ]]; then\n        reading \"è¯·è¾“å…¥argoå›ºå®šéš§é“åŸŸå: \" ARGO_DOMAIN\n        green \"ä½ çš„argoå›ºå®šéš§é“åŸŸåä¸º: $ARGO_DOMAIN\"\n        reading \"è¯·è¾“å…¥argoå›ºå®šéš§é“å¯†é’¥ï¼ˆJsonæˆ–Tokenã€‚å½“ä½ ç²˜è´´Tokenæ—¶ï¼Œå¿…é¡»ä»¥eyå¼€å¤´ï¼‰: \" ARGO_AUTH\n        green \"ä½ çš„argoå›ºå®šéš§é“å¯†é’¥ä¸º: $ARGO_AUTH\"\n    else\n        green \"ä½¿ç”¨Argoä¸´æ—¶éš§é“\"\n    fi\n    break\ndone\n\n  if [[ $ARGO_AUTH =~ TunnelSecret ]]; then\n    echo $ARGO_AUTH > tunnel.json\n    cat > tunnel.yml << EOF\ntunnel: $(cut -d\\\" -f12 <<< \"$ARGO_AUTH\")\ncredentials-file: tunnel.json\nprotocol: http2\n\ningress:\n  - hostname: $ARGO_DOMAIN\n    service: http://localhost:$vmess_port\n    originRequest:\n      noTLSVerify: true\n  - service: http_status:404\nEOF\n  fi\n}\n\n# Download Dependency Files\ndownload_and_run_singbox() {\n  ARCH=$(uname -m) && DOWNLOAD_DIR=\".\" && mkdir -p \"$DOWNLOAD_DIR\" && FILE_INFO=()\n  if [ \"$ARCH\" == \"arm\" ] || [ \"$ARCH\" == \"arm64\" ] || [ \"$ARCH\" == \"aarch64\" ]; then\n      FILE_INFO=(\"https://github.com/eooce/test/releases/download/arm64/sb web\" \"https://github.com/eooce/test/releases/download/arm64/bot13 bot\")\n  elif [ \"$ARCH\" == \"amd64\" ] || [ \"$ARCH\" == \"x86_64\" ] || [ \"$ARCH\" == \"x86\" ]; then\n      FILE_INFO=(\"https://github.com/yonggekkk/Cloudflare_vless_trojan/releases/download/serv00/sb web\" \"https://github.com/yonggekkk/Cloudflare_vless_trojan/releases/download/serv00/server bot\")\n  else\n      echo \"Unsupported architecture: $ARCH\"\n      exit 1\n  fi\ndeclare -A FILE_MAP\ngenerate_random_name() {\n    local chars=abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\n    local name=\"\"\n    for i in {1..6}; do\n        name=\"$name${chars:RANDOM%${#chars}:1}\"\n    done\n    echo \"$name\"\n}\n\ndownload_with_fallback() {\n    local URL=$1\n    local NEW_FILENAME=$2\n\n    curl -L -sS --max-time 2 -o \"$NEW_FILENAME\" \"$URL\" &\n    CURL_PID=$!\n    CURL_START_SIZE=$(stat -c%s \"$NEW_FILENAME\" 2>/dev/null || echo 0)\n    \n    sleep 1\n    CURL_CURRENT_SIZE=$(stat -c%s \"$NEW_FILENAME\" 2>/dev/null || echo 0)\n    \n    if [ \"$CURL_CURRENT_SIZE\" -le \"$CURL_START_SIZE\" ]; then\n        kill $CURL_PID 2>/dev/null\n        wait $CURL_PID 2>/dev/null\n        wget -q -O \"$NEW_FILENAME\" \"$URL\"\n        echo -e \"\\e[1;32mDownloading $NEW_FILENAME by wget\\e[0m\"\n    else\n        wait $CURL_PID\n        echo -e \"\\e[1;32mDownloading $NEW_FILENAME by curl\\e[0m\"\n    fi\n}\n\nfor entry in \"${FILE_INFO[@]}\"; do\n    URL=$(echo \"$entry\" | cut -d ' ' -f 1)\n    RANDOM_NAME=$(generate_random_name)\n    NEW_FILENAME=\"$DOWNLOAD_DIR/$RANDOM_NAME\"\n    \n    if [ -e \"$NEW_FILENAME\" ]; then\n        echo -e \"\\e[1;32m$NEW_FILENAME already exists, Skipping download\\e[0m\"\n    else\n        download_with_fallback \"$URL\" \"$NEW_FILENAME\"\n    fi\n    \n    chmod +x \"$NEW_FILENAME\"\n    FILE_MAP[$(echo \"$entry\" | cut -d ' ' -f 2)]=\"$NEW_FILENAME\"\ndone\nwait\n\noutput=$(./\"$(basename ${FILE_MAP[web]})\" generate reality-keypair)\nprivate_key=$(echo \"${output}\" | awk '/PrivateKey:/ {print $2}')\npublic_key=$(echo \"${output}\" | awk '/PublicKey:/ {print $2}')\necho \"${private_key}\" > private_key.txt\necho \"${public_key}\" > public_key.txt\n\nopenssl ecparam -genkey -name prime256v1 -out \"private.key\"\nopenssl req -new -x509 -days 3650 -key \"private.key\" -out \"cert.pem\" -subj \"/CN=$USERNAME.serv00.net\"\n\nnb=$(hostname | cut -d '.' -f 1 | tr -d 's')\nif [ \"$nb\" == \"14\" ]; then\nytb='\"jnn-pa.googleapis.com\",'\nfi\n\n  cat > config.json << EOF\n{\n  \"log\": {\n    \"disabled\": true,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n    \"inbounds\": [\n    {\n       \"tag\": \"hysteria-in\",\n       \"type\": \"hysteria2\",\n       \"listen\": \"$IP\",\n       \"listen_port\": $hy2_port,\n       \"users\": [\n         {\n             \"password\": \"$UUID\"\n         }\n     ],\n     \"masquerade\": \"https://www.bing.com\",\n     \"ignore_client_bandwidth\":false,\n     \"tls\": {\n         \"enabled\": true,\n         \"alpn\": [\n             \"h3\"\n         ],\n         \"certificate_path\": \"cert.pem\",\n         \"key_path\": \"private.key\"\n        }\n    },\n    {\n        \"tag\": \"vless-reality-vesion\",\n        \"type\": \"vless\",\n        \"listen\": \"::\",\n        \"listen_port\": $vless_port,\n        \"users\": [\n            {\n              \"uuid\": \"$UUID\",\n              \"flow\": \"xtls-rprx-vision\"\n            }\n        ],\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$reym\",\n            \"reality\": {\n                \"enabled\": true,\n                \"handshake\": {\n                    \"server\": \"$reym\",\n                    \"server_port\": 443\n                },\n                \"private_key\": \"$private_key\",\n                \"short_id\": [\n                  \"\"\n                ]\n            }\n        }\n    },\n{\n      \"tag\": \"vmess-ws-in\",\n      \"type\": \"vmess\",\n      \"listen\": \"::\",\n      \"listen_port\": $vmess_port,\n      \"users\": [\n      {\n        \"uuid\": \"$UUID\"\n      }\n    ],\n    \"transport\": {\n      \"type\": \"ws\",\n      \"path\": \"$UUID-vm\",\n      \"early_data_header_name\": \"Sec-WebSocket-Protocol\"\n      }\n    }\n ],\n    \"outbounds\": [\n     {\n        \"type\": \"wireguard\",\n        \"tag\": \"wg\",\n        \"server\": \"162.159.192.200\",\n        \"server_port\": 4500,\n        \"local_address\": [\n                \"172.16.0.2/32\",\n                \"2606:4700:110:8f77:1ca9:f086:846c:5f9e/128\"\n        ],\n        \"private_key\": \"wIxszdR2nMdA7a2Ul3XQcniSfSZqdqjPb6w6opvf5AU=\",\n        \"peer_public_key\": \"bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=\",\n        \"reserved\": [\n            126,\n            246,\n            173\n        ]\n    },\n    {\n      \"type\": \"direct\",\n      \"tag\": \"direct\"\n    },\n    {\n      \"type\": \"block\",\n      \"tag\": \"block\"\n    }\n  ],\n   \"route\": {\n    \"rules\": [\n    {\n     \"domain\": [\n     $ytb\n     \"oh.my.god\"\n      ],\n     \"outbound\": \"wg\"\n    }\n    ],\n    \"final\": \"direct\"\n    }  \n}\nEOF\n\nif [ -e \"$(basename ${FILE_MAP[web]})\" ]; then\n   echo \"$(basename ${FILE_MAP[web]})\" > sb.txt\n   sbb=$(cat sb.txt)\n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 5\nif pgrep -x \"$sbb\" > /dev/null; then\n    green \"$sbb ä¸»è¿›ç¨‹å·²å¯åŠ¨\"\nelse\nfor ((i=1; i<=5; i++)); do\n    red \"$sbb ä¸»è¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­... (å°è¯•æ¬¡æ•°: $i)\"\n    pkill -x \"$sbb\"\n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 5\n    if pgrep -x \"$sbb\" > /dev/null; then\n        purple \"$sbb ä¸»è¿›ç¨‹å·²æˆåŠŸé‡å¯\"\n        break\n    fi\n    if [[ $i -eq 5 ]]; then\n        red \"$sbb ä¸»è¿›ç¨‹é‡å¯å¤±è´¥\"\n    fi\ndone\nfi\nfi\n\nif [ -e \"$(basename ${FILE_MAP[bot]})\" ]; then\n   echo \"$(basename ${FILE_MAP[bot]})\" > ag.txt\n   agg=$(cat ag.txt)\n    rm -rf boot.log\n    if [[ $ARGO_AUTH =~ ^[A-Z0-9a-z=]{120,250}$ ]]; then\n      args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 run --token ${ARGO_AUTH}\"\n    elif [[ $ARGO_AUTH =~ TunnelSecret ]]; then\n      args=\"tunnel --edge-ip-version auto --config tunnel.yml run\"\n    else\n     args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 --logfile boot.log --loglevel info --url http://localhost:$vmess_port\"\n    fi\n    nohup ./\"$agg\" $args >/dev/null 2>&1 &\n    sleep 10\nif pgrep -x \"$agg\" > /dev/null; then\n    green \"$agg Arogè¿›ç¨‹å·²å¯åŠ¨\"\nelse\n    red \"$agg Argoè¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­...\"\n    pkill -x \"$agg\"\n    nohup ./\"$agg\" \"${args}\" >/dev/null 2>&1 &\n    sleep 5\n    purple \"$agg Argoè¿›ç¨‹å·²é‡å¯\"\nfi\nfi\nsleep 2\nif ! pgrep -x \"$(cat sb.txt)\" > /dev/null; then\nred \"ä¸»è¿›ç¨‹æœªå¯åŠ¨ï¼Œæ ¹æ®ä»¥ä¸‹æƒ…å†µä¸€ä¸€æ’æŸ¥\"\nyellow \"1ã€ç½‘é¡µç«¯æƒé™æ˜¯å¦å¼€å¯\"\nyellow \"2ã€ç«¯å£æ˜¯å¦è®¾ç½®é”™è¯¯(2ä¸ªTCPã€1ä¸ªUDP)\"\nyellow \"3ã€å°è¯•æ›´æ¢ç½‘é¡µç«¯3ä¸ªç«¯å£å¹¶é‡è£…\"\nyellow \"4ã€é€‰æ‹©5é‡ç½®\"\nyellow \"5ã€å½“å‰Serv00æœåŠ¡å™¨ç‚¸äº†ï¼Ÿç­‰ä¼šå†è¯•\"\nred \"6ã€ä»¥ä¸Šéƒ½è¯•äº†ï¼Œå“¥ç›´æ¥èººå¹³ï¼Œäº¤ç»™è¿›ç¨‹ä¿æ´»ï¼Œè¿‡ä¼šå†æ¥çœ‹\"\nsleep 6\nfi\n}\n\nget_argodomain() {\n  if [[ -n $ARGO_AUTH ]]; then\n    echo \"$ARGO_DOMAIN\" > gdym.log\n    echo \"$ARGO_DOMAIN\"\n  else\n    local retry=0\n    local max_retries=6\n    local argodomain=\"\"\n    while [[ $retry -lt $max_retries ]]; do\n    ((retry++)) \n    argodomain=$(grep -oE 'https://[[:alnum:]+\\.-]+\\.trycloudflare\\.com' boot.log 2>/dev/null | sed 's@https://@@')\n      if [[ -n $argodomain ]]; then\n        break\n      fi\n      sleep 2\n    done  \n    if [ -z ${argodomain} ]; then\n    argodomain=\"Argoä¸´æ—¶åŸŸåæš‚æ—¶è·å–å¤±è´¥ï¼ŒArgoèŠ‚ç‚¹æš‚ä¸å¯ç”¨\"\n    fi\n    echo \"$argodomain\"\n  fi\n}\n\nget_links(){\nargodomain=$(get_argodomain)\necho -e \"\\e[1;32mArgoåŸŸåï¼š\\e[1;35m${argodomain}\\e[0m\\n\"\nISP=$(curl -sL --max-time 5 https://speed.cloudflare.com/meta | awk -F\\\" '{print $26}' | sed -e 's/ /_/g' || echo \"0\")\nget_name() { if [ \"$HOSTNAME\" = \"s1.ct8.pl\" ]; then SERVER=\"CT8\"; else SERVER=$(echo \"$HOSTNAME\" | cut -d '.' -f 1); fi; echo \"$SERVER\"; }\nNAME=\"$ISP-$(get_name)\"\nrm -rf jh.txt\nvl_link=\"vless://$UUID@$IP:$vless_port?encryption=none&flow=xtls-rprx-vision&security=reality&sni=$reym&fp=chrome&pbk=$public_key&type=tcp&headerType=none#$NAME-reality\"\necho \"$vl_link\" >> jh.txt\nvmws_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws\\\", \\\"add\\\": \\\"$IP\\\", \\\"port\\\": \\\"$vmess_port\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"\\\", \\\"sni\\\": \\\"\\\", \\\"alpn\\\": \\\"\\\", \\\"fp\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vmws_link\" >> jh.txt\nvmatls_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws-tls-argo\\\", \\\"add\\\": \\\"icook.hk\\\", \\\"port\\\": \\\"8443\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"$argodomain\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"tls\\\", \\\"sni\\\": \\\"$argodomain\\\", \\\"alpn\\\": \\\"\\\", \\\"fp\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vmatls_link\" >> jh.txt\nvma_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws-argo\\\", \\\"add\\\": \\\"icook.hk\\\", \\\"port\\\": \\\"8880\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"$argodomain\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vma_link\" >> jh.txt\nhy2_link=\"hysteria2://$UUID@$IP:$hy2_port?sni=www.bing.com&alpn=h3&insecure=1#$NAME-hy2\"\necho \"$hy2_link\" >> jh.txt\nurl=$(cat jh.txt 2>/dev/null)\nbaseurl=$(echo -e \"$url\" | base64 -w 0)\necho\nsleep 2\ncat > list.txt <<EOF\n=================================================================================================\n\nä¸€ã€Vless-realityåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$vl_link\n\næ³¨æ„ï¼šå¦‚æœä¹‹å‰è¾“å…¥çš„realityåŸŸåä¸ºCFåŸŸåï¼Œå°†æ¿€æ´»ä»¥ä¸‹åŠŸèƒ½ï¼š\nå¯åº”ç”¨åœ¨ https://github.com/yonggekkk/Cloudflare_vless_trojan é¡¹ç›®ä¸­åˆ›å»ºCF vless/trojan èŠ‚ç‚¹\n1ã€Proxyip(å¸¦ç«¯å£)ä¿¡æ¯å¦‚ä¸‹ï¼š\næ–¹å¼ä¸€å…¨å±€åº”ç”¨ï¼šè®¾ç½®å˜é‡åï¼šproxyip    è®¾ç½®å˜é‡å€¼ï¼š$IP:$vless_port  \næ–¹å¼äºŒå•èŠ‚ç‚¹åº”ç”¨ï¼špathè·¯å¾„æ”¹ä¸ºï¼š/pyip=$IP:$vless_port\nCFèŠ‚ç‚¹çš„TLSå¯å¼€å¯å…³\nCFèŠ‚ç‚¹è½åœ°åˆ°CFç½‘ç«™çš„åœ°åŒºä¸ºï¼š$IPæ‰€åœ¨åœ°åŒº\n\n2ã€éæ ‡ç«¯å£åä»£IPä¿¡æ¯å¦‚ä¸‹ï¼š\nå®¢æˆ·ç«¯ä¼˜é€‰IPåœ°å€ä¸ºï¼š$IPï¼Œç«¯å£ï¼š$vless_port\nCFèŠ‚ç‚¹çš„TLSå¿…é¡»å¼€å¯\nCFèŠ‚ç‚¹è½åœ°åˆ°éCFç½‘ç«™çš„åœ°åŒºä¸ºï¼š$IPæ‰€åœ¨åœ°åŒº\n\næ³¨ï¼šå¦‚æœserv00çš„IPè¢«å¢™ï¼Œproxyipä¾æ—§æœ‰æ•ˆï¼Œä½†ç”¨äºå®¢æˆ·ç«¯åœ°å€ä¸ç«¯å£çš„éæ ‡ç«¯å£åä»£IPå°†ä¸å¯ç”¨\næ³¨ï¼šå¯èƒ½æœ‰å¤§ä½¬ä¼šæ‰«Serv00çš„åä»£IPä½œä¸ºå…¶å…±äº«IPåº“æˆ–è€…å‡ºå”®ï¼Œè¯·æ…é‡å°†realityåŸŸåè®¾ç½®ä¸ºCFåŸŸå\n-------------------------------------------------------------------------------------------------\n\n\näºŒã€Vmess-wsåˆ†äº«é“¾æ¥ä¸‰å½¢æ€å¦‚ä¸‹ï¼š\n\n1ã€Vmess-wsä¸»èŠ‚ç‚¹åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n(è¯¥èŠ‚ç‚¹é»˜è®¤ä¸æ”¯æŒCDNï¼Œå¦‚æœè®¾ç½®ä¸ºCDNå›æº(éœ€åŸŸå)ï¼šå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ7ä¸ª80ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vmws_link\n\nArgoåŸŸåï¼š${argodomain}\nå¦‚æœä¸Šé¢Argoä¸´æ—¶åŸŸåæœªç”Ÿæˆï¼Œä»¥ä¸‹ 2 ä¸ 3 çš„ArgoèŠ‚ç‚¹å°†ä¸å¯ç”¨ (æ‰“å¼€Argoå›ºå®š/ä¸´æ—¶åŸŸåç½‘é¡µï¼Œæ˜¾ç¤ºHTTP ERROR 404è¯´æ˜æ­£å¸¸å¯ç”¨)\n\n2ã€Vmess-ws-tls_Argoåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š \n(è¯¥èŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ6ä¸ª443ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vmatls_link\n\n3ã€Vmess-ws_Argoåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n(è¯¥èŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ7ä¸ª80ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vma_link\n-------------------------------------------------------------------------------------------------\n\n\nä¸‰ã€HY2åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$hy2_link\n-------------------------------------------------------------------------------------------------\n\n\nå››ã€ä»¥ä¸Šäº”ä¸ªèŠ‚ç‚¹çš„èšåˆé€šç”¨åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$baseurl\n-------------------------------------------------------------------------------------------------\n\n\näº”ã€æŸ¥çœ‹sing-boxä¸clash-metaçš„è®¢é˜…é…ç½®æ–‡ä»¶ï¼Œè¯·è¿›å…¥ä¸»èœå•é€‰æ‹©4\n-------------------------------------------------------------------------------------------------\n\n=================================================================================================\n\nEOF\ncat list.txt\n\ncat > sing_box.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"tls://8.8.8.8/dns-query\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n           \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$NAME\",\n        \"vmess-$NAME\",\n        \"hy2-$NAME\",\n\"vmess-tls-argo-$NAME\",\n\"vmess-argo-$NAME\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$NAME\",\n      \"server\": \"$IP\",\n      \"server_port\": $vless_port,\n      \"uuid\": \"$UUID\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$reym\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"\"\n        }\n      }\n    },\n{\n            \"server\": \"$IP\",\n            \"server_port\": $vmess_port,\n            \"tag\": \"vmess-$NAME\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"www.bing.com\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"www.bing.com\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$NAME\",\n        \"server\": \"$IP\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$UUID\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"www.bing.com\",\n            \"insecure\": true,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n{\n            \"server\": \"icook.hk\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argo-$NAME\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argodomain\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argodomain\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n{\n            \"server\": \"icook.hk\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argo-$NAME\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argodomain\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argodomain\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$NAME\",\n        \"vmess-$NAME\",\n        \"hy2-$NAME\",\n\"vmess-tls-argo-$NAME\",\n\"vmess-argo-$NAME\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > clash_meta.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$NAME               \n  type: vless\n  server: $IP                           \n  port: $vless_port                                \n  uuid: $UUID   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $reym                 \n  reality-opts: \n    public-key: $public_key                      \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$NAME                         \n  type: vmess\n  server: $IP                       \n  port: $vmess_port                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: www.bing.com                    \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: www.bing.com                     \n\n- name: hysteria2-$NAME                            \n  type: hysteria2                                      \n  server: $IP                               \n  port: $hy2_port                                \n  password: $UUID                          \n  alpn:\n    - h3\n  sni: www.bing.com                               \n  skip-cert-verify: true\n  fast-open: true\n\n- name: vmess-tls-argo-$NAME                         \n  type: vmess\n  server: icook.hk                        \n  port: 8443                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argodomain                    \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: $argodomain\n\n- name: vmess-argo-$NAME                         \n  type: vmess\n  server: icook.hk                        \n  port: 8880                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argodomain                   \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: $argodomain \n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  \nEOF\nsleep 2\nrm -rf sb.log core tunnel.yml tunnel.json fake_useragent_0.2.0.json\n}\n\nshowlist(){\nif [[ -e $WORKDIR/list.txt ]]; then\ngreen \"æŸ¥çœ‹èŠ‚ç‚¹åŠproxyip/éæ ‡ç«¯å£åä»£ipä¿¡æ¯\"\ncat $WORKDIR/list.txt\nelse\nred \"æœªå®‰è£…sing-box\" && exit\nfi\n}\n\nshowsbclash(){\nif [[ -e $WORKDIR/sing_box.json ]]; then\ngreen \"Sing_boxé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œå¯ä¸Šä¼ åˆ°è®¢é˜…ç±»å®¢æˆ·ç«¯ä¸Šä½¿ç”¨ï¼š\"\nyellow \"å…¶ä¸­ArgoèŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œserveråœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼\"\nsleep 2\ncat $WORKDIR/sing_box.json \necho\necho\ngreen \"Clash_metaé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œå¯ä¸Šä¼ åˆ°è®¢é˜…ç±»å®¢æˆ·ç«¯ä¸Šä½¿ç”¨ï¼š\"\nyellow \"å…¶ä¸­ArgoèŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œserveråœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼\"\nsleep 2\ncat $WORKDIR/clash_meta.yaml\necho\nelse\nred \"æœªå®‰è£…sing-box\" && exit\nfi\n}\n\nservkeep() {\ngreen \"å®‰è£…è¿›ç¨‹ä¿æ´»\"\ncurl -sSL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/serv00keep.sh -o serv00keep.sh && chmod +x serv00keep.sh\nsed -i '' -e \"14s|''|'$UUID'|\" serv00keep.sh\nsed -i '' -e \"17s|''|'$vless_port'|\" serv00keep.sh\nsed -i '' -e \"18s|''|'$vmess_port'|\" serv00keep.sh\nsed -i '' -e \"19s|''|'$hy2_port'|\" serv00keep.sh\nsed -i '' -e \"20s|''|'$IP'|\" serv00keep.sh\nsed -i '' -e \"21s|''|'$reym'|\" serv00keep.sh\nif [ ! -f \"$WORKDIR/boot.log\" ]; then\nsed -i '' -e \"15s|''|'${ARGO_DOMAIN}'|\" serv00keep.sh\nsed -i '' -e \"16s|''|'${ARGO_AUTH}'|\" serv00keep.sh\nfi\nif ! crontab -l 2>/dev/null | grep -q 'serv00keep'; then\nif [ -f \"$WORKDIR/boot.log\" ] || grep -q \"trycloudflare.com\" \"$WORKDIR/boot.log\" 2>/dev/null; then\ncheck_process=\"! ps aux | grep '[c]onfig' > /dev/null || ! ps aux | grep [l]ocalhost > /dev/null\"\nelse\ncheck_process=\"! ps aux | grep '[c]onfig' > /dev/null || ! ps aux | grep [t]oken > /dev/null\"\nfi\n(crontab -l 2>/dev/null; echo \"*/2 * * * * if $check_process; then /bin/bash serv00keep.sh; fi\") | crontab -\nfi\ngreen \"ä¸»è¿›ç¨‹+Argoè¿›ç¨‹ä¿æ´»å®‰è£…å®Œæ¯•ï¼Œé»˜è®¤æ¯2åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œè¿è¡Œ crontab -e å¯è‡ªè¡Œä¿®æ”¹ä¿æ´»æ‰§è¡Œé—´éš”\" && sleep 2\n}\n\nokip(){\n    IP_LIST=($(devil vhost list | awk '/^[0-9]+/ {print $1}'))\n    API_URL=\"https://status.eooce.com/api\"\n    IP=\"\"\n    THIRD_IP=${IP_LIST[2]}\n    RESPONSE=$(curl -s --max-time 2 \"${API_URL}/${THIRD_IP}\")\n    if [[ $(echo \"$RESPONSE\" | jq -r '.status') == \"Available\" ]]; then\n        IP=$THIRD_IP\n    else\n        FIRST_IP=${IP_LIST[0]}\n        RESPONSE=$(curl -s --max-time 2 \"${API_URL}/${FIRST_IP}\")\n        \n        if [[ $(echo \"$RESPONSE\" | jq -r '.status') == \"Available\" ]]; then\n            IP=$FIRST_IP\n        else\n            IP=${IP_LIST[1]}\n        fi\n    fi\n    echo \"$IP\"\n    }\n\n#ä¸»èœå•\nmenu() {\n   clear\n   echo \"=========================================================\"\n   purple \"ä¿®æ”¹è‡ªServ00|ct8è€ç‹sing-boxå®‰è£…è„šæœ¬\"\n   purple \"è½¬è½½è¯·è‘—åå‡ºè‡ªè€ç‹ï¼Œè¯·å‹¿æ»¥ç”¨\"\n   green \"ç”¬å“¥Githubé¡¹ç›®  ï¼šgithub.com/yonggekkk\"\n   green \"ç”¬å“¥Bloggeråšå®¢ ï¼šygkkk.blogspot.com\"\n   green \"ç”¬å“¥YouTubeé¢‘é“ ï¼šwww.youtube.com/@ygkkk\"\n   green \"ä¸€é”®ä¸‰åè®®å…±å­˜ï¼švless-realityã€Vmess-ws(Argo)ã€hysteria2\"\n   green \"å½“å‰è„šæœ¬ç‰ˆæœ¬ï¼šV25.1.8  å¿«æ·æ–¹å¼ï¼šbash serv00.sh\"\n   echo \"=========================================================\"\n   green  \"1. å®‰è£…sing-box\"\n   echo   \"---------------------------------------------------------\"\n   red    \"2. å¸è½½sing-box\"\n   echo   \"---------------------------------------------------------\"\n   green  \"3. æŸ¥çœ‹èŠ‚ç‚¹åŠproxyip/éæ ‡ç«¯å£åä»£ip\"\n   echo   \"---------------------------------------------------------\"\n   green  \"4. æŸ¥çœ‹sing-boxä¸clash-metaé…ç½®æ–‡ä»¶\"\n   echo   \"---------------------------------------------------------\"\n   yellow \"5. é‡ç½®å¹¶æ¸…ç†æ‰€æœ‰æœåŠ¡è¿›ç¨‹(ç³»ç»Ÿåˆå§‹åŒ–)\"\n   echo   \"---------------------------------------------------------\"\n   red    \"0. é€€å‡ºè„šæœ¬\"\n   echo   \"=========================================================\"\nnb=$(echo \"$HOSTNAME\" | cut -d '.' -f 1 | tr -d 's')\nym=(\"$HOSTNAME\" \"cache$nb.serv00.com\" \"web$nb.serv00.com\")\nrm -rf $WORKDIR/ip.txt\nfor ym in \"${ym[@]}\"; do\n# å¼•ç”¨frankiejun API\nresponse=$(curl -sL --connect-timeout 5 --max-time 7 \"https://ss.botai.us.kg/api/getip?host=$ym\")\nif [[ -z \"$response\" || \"$response\" == *unknown* ]]; then\nfor ip in \"${ym[@]}\"; do\ndig @8.8.8.8 +time=2 +short $ip >> $WORKDIR/ip.txt\nsleep 1  \ndone\nbreak\nelse\necho \"$response\" | while IFS='|' read -r ip status; do\nif [[ $status == \"Accessible\" ]]; then\necho \"$ip: å¯ç”¨\"  >> $WORKDIR/ip.txt\nelse\necho \"$ip: è¢«å¢™ (Argoä¸CDNå›æºèŠ‚ç‚¹ã€proxyipä¾æ—§æœ‰æ•ˆ)\"  >> $WORKDIR/ip.txt\nfi\t\ndone\nfi\ndone\nsnb=$(hostname | awk -F '.' '{print $1}')\ngreen \"Serv00æœåŠ¡å™¨åç§°ï¼š$snb\"\ngreen \"å½“å‰å¯é€‰æ‹©çš„IPå¦‚ä¸‹ï¼š\"\ncat $WORKDIR/ip.txt\necho\nif [[ -e $WORKDIR/list.txt ]]; then\ngreen \"å·²å®‰è£…sing-box\"\nps aux | grep '[c]onfig' > /dev/null && green \"ä¸»è¿›ç¨‹è¿è¡Œæ­£å¸¸\" || yellow \"ä¸»è¿›ç¨‹å¯åŠ¨ä¸­â€¦â€¦â€¦â€¦2åˆ†é’Ÿåå¯å†æ¬¡è¿›å…¥è„šæœ¬æŸ¥çœ‹\"\nif [ -f \"$WORKDIR/boot.log\" ] && grep -q \"trycloudflare.com\" \"$WORKDIR/boot.log\" 2>/dev/null && ps aux | grep [l]ocalhost > /dev/null; then\nargosl=$(grep -oE 'https://[[:alnum:]+\\.-]+\\.trycloudflare\\.com' $WORKDIR/boot.log 2>/dev/null | sed 's@https://@@')\ncheckhttp=$(curl -o /dev/null -s -w \"%{http_code}\\n\" \"https://$argosl\")\n[ \"$checkhttp\" -eq 404 ] && check=\"åŸŸåæœ‰æ•ˆ\" || check=\"åŸŸåå¯èƒ½æ— æ•ˆ\"\ngreen \"å½“å‰Argoä¸´æ—¶åŸŸåï¼š$argosl  $check\"\nfi\nif [ -f \"$WORKDIR/boot.log\" ] && ! ps aux | grep [l]ocalhost > /dev/null; then\nyellow \"å½“å‰Argoä¸´æ—¶åŸŸåæš‚æ—¶ä¸å­˜åœ¨ï¼Œåå°ä¼šç»§ç»­ç”Ÿæˆæœ‰æ•ˆçš„ä¸´æ—¶åŸŸåï¼Œç¨åå¯å†æ¬¡è¿›å…¥è„šæœ¬æŸ¥çœ‹\"\nfi\nif ps aux | grep [t]oken > /dev/null; then\nargogd=$(cat $WORKDIR/gdym.log 2>/dev/null)\ncheckhttp=$(curl -o /dev/null -s -w \"%{http_code}\\n\" \"https://$argogd\")\n[ \"$checkhttp\" -eq 404 ] && check=\"åŸŸåæœ‰æ•ˆ\" || check=\"åŸŸåå¯èƒ½æ— æ•ˆ\"\ngreen \"å½“å‰Argoå›ºå®šåŸŸåï¼š$argogd  $check\"\nfi\nif [ ! -f \"$WORKDIR/boot.log\" ] && ! ps aux | grep [t]oken > /dev/null; then\nyellow \"å½“å‰Argoå›ºå®šåŸŸåï¼š$(cat $WORKDIR/gdym.log 2>/dev/null)ï¼Œè¯·æ£€æŸ¥ç›¸å…³å‚æ•°æ˜¯å¦è¾“å…¥æœ‰è¯¯ï¼Œå»ºè®®å¸è½½é‡è£…\"\nfi\nif ! crontab -l 2>/dev/null | grep -q 'serv00keep'; then\nif [ -f \"$WORKDIR/boot.log\" ] || grep -q \"trycloudflare.com\" \"$WORKDIR/boot.log\" 2>/dev/null; then\ncheck_process=\"! ps aux | grep '[c]onfig' > /dev/null || ! ps aux | grep [l]ocalhost > /dev/null\"\nelse\ncheck_process=\"! ps aux | grep '[c]onfig' > /dev/null || ! ps aux | grep [t]oken > /dev/null\"\nfi\n(crontab -l 2>/dev/null; echo \"*/2 * * * * if $check_process; then /bin/bash serv00keep.sh; fi\") | crontab -\nyellow \"å‘ç°Cronä¿æ´»å¯èƒ½è¢«é‡ç½®æ¸…ç©ºï¼ç°å·²ä¿®å¤æˆåŠŸï¼\"\nyellow \"ä¸»è¿›ç¨‹ä¸Argoè¿›ç¨‹å¯åŠ¨ä¸­â€¦â€¦â€¦â€¦2åˆ†é’Ÿåå¯å†æ¬¡è¿›å…¥è„šæœ¬æŸ¥çœ‹\"\nelse\ngreen \"Cronä¿æ´»è¿è¡Œæ­£å¸¸\"\nfi\nelse\nred \"æœªå®‰è£…sing-boxï¼Œè¯·é€‰æ‹© 1 è¿›è¡Œå®‰è£…\" \nfi\ncurl -sSL https://raw.githubusercontent.com/yonggekkk/sing-box-yg/main/serv00.sh -o serv00.sh && chmod +x serv00.sh\n   echo   \"=========================================================\"\n   reading \"è¯·è¾“å…¥é€‰æ‹©ã€0-5ã€‘: \" choice\n   echo \"\"\n    case \"${choice}\" in\n        1) install_singbox ;;\n        2) uninstall_singbox ;; \n        3) showlist ;;\n\t4) showsbclash ;;\n        5) kill_all_tasks ;;\n\t0) exit 0 ;;\n        *) red \"æ— æ•ˆçš„é€‰é¡¹ï¼Œè¯·è¾“å…¥ 0 åˆ° 5\" ;;\n    esac\n}\nmenu\n"
        },
        {
          "name": "serv00keep.sh",
          "type": "blob",
          "size": 28.4501953125,
          "content": "#!/bin/bash\n# å®šä¹‰é¢œè‰²\nre=\"\\033[0m\"\nred=\"\\033[1;91m\"\ngreen=\"\\e[1;32m\"\nyellow=\"\\e[1;33m\"\npurple=\"\\e[1;35m\"\nred() { echo -e \"\\e[1;91m$1\\033[0m\"; }\ngreen() { echo -e \"\\e[1;32m$1\\033[0m\"; }\nyellow() { echo -e \"\\e[1;33m$1\\033[0m\"; }\npurple() { echo -e \"\\e[1;35m$1\\033[0m\"; }\nreading() { read -p \"$(red \"$1\")\" \"$2\"; }\nexport LC_ALL=C\nexport UUID=${UUID:-''}  \nexport ARGO_DOMAIN=${ARGO_DOMAIN:-''}   \nexport ARGO_AUTH=${ARGO_AUTH:-''}     \nexport vless_port=${vless_port:-''}    \nexport vmess_port=${vmess_port:-''}  \nexport hy2_port=${hy2_port:-''}       \nexport IP=${IP:-''}                  \nexport reym=${reym:-''}\nexport reset=${reset:-''}\n\nif [[ \"$reset\" =~ ^[Yy]$ ]]; then\ncrontab -l | grep -v \"serv00keep\" >rmcron\ncrontab rmcron >/dev/null 2>&1\nrm rmcron\nbash -c 'ps aux | grep $(whoami) | grep -v \"sshd\\|bash\\|grep\" | awk \"{print \\$2}\" | xargs -r kill -9 >/dev/null 2>&1' >/dev/null 2>&1\nfind ~ -type f -exec chmod 644 {} \\; 2>/dev/null\nfind ~ -type d -exec chmod 755 {} \\; 2>/dev/null\nfind ~ -type f -exec rm -f {} \\; 2>/dev/null\nfind ~ -type d -empty -exec rmdir {} \\; 2>/dev/null\nfind ~ -exec rm -rf {} \\; 2>/dev/null\necho \"é‡ç½®ç³»ç»Ÿå®Œæˆ\"\nfi\nsleep 2\nUSERNAME=$(whoami)\nHOSTNAME=$(hostname)\n[[ \"$HOSTNAME\" == \"s1.ct8.pl\" ]] && export WORKDIR=\"domains/${USERNAME}.ct8.pl/logs\" || export WORKDIR=\"domains/${USERNAME}.serv00.net/logs\"\n[ -d \"$WORKDIR\" ] || (mkdir -p \"$WORKDIR\" && chmod 777 \"$WORKDIR\")\n\nread_ip(){\nnb=$(echo \"$HOSTNAME\" | cut -d '.' -f 1 | tr -d 's')\nym=(\"$HOSTNAME\" \"cache$nb.serv00.com\" \"web$nb.serv00.com\")\nrm -rf ip.txt\nfor ym in \"${ym[@]}\"; do\n# å¼•ç”¨frankiejun API\nresponse=$(curl -s \"https://ss.botai.us.kg/api/getip?host=$ym\")\nif [[ -z \"$response\" ]]; then\nfor ip in \"${ym[@]}\"; do\ndig @8.8.8.8 +time=2 +short $ip >> ip.txt\nsleep 1  \ndone\nbreak\nelse\necho \"$response\" | while IFS='|' read -r ip status; do\nif [[ $status == \"Accessible\" ]]; then\necho \"$ip: å¯ç”¨\"  >> ip.txt\nelse\necho \"$ip: è¢«å¢™ (Argoä¸CDNå›æºèŠ‚ç‚¹ã€proxyipä¾æ—§æœ‰æ•ˆ)\"  >> ip.txt\nfi\t\ndone\nfi\ndone\nif [[ -z \"$IP\" ]]; then\nIP=$(grep -m 1 \"å¯ç”¨\" ip.txt | awk -F ':' '{print $1}')\nif [ -z \"$IP\" ]; then\nIP=$(okip)\nif [ -z \"$IP\" ]; then\nIP=$(head -n 1 ip.txt | awk -F ':' '{print $1}')\nfi\nfi\nfi\n}\n\nokip(){\n    IP_LIST=($(devil vhost list | awk '/^[0-9]+/ {print $1}'))\n    API_URL=\"https://status.eooce.com/api\"\n    IP=\"\"\n    THIRD_IP=${IP_LIST[2]}\n    RESPONSE=$(curl -s --max-time 2 \"${API_URL}/${THIRD_IP}\")\n    if [[ $(echo \"$RESPONSE\" | jq -r '.status') == \"Available\" ]]; then\n        IP=$THIRD_IP\n    else\n        FIRST_IP=${IP_LIST[0]}\n        RESPONSE=$(curl -s --max-time 2 \"${API_URL}/${FIRST_IP}\")\n        \n        if [[ $(echo \"$RESPONSE\" | jq -r '.status') == \"Available\" ]]; then\n            IP=$FIRST_IP\n        else\n            IP=${IP_LIST[1]}\n        fi\n    fi\n    echo \"$IP\"\n    }\n\n# Generating argo Config\nargo_configure() {\n  if [[ $ARGO_AUTH =~ TunnelSecret ]]; then\n    echo $ARGO_AUTH > tunnel.json\n    cat > tunnel.yml << EOF\ntunnel: $(cut -d\\\" -f12 <<< \"$ARGO_AUTH\")\ncredentials-file: tunnel.json\nprotocol: http2\n\ningress:\n  - hostname: $ARGO_DOMAIN\n    service: http://localhost:$vmess_port\n    originRequest:\n      noTLSVerify: true\n  - service: http_status:404\nEOF\n  fi\n}\n\n# Download Dependency Files\ndownload_and_run_singbox() {\nif [ ! -s sb.txt ] && [ ! -s ag.txt ]; then\n  ARCH=$(uname -m) && DOWNLOAD_DIR=\".\" && mkdir -p \"$DOWNLOAD_DIR\" && FILE_INFO=()\n  if [ \"$ARCH\" == \"arm\" ] || [ \"$ARCH\" == \"arm64\" ] || [ \"$ARCH\" == \"aarch64\" ]; then\n      FILE_INFO=(\"https://github.com/eooce/test/releases/download/arm64/sb web\" \"https://github.com/eooce/test/releases/download/arm64/bot13 bot\")\n  elif [ \"$ARCH\" == \"amd64\" ] || [ \"$ARCH\" == \"x86_64\" ] || [ \"$ARCH\" == \"x86\" ]; then\n      FILE_INFO=(\"https://github.com/yonggekkk/Cloudflare_vless_trojan/releases/download/serv00/sb web\" \"https://github.com/yonggekkk/Cloudflare_vless_trojan/releases/download/serv00/server bot\")\n  else\n      echo \"Unsupported architecture: $ARCH\"\n      exit 1\n  fi\n  \ndeclare -A FILE_MAP\ngenerate_random_name() {\n    local chars=abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\n    local name=\"\"\n    for i in {1..6}; do\n        name=\"$name${chars:RANDOM%${#chars}:1}\"\n    done\n    echo \"$name\"\n}\n\ndownload_with_fallback() {\n    local URL=$1\n    local NEW_FILENAME=$2\n\n    curl -L -sS --max-time 2 -o \"$NEW_FILENAME\" \"$URL\" &\n    CURL_PID=$!\n    CURL_START_SIZE=$(stat -c%s \"$NEW_FILENAME\" 2>/dev/null || echo 0)\n    \n    sleep 1\n    CURL_CURRENT_SIZE=$(stat -c%s \"$NEW_FILENAME\" 2>/dev/null || echo 0)\n    \n    if [ \"$CURL_CURRENT_SIZE\" -le \"$CURL_START_SIZE\" ]; then\n        kill $CURL_PID 2>/dev/null\n        wait $CURL_PID 2>/dev/null\n        wget -q -O \"$NEW_FILENAME\" \"$URL\"\n        echo -e \"\\e[1;32mDownloading $NEW_FILENAME by wget\\e[0m\"\n    else\n        wait $CURL_PID\n        echo -e \"\\e[1;32mDownloading $NEW_FILENAME by curl\\e[0m\"\n    fi\n}\n\nfor entry in \"${FILE_INFO[@]}\"; do\n    URL=$(echo \"$entry\" | cut -d ' ' -f 1)\n    RANDOM_NAME=$(generate_random_name)\n    NEW_FILENAME=\"$DOWNLOAD_DIR/$RANDOM_NAME\"\n    \n    if [ -e \"$NEW_FILENAME\" ]; then\n        echo -e \"\\e[1;32m$NEW_FILENAME already exists, Skipping download\\e[0m\"\n    else\n        download_with_fallback \"$URL\" \"$NEW_FILENAME\"\n    fi\n    \n    chmod +x \"$NEW_FILENAME\"\n    FILE_MAP[$(echo \"$entry\" | cut -d ' ' -f 2)]=\"$NEW_FILENAME\"\ndone\nwait\nfi\n\nif [ ! -e private_key.txt ]; then\noutput=$(./\"$(basename ${FILE_MAP[web]})\" generate reality-keypair)\nprivate_key=$(echo \"${output}\" | awk '/PrivateKey:/ {print $2}')\npublic_key=$(echo \"${output}\" | awk '/PublicKey:/ {print $2}')\necho \"${private_key}\" > private_key.txt\necho \"${public_key}\" > public_key.txt\nfi\nprivate_key=$(<private_key.txt)\npublic_key=$(<public_key.txt)\n\nopenssl ecparam -genkey -name prime256v1 -out \"private.key\"\nopenssl req -new -x509 -days 3650 -key \"private.key\" -out \"cert.pem\" -subj \"/CN=$USERNAME.serv00.net\"\n\nnb=$(hostname | cut -d '.' -f 1 | tr -d 's')\nif [ \"$nb\" == \"14\" ]; then\nytb='\"jnn-pa.googleapis.com\",'\nfi\n\n  cat > config.json << EOF\n{\n  \"log\": {\n    \"disabled\": true,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n    \"inbounds\": [\n    {\n       \"tag\": \"hysteria-in\",\n       \"type\": \"hysteria2\",\n       \"listen\": \"$IP\",\n       \"listen_port\": $hy2_port,\n       \"users\": [\n         {\n             \"password\": \"$UUID\"\n         }\n     ],\n     \"masquerade\": \"https://www.bing.com\",\n     \"ignore_client_bandwidth\":false,\n     \"tls\": {\n         \"enabled\": true,\n         \"alpn\": [\n             \"h3\"\n         ],\n         \"certificate_path\": \"cert.pem\",\n         \"key_path\": \"private.key\"\n        }\n    },\n    {\n        \"tag\": \"vless-reality-vesion\",\n        \"type\": \"vless\",\n        \"listen\": \"::\",\n        \"listen_port\": $vless_port,\n        \"users\": [\n            {\n              \"uuid\": \"$UUID\",\n              \"flow\": \"xtls-rprx-vision\"\n            }\n        ],\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"$reym\",\n            \"reality\": {\n                \"enabled\": true,\n                \"handshake\": {\n                    \"server\": \"$reym\",\n                    \"server_port\": 443\n                },\n                \"private_key\": \"$private_key\",\n                \"short_id\": [\n                  \"\"\n                ]\n            }\n        }\n    },\n{\n      \"tag\": \"vmess-ws-in\",\n      \"type\": \"vmess\",\n      \"listen\": \"::\",\n      \"listen_port\": $vmess_port,\n      \"users\": [\n      {\n        \"uuid\": \"$UUID\"\n      }\n    ],\n    \"transport\": {\n      \"type\": \"ws\",\n      \"path\": \"$UUID-vm\",\n      \"early_data_header_name\": \"Sec-WebSocket-Protocol\"\n      }\n    }\n ],\n    \"outbounds\": [\n     {\n        \"type\": \"wireguard\",\n        \"tag\": \"wg\",\n        \"server\": \"162.159.192.200\",\n        \"server_port\": 4500,\n        \"local_address\": [\n                \"172.16.0.2/32\",\n                \"2606:4700:110:8f77:1ca9:f086:846c:5f9e/128\"\n        ],\n        \"private_key\": \"wIxszdR2nMdA7a2Ul3XQcniSfSZqdqjPb6w6opvf5AU=\",\n        \"peer_public_key\": \"bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=\",\n        \"reserved\": [\n            126,\n            246,\n            173\n        ]\n    },\n    {\n      \"type\": \"direct\",\n      \"tag\": \"direct\"\n    },\n    {\n      \"type\": \"block\",\n      \"tag\": \"block\"\n    }\n  ],\n   \"route\": {\n    \"rules\": [\n    {\n     \"domain\": [\n     $ytb\n     \"oh.my.god\"\n      ],\n     \"outbound\": \"wg\"\n    }\n    ],\n    \"final\": \"direct\"\n    }  \n}\nEOF\n\nif ! ps aux | grep '[c]onfig' > /dev/null; then\nps aux | grep '[c]onfig' | awk '{print $2}' | xargs -r kill -9 > /dev/null 2>&1\nif [ -e \"$(basename \"${FILE_MAP[web]}\")\" ]; then\n   echo \"$(basename \"${FILE_MAP[web]}\")\" > sb.txt\n   sbb=$(cat sb.txt)   \n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 5\nif pgrep -x \"$sbb\" > /dev/null; then\n    green \"$sbb ä¸»è¿›ç¨‹å·²å¯åŠ¨\"\nelse\n    red \"$sbb ä¸»è¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­...\"\n    pkill -x \"$sbb\"\n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 2\n    purple \"$sbb ä¸»è¿›ç¨‹å·²é‡å¯\"\nfi\nelse\n    sbb=$(cat sb.txt)   \n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 5\nif pgrep -x \"$sbb\" > /dev/null; then\n    green \"$sbb ä¸»è¿›ç¨‹å·²å¯åŠ¨\"\nelse\n    red \"$sbb ä¸»è¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­...\"\n    pkill -x \"$sbb\"\n    nohup ./\"$sbb\" run -c config.json >/dev/null 2>&1 &\n    sleep 2\n    purple \"$sbb ä¸»è¿›ç¨‹å·²é‡å¯\"\nfi\nfi\nelse\ngreen \"ä¸»è¿›ç¨‹å·²å¯åŠ¨\"\nfi\ncfgo() {\nrm -rf boot.log\nif [ -e \"$(basename \"${FILE_MAP[bot]}\")\" ]; then\n   echo \"$(basename \"${FILE_MAP[bot]}\")\" > ag.txt\n   agg=$(cat ag.txt)\n    if [[ $ARGO_AUTH =~ ^[A-Z0-9a-z=]{120,250}$ ]]; then\n      args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 run --token ${ARGO_AUTH}\"\n    elif [[ $ARGO_AUTH =~ TunnelSecret ]]; then\n      args=\"tunnel --edge-ip-version auto --config tunnel.yml run\"\n    else\n     args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 --logfile boot.log --loglevel info --url http://localhost:$vmess_port\"\n    fi\n    nohup ./\"$agg\" $args >/dev/null 2>&1 &\n    sleep 10\nif pgrep -x \"$agg\" > /dev/null; then\n    green \"$agg Arogè¿›ç¨‹å·²å¯åŠ¨\"\nelse\n    red \"$agg Argoè¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­...\"\n    pkill -x \"$agg\"\n    nohup ./\"$agg\" \"${args}\" >/dev/null 2>&1 &\n    sleep 5\n    purple \"$agg Argoè¿›ç¨‹å·²é‡å¯\"\nfi\nelse\n   agg=$(cat ag.txt)\n    if [[ $ARGO_AUTH =~ ^[A-Z0-9a-z=]{120,250}$ ]]; then\n      args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 run --token ${ARGO_AUTH}\"\n    elif [[ $ARGO_AUTH =~ TunnelSecret ]]; then\n      args=\"tunnel --edge-ip-version auto --config tunnel.yml run\"\n    else\n     args=\"tunnel --edge-ip-version auto --no-autoupdate --protocol http2 --logfile boot.log --loglevel info --url http://localhost:$vmess_port\"\n    fi\n    nohup ./\"$agg\" $args >/dev/null 2>&1 &\n    sleep 10\nif pgrep -x \"$agg\" > /dev/null; then\n    green \"$agg Arogè¿›ç¨‹å·²å¯åŠ¨\"\nelse\n    red \"$agg Argoè¿›ç¨‹æœªå¯åŠ¨, é‡å¯ä¸­...\"\n    pkill -x \"$agg\"\n    nohup ./\"$agg\" \"${args}\" >/dev/null 2>&1 &\n    sleep 5\n    purple \"$agg Argoè¿›ç¨‹å·²é‡å¯\"\nfi\nfi\n}\nif [ -z \"$ARGO_DOMAIN\" ] && ! ps aux | grep \"[l]ocalhost:$vmess_port\" > /dev/null; then\nps aux | grep '[l]ocalhost' | awk '{print $2}' | xargs -r kill -9 > /dev/null 2>&1\ncfgo\nelif [ -n \"$ARGO_DOMAIN\" ] && ! ps aux | grep \"[t]oken $ARGO_AUTH\" > /dev/null; then\nps aux | grep '[t]oken' | awk '{print $2}' | xargs -r kill -9 > /dev/null 2>&1\ncfgo\nelse\ngreen \"Arogè¿›ç¨‹å·²å¯åŠ¨\"\nfi\nsleep 2\nif ! pgrep -x \"$(cat sb.txt)\" > /dev/null; then\nred \"ä¸»è¿›ç¨‹æœªå¯åŠ¨ï¼Œæ ¹æ®ä»¥ä¸‹æƒ…å†µä¸€ä¸€æ’æŸ¥\"\nyellow \"1ã€ç½‘é¡µç«¯æƒé™æ˜¯å¦å¼€å¯\"\nyellow \"2ã€ç«¯å£æ˜¯å¦è®¾ç½®é”™è¯¯(2ä¸ªTCPã€1ä¸ªUDP)\"\nyellow \"3ã€å°è¯•æ›´æ¢ç½‘é¡µç«¯3ä¸ªç«¯å£å¹¶é‡è£…\"\nyellow \"4ã€å½“å‰Serv00æœåŠ¡å™¨ç‚¸äº†ï¼Ÿç­‰ä¼šå†è¯•\"\nred \"5ã€ä»¥ä¸Šéƒ½è¯•äº†ï¼Œå“¥ç›´æ¥èººå¹³ï¼Œäº¤ç»™è¿›ç¨‹ä¿æ´»ï¼Œè¿‡ä¼šå†æ¥çœ‹\"\nfi\n}\n\nget_argodomain() {\n  if [[ -n $ARGO_AUTH ]]; then\n    echo \"$ARGO_DOMAIN\" > gdym.log\n    echo \"$ARGO_DOMAIN\"\n  else\n    local retry=0\n    local max_retries=6\n    local argodomain=\"\"\n    while [[ $retry -lt $max_retries ]]; do\n    ((retry++)) \n    argodomain=$(grep -oE 'https://[[:alnum:]+\\.-]+\\.trycloudflare\\.com' boot.log 2>/dev/null | sed 's@https://@@')\n      if [[ -n $argodomain ]]; then\n        break\n      fi\n      sleep 2\n    done  \n    if [ -z ${argodomain} ]; then\n    argodomain=\"Argoä¸´æ—¶åŸŸåæš‚æ—¶è·å–å¤±è´¥ï¼ŒArgoèŠ‚ç‚¹æš‚ä¸å¯ç”¨\"\n    fi\n    echo \"$argodomain\"\n  fi\n}\n\nget_links(){\nargodomain=$(get_argodomain)\necho -e \"\\e[1;32mArgoåŸŸåï¼š\\e[1;35m${argodomain}\\e[0m\\n\"\nISP=$(curl -sL --max-time 5 https://speed.cloudflare.com/meta | awk -F\\\" '{print $26}' | sed -e 's/ /_/g' || echo \"0\")\nget_name() { if [ \"$HOSTNAME\" = \"s1.ct8.pl\" ]; then SERVER=\"CT8\"; else SERVER=$(echo \"$HOSTNAME\" | cut -d '.' -f 1); fi; echo \"$SERVER\"; }\nNAME=\"$ISP-$(get_name)\"\nrm -rf jh.txt\nvl_link=\"vless://$UUID@$IP:$vless_port?encryption=none&flow=xtls-rprx-vision&security=reality&sni=$reym&fp=chrome&pbk=$public_key&type=tcp&headerType=none#$NAME-reality\"\necho \"$vl_link\" >> jh.txt\nvmws_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws\\\", \\\"add\\\": \\\"$IP\\\", \\\"port\\\": \\\"$vmess_port\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"\\\", \\\"sni\\\": \\\"\\\", \\\"alpn\\\": \\\"\\\", \\\"fp\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vmws_link\" >> jh.txt\nvmatls_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws-tls-argo\\\", \\\"add\\\": \\\"icook.hk\\\", \\\"port\\\": \\\"8443\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"$argodomain\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"tls\\\", \\\"sni\\\": \\\"$argodomain\\\", \\\"alpn\\\": \\\"\\\", \\\"fp\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vmatls_link\" >> jh.txt\nvma_link=\"vmess://$(echo \"{ \\\"v\\\": \\\"2\\\", \\\"ps\\\": \\\"$NAME-vmess-ws-argo\\\", \\\"add\\\": \\\"icook.hk\\\", \\\"port\\\": \\\"8880\\\", \\\"id\\\": \\\"$UUID\\\", \\\"aid\\\": \\\"0\\\", \\\"scy\\\": \\\"auto\\\", \\\"net\\\": \\\"ws\\\", \\\"type\\\": \\\"none\\\", \\\"host\\\": \\\"$argodomain\\\", \\\"path\\\": \\\"/$UUID-vm?ed=2048\\\", \\\"tls\\\": \\\"\\\"}\" | base64 -w0)\"\necho \"$vma_link\" >> jh.txt\nhy2_link=\"hysteria2://$UUID@$IP:$hy2_port?sni=www.bing.com&alpn=h3&insecure=1#$NAME-hy2\"\necho \"$hy2_link\" >> jh.txt\nurl=$(cat jh.txt 2>/dev/null)\nbaseurl=$(echo -e \"$url\" | base64 -w 0)\n\ncat > sing_box.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"tls://8.8.8.8/dns-query\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n           \"tag\": \"tun-in\",\n\t  \"address\": [\n      \"172.19.0.1/30\",\n\t  \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n        \"vless-$NAME\",\n        \"vmess-$NAME\",\n        \"hy2-$NAME\",\n\"vmess-tls-argo-$NAME\",\n\"vmess-argo-$NAME\"\n      ]\n    },\n    {\n      \"type\": \"vless\",\n      \"tag\": \"vless-$NAME\",\n      \"server\": \"$IP\",\n      \"server_port\": $vless_port,\n      \"uuid\": \"$UUID\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$reym\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"chrome\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"\"\n        }\n      }\n    },\n{\n            \"server\": \"$IP\",\n            \"server_port\": $vmess_port,\n            \"tag\": \"vmess-$NAME\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"www.bing.com\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"www.bing.com\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n\n    {\n        \"type\": \"hysteria2\",\n        \"tag\": \"hy2-$NAME\",\n        \"server\": \"$IP\",\n        \"server_port\": $hy2_port,\n        \"password\": \"$UUID\",\n        \"tls\": {\n            \"enabled\": true,\n            \"server_name\": \"www.bing.com\",\n            \"insecure\": true,\n            \"alpn\": [\n                \"h3\"\n            ]\n        }\n    },\n{\n            \"server\": \"icook.hk\",\n            \"server_port\": 8443,\n            \"tag\": \"vmess-tls-argo-$NAME\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argodomain\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argodomain\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n{\n            \"server\": \"icook.hk\",\n            \"server_port\": 8880,\n            \"tag\": \"vmess-argo-$NAME\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argodomain\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argodomain\"\n                    ]\n                },\n                \"path\": \"/$UUID-vm\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$UUID\"\n        },\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n        \"vless-$NAME\",\n        \"vmess-$NAME\",\n        \"hy2-$NAME\",\n\"vmess-tls-argo-$NAME\",\n\"vmess-argo-$NAME\"\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > clash_meta.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: vless-reality-vision-$NAME               \n  type: vless\n  server: $IP                           \n  port: $vless_port                                \n  uuid: $UUID   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $reym                 \n  reality-opts: \n    public-key: $public_key                      \n  client-fingerprint: chrome                  \n\n- name: vmess-ws-$NAME                         \n  type: vmess\n  server: $IP                       \n  port: $vmess_port                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: www.bing.com                    \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: www.bing.com                     \n\n- name: hysteria2-$NAME                            \n  type: hysteria2                                      \n  server: $IP                               \n  port: $hy2_port                                \n  password: $UUID                          \n  alpn:\n    - h3\n  sni: www.bing.com                               \n  skip-cert-verify: true\n  fast-open: true\n\n- name: vmess-tls-argo-$NAME                         \n  type: vmess\n  server: icook.hk                        \n  port: 8443                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argodomain                    \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: $argodomain\n\n- name: vmess-argo-$NAME                         \n  type: vmess\n  server: icook.hk                        \n  port: 8880                                     \n  uuid: $UUID       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argodomain                   \n  ws-opts:\n    path: \"/$UUID-vm\"                             \n    headers:\n      Host: $argodomain \n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies:\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n    - vless-reality-vision-$NAME                              \n    - vmess-ws-$NAME\n    - hysteria2-$NAME\n    - vmess-tls-argo-$NAME\n    - vmess-argo-$NAME\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  \nEOF\n\nsibsub=$(cat sing_box.json 2>/dev/null)\nclmsub=$(cat clash_meta.yaml 2>/dev/null)\necho\nsleep 2\ncat > list.txt <<EOF\n=================================================================================================\n\nä¸€ã€Vless-realityåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$vl_link\n\næ³¨æ„ï¼šå¦‚æœä¹‹å‰è¾“å…¥çš„realityåŸŸåä¸ºCFåŸŸåï¼Œå°†æ¿€æ´»ä»¥ä¸‹åŠŸèƒ½ï¼š\nå¯åº”ç”¨åœ¨ https://github.com/yonggekkk/Cloudflare_vless_trojan é¡¹ç›®ä¸­åˆ›å»ºCF vless/trojan èŠ‚ç‚¹\n1ã€Proxyip(å¸¦ç«¯å£)ä¿¡æ¯å¦‚ä¸‹ï¼š\næ–¹å¼ä¸€å…¨å±€åº”ç”¨ï¼šè®¾ç½®å˜é‡åï¼šproxyip    è®¾ç½®å˜é‡å€¼ï¼š$IP:$vless_port  \næ–¹å¼äºŒå•èŠ‚ç‚¹åº”ç”¨ï¼špathè·¯å¾„æ”¹ä¸ºï¼š/pyip=$IP:$vless_port\nCFèŠ‚ç‚¹çš„TLSå¯å¼€å¯å…³\nCFèŠ‚ç‚¹è½åœ°åˆ°CFç½‘ç«™çš„åœ°åŒºä¸ºï¼š$IPæ‰€åœ¨åœ°åŒº\n\n2ã€éæ ‡ç«¯å£åä»£IPä¿¡æ¯å¦‚ä¸‹ï¼š\nå®¢æˆ·ç«¯ä¼˜é€‰IPåœ°å€ä¸ºï¼š$IPï¼Œç«¯å£ï¼š$vless_port\nCFèŠ‚ç‚¹çš„TLSå¿…é¡»å¼€å¯\nCFèŠ‚ç‚¹è½åœ°åˆ°éCFç½‘ç«™çš„åœ°åŒºä¸ºï¼š$IPæ‰€åœ¨åœ°åŒº\n\næ³¨ï¼šå¦‚æœserv00çš„IPè¢«å¢™ï¼Œproxyipä¾æ—§æœ‰æ•ˆï¼Œä½†ç”¨äºå®¢æˆ·ç«¯åœ°å€ä¸ç«¯å£çš„éæ ‡ç«¯å£åä»£IPå°†ä¸å¯ç”¨\næ³¨ï¼šå¯èƒ½æœ‰å¤§ä½¬ä¼šæ‰«Serv00çš„åä»£IPä½œä¸ºå…¶å…±äº«IPåº“æˆ–è€…å‡ºå”®ï¼Œè¯·æ…é‡å°†realityåŸŸåè®¾ç½®ä¸ºCFåŸŸå\n-------------------------------------------------------------------------------------------------\n\n\näºŒã€Vmess-wsåˆ†äº«é“¾æ¥ä¸‰å½¢æ€å¦‚ä¸‹ï¼š\n\n1ã€Vmess-wsä¸»èŠ‚ç‚¹åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n(è¯¥èŠ‚ç‚¹é»˜è®¤ä¸æ”¯æŒCDNï¼Œå¦‚æœè®¾ç½®ä¸ºCDNå›æº(éœ€åŸŸå)ï¼šå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ7ä¸ª80ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vmws_link\n\nArgoåŸŸåï¼š${argodomain}\nå¦‚æœä¸Šé¢Argoä¸´æ—¶åŸŸåæœªç”Ÿæˆï¼Œä»¥ä¸‹ 2 ä¸ 3 çš„ArgoèŠ‚ç‚¹å°†ä¸å¯ç”¨ (æ‰“å¼€Argoå›ºå®š/ä¸´æ—¶åŸŸåç½‘é¡µï¼Œæ˜¾ç¤ºHTTP ERROR 404è¯´æ˜æ­£å¸¸å¯ç”¨)\n\n2ã€Vmess-ws-tls_Argoåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š \n(è¯¥èŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ6ä¸ª443ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vmatls_link\n\n3ã€Vmess-ws_Argoåˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n(è¯¥èŠ‚ç‚¹ä¸ºCDNä¼˜é€‰IPèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯åœ°å€å¯è‡ªè¡Œä¿®æ”¹ä¼˜é€‰IP/åŸŸåï¼Œ7ä¸ª80ç³»ç«¯å£éšä¾¿æ¢ï¼Œè¢«å¢™ä¾æ—§èƒ½ç”¨ï¼)\n$vma_link\n-------------------------------------------------------------------------------------------------\n\n\nä¸‰ã€HY2åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$hy2_link\n-------------------------------------------------------------------------------------------------\n\n\nå››ã€ä»¥ä¸Šäº”ä¸ªèŠ‚ç‚¹çš„èšåˆé€šç”¨åˆ†äº«é“¾æ¥å¦‚ä¸‹ï¼š\n$baseurl\n-------------------------------------------------------------------------------------------------\nEOF\ncat list.txt\necho \"-------------------------------------------------------------------------------------------------\"\nsleep 2\necho\necho \"äº”ã€æŸ¥çœ‹sing-boxè®¢é˜…é…ç½®æ–‡ä»¶\"\ncat clash_meta.yaml\necho \"-------------------------------------------------------------------------------------------------\"\nsleep 2\necho\necho \"å…­ã€æŸ¥çœ‹clash-metaè®¢é˜…é…ç½®æ–‡ä»¶\"\ncat sing_box.json\necho\necho \"-------------------------------------------------------------------------------------------------\"\necho \"=================================================================================================\"\necho\nsleep 2\nrm -rf sb.log core tunnel.yml tunnel.json fake_useragent_0.2.0.json\n}\n\ninstall_singbox() {\ncd $WORKDIR\nread_ip\nargo_configure\ndownload_and_run_singbox\nget_links\n}\ninstall_singbox\n"
        },
        {
          "name": "version",
          "type": "blob",
          "size": 0.5361328125,
          "content": "v25.1.5æ›´æ–°å†…å®¹ï¼š\n\næœ¬æ¬¡å¼¹çª—ä»…ä¸ºæå‰è¯´æ˜ï¼Œå¹¶éæ›´æ–°ï¼Œåˆ‡å‹¿é€‰æ‹©æ›´æ–°\n\nè¯´æ˜å¦‚ä¸‹ï¼š\nç”±äºsing-boxçš„1.10ä¸1.11å†…æ ¸åœ¨é…ç½®æ–‡ä»¶ä¸Šå˜åŒ–ä¹‹å¤§\nå½“1.11æ­£å¼ç‰ˆå†…æ ¸å‘å¸ƒåï¼Œåˆ‡å‹¿æ›´æ–°å†…æ ¸ç‰ˆæœ¬ï¼Œä¿æŒ1.10ç³»åˆ—å†…æ ¸ä¸åŠ¨\nç­‰å¾…åç»­æ›´æ–°ï¼\n\næœ¬æ¬¡å¼¹çª—ä»…ä¸ºæå‰è¯´æ˜ï¼Œå¹¶éæ›´æ–°ï¼Œåˆ‡å‹¿é€‰æ‹©æ›´æ–°\næœ¬æ¬¡å¼¹çª—ä»…ä¸ºæå‰è¯´æ˜ï¼Œå¹¶éæ›´æ–°ï¼Œåˆ‡å‹¿é€‰æ‹©æ›´æ–°\næœ¬æ¬¡å¼¹çª—ä»…ä¸ºæå‰è¯´æ˜ï¼Œå¹¶éæ›´æ–°ï¼Œåˆ‡å‹¿é€‰æ‹©æ›´æ–°\n\nè¯¦è§ï¼šhttps://ygkkk.blogspot.com/2023/10/sing-box-yg.html\n"
        }
      ]
    }
  ]
}