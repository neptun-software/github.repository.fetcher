{
  "metadata": {
    "timestamp": 1736568561111,
    "page": 592,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjU5OQ==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "meskarune/i3lock-fancy",
      "stars": 1525,
      "defaultBranch": "master",
      "files": [
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.060546875,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2014 Dolores Portalatin\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 0.6142578125,
          "content": "PRGM = i3lock-fancy\nPREFIX ?= /usr\nSHRDIR ?= $(PREFIX)/share\nBINDIR ?= $(PREFIX)/bin\n\ninstall:\n\t@install -Dm755 i3lock-fancy          -t $(DESTDIR)$(BINDIR)\n\t@install -Dm644 icons/*               -t $(DESTDIR)$(SHRDIR)/$(PRGM)/icons\n\t@install -Dm644 doc/i3lock-fancy.1    -t $(DESTDIR)$(SHRDIR)/man/man1\n\t@install -Dm644 LICENSE               -t $(DESTDIR)$(SHRDIR)/licenses/$(PRGM)\n\nuninstall:\n\t@unlink $(DESTDIR)$(BINDIR)/$(PRGM) # Remove binary\n\t@rm -Rf $(DESTDIR)$(SHRDIR)/$(PRGM) # Remove icons\n\t@unlink $(DESTDIR)$(SHRDIR)/man/man1/i3lock-fancy.1 # Remove man\n\t@rm -Rf $(DESTDIR)$(SHRDIR)/licenses/$(PRGM) # Remove license\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.322265625,
          "content": "i3lock-fancy\n============\n\nThis is an i3lock bash script that takes a screenshot of the desktop, blurs the background and adds a lock icon and text\n\nwebsite: [github pages website](http://meskarune.github.io/i3lock-fancy/)\n\n![screen shot of lockscreen](https://raw.githubusercontent.com/meskarune/i3lock-fancy/master/screenshot.png)\n\nDependencies\n------------\n* <s>[i3lock-color-git](https://github.com/eBrnd/i3lock-color)</s>\n* [i3lock-color-git](https://github.com/Raymo111/i3lock-color) - this is a fork of i3lock-color that is kept up to date with i3lock\n* imagemagick\n* bash\n* awk\n* util-linux\n\nOptional Dependencies\n---------------------\n* wmctrl\n* a screenshot utility such as scrot or maim.\n\nInstallation\n------------\n\nTo install i3lock-fancy manually, git clone the repository:\n\n    git clone https://github.com/meskarune/i3lock-fancy.git\n\nThen change to the directory and run make.\n\n    cd i3lock-fancy\n    sudo make install\n\n**IMPORTANT NOTE: the way to install i3lock-fancy has changed! If you are a\n  package maintainer or previously installed manually you may have to review\n  and update your configurations. The new change simplifies a lot of\n  things so updates will be easier in the future.**\n\n### The following distro's have packages you can use to install:\n* Arch Linux: https://aur.archlinux.org/packages/i3lock-fancy-git/\n* GNU Guix: Run `guix package --install i3lock-fancy`\n* Debian: https://packages.debian.org/sid/i3lock-fancy\n\nUsage\n-----\n\n    i3lock-fancy [options]\n    \n    Options:\n        -h, --help       This help menu.\n    \n        -d, --desktop    Attempt to minimize all windows before locking. Requires wmctrl.\n    \n        -g, --greyscale  Set background to greyscale instead of color.\n    \n        -p, --pixelate   Pixelate the background instead of blur, runs faster.\n    \n        -f <fontname>, --font <fontname>  Set a custom font.\n    \n        -t <text>, --text <text> Set a custom text prompt.\n\n        -l, --listfonts  Display a list of possible fonts for use with -f/--font.\n                         Note: this option will not lock the screen, it displays\n                         the list and exits immediately.\n\n        -n, --nofork     Do not fork i3lock after starting.\n    \n        --               Must be last option. Set command to use for taking a\n                         screenshot. Default is 'import -window root'. Using 'scrot'\n                         or 'maim' will increase script speed and allow setting\n                         custom flags like having a delay.\n\nexample: ```i3lock-fancy -gpf Comic-Sans-MS -- scrot -z```\n\nExtras\n------\n\nThe lock screen in action:\n\n![lockscreen animation](https://raw.githubusercontent.com/meskarune/i3lock-fancy/master/action.gif)\n\nTo use this script you can set a hotkey in your window manager to run the lock command,\nset xautolock to run at boot, or use a systemd script to either lock on suspend or run xautolock.\n\nxautolock is a utility to automatically lock the screen after a set time. It also \nsupports hot corners.\n\nSystemd Unit file example (edit for your own use):\n\n    [Unit]\n    Description=Lock the screen automatically after a timeout\n    \n    [Service]\n    Type=simple\n    User=meskarune\n    Environment=DISPLAY=:0\n    ExecStart=/usr/bin/xautolock -time 5 -locker /usr/bin/i3lock-fancy -detectsleep\n    \n    [Install]\n    WantedBy=graphical.target\n\nMultiple Monitors\n-----------------\nThere is a branch called dual monitor with support for multiple monitors. \n(it is currently out of date compared to the main locker, I need to update \nit with all the new features) This branch uses a grey icon and text with \noutlines to make it visible on light and dark backgrounds (though it looks \nbetter on dark backgrounds). I am still working to get it looking just right \nright. The script is usable now, but it's under developement and things may change.\n\nStatic image\n------------\nIf you would like to run `i3lock-color` with a static image in the style of\ni3lock-fancy, run `convert` from image magick directly on the background image\nyou want to use. Then specify the result `newimage.png` to `i3lock -i`:\n```\n#!/bin/sh\n# Add a lock icon and text to the center of an image\nconvert /path/to/background.png -font Liberation-Sans \\\n    -pointsize 26 -fill white -gravity center \\\n    -annotate +0+160 \"Type Password to Unlock\" lock.png \\\n    -gravity center -composite newimage.png\n```\n\n```\ni3lock -i newimage.png\n```\n"
        },
        {
          "name": "action.gif",
          "type": "blob",
          "size": 1361.689453125,
          "content": null
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "i3lock-fancy",
          "type": "blob",
          "size": 5.8125,
          "content": "#!/usr/bin/env bash\n# Author: Dolores Portalatin <hello@doloresportalatin.info>\n# Dependencies: imagemagick, i3lock-color-git, scrot, wmctrl (optional)\nset -o errexit -o noclobber -o nounset\n\nhue=(-level \"0%,100%,0.6\")\neffect=(-filter Gaussian -resize 20% -define \"filter:sigma=1.5\" -resize 500.5%)\n# default system sans-serif font\nfont=$(convert -list font | awk \"{ a[NR] = \\$2 } /family: $(fc-match sans -f \"%{family}\\n\")/ { print a[NR-1]; exit }\")\nimage=$(mktemp --suffix=.png)\nshot=(import -silent -window root)\ndesktop=\"\"\ni3lock_cmd=(i3lock -i \"$image\")\nshot_custom=false\n\noptions=\"Options:\n    -h, --help       This help menu.\n\n    -d, --desktop    Attempt to minimize all windows before locking.\n\n    -g, --greyscale  Set background to greyscale instead of color.\n\n    -p, --pixelate   Pixelate the background instead of blur, runs faster.\n\n    -f <fontname>, --font <fontname>  Set a custom font.\n\n    -t <text>, --text <text> Set a custom text prompt.\n\n    -l, --listfonts  Display a list of possible fonts for use with -f/--font.\n                     Note: this option will not lock the screen, it displays\n                     the list and exits immediately.\n\n    -n, --nofork     Do not fork i3lock after starting.\n\n    --               Must be last option. Set command to use for taking a\n                     screenshot. Default is 'import -window root'. Using 'scrot'\n                     or 'maim' will increase script speed and allow setting\n                     custom flags like having a delay.\"\n\n# move pipefail down as for some reason \"convert -list font\" returns 1\nset -o pipefail\ntrap 'rm -f \"$image\"' EXIT\ntemp=\"$(getopt -o :hdnpglt:f: -l desktop,help,listfonts,nofork,pixelate,greyscale,text:,font: --name \"$0\" -- \"$@\")\"\neval set -- \"$temp\"\n\n# l10n support\ncase \"${LANG:-}\" in\n    af_* ) text=\"Tik wagwoord om te ontsluit\" ;; # Afrikaans\n    cs_* ) text=\"Pro odemčení zadajte heslo\" ;; # Czech\n    de_* ) text=\"Bitte Passwort eingeben\" ;; # Deutsch\n    da_* ) text=\"Indtast adgangskode\" ;; # Danish\n    en_* ) text=\"Type password to unlock\" ;; # English\n    es_* ) text=\"Ingrese su contraseña\" ;; # Española\n    fr_* ) text=\"Entrez votre mot de passe\" ;; # Français\n    he_* ) text=\"הקלד סיסמה לביטול הנעילה\" ;; # Hebrew עברית\n    hi_* ) text=\"अनलॉक करने के लिए पासवर्ड टाईप करें\" ;; #Hindi\n    id_* ) text=\"Masukkan kata sandi Anda\" ;; # Bahasa Indonesia\n    it_* ) text=\"Inserisci la password\" ;; # Italian\n    ja_* ) text=\"パスワードを入力してください\" ;; # Japanese\n    lv_* ) text=\"Ievadi paroli\" ;; # Latvian\n    nb_* ) text=\"Skriv inn passord\" ;; # Norwegian\n    pl_* ) text=\"Podaj hasło\" ;; # Polish\n    pt_* ) text=\"Digite a senha para desbloquear\" ;; # Português\n    sk_* ) text=\"Pre odomknutie zadajte heslo\" ;; # Slovak\n    tr_* ) text=\"Giriş yapmak için şifrenizi girin\" ;; # Turkish\n    ru_* ) text=\"Введите пароль\" ;; # Russian\n    zh_* ) text=\"请输入密码以解锁\" ;; # Chinese\n    * ) text=\"Type password to unlock\" ;; # Default to English\nesac\n\nwhile true ; do\n    case \"$1\" in\n        -h|--help)\n            printf \"Usage: %s [options]\\n\\n%s\\n\\n\" \"${0##*/}\" \"$options\"; exit 1 ;;\n        -d|--desktop) desktop=$(command -V wmctrl) ; shift ;;\n        -g|--greyscale) hue=(-level \"0%,100%,0.6\" -set colorspace Gray -average) ; shift ;;\n        -p|--pixelate) effect=(-scale 10% -scale 1000%) ; shift ;;\n        -f|--font)\n            case \"$2\" in\n                \"\") shift 2 ;;\n                *) font=$2 ; shift 2 ;;\n            esac ;;\n        -t|--text) text=$2 ; shift 2 ;;\n        -l|--listfonts)\n\t    convert -list font | awk -F: '/Font: / { print $2 }' | sort -du | command -- ${PAGER:-less}\n\t    exit 0 ;;\n\t-n|--nofork) i3lock_cmd+=(--nofork) ; shift ;;\n        --) shift; shot_custom=true; break ;;\n        *) echo \"error\" ; exit 1 ;;\n    esac\ndone\n\nif \"$shot_custom\" && [[ $# -gt 0 ]]; then\n    shot=(\"$@\");\nfi\n\ncommand -- \"${shot[@]}\" \"$image\"\n\nvalue=\"60\" #brightness value to compare to\n\ncolor=$(convert \"$image\" -gravity center -crop 100x100+0+0 +repage -colorspace hsb \\\n    -resize 1x1 txt:- | awk -F '[%$]' 'NR==2{gsub(\",\",\"\"); printf \"%.0f\\n\", $(NF-1)}');\n\nif [[ $color -gt $value ]]; then #white background image and black text\n    bw=\"black\"\n    icon=\"/usr/share/i3lock-fancy/icons/lockdark.png\"\n    param=(\"--inside-color=0000001c\" \"--ring-color=0000003e\" \\\n        \"--line-color=00000000\" \"--keyhl-color=ffffff80\" \"--ringver-color=ffffff00\" \\\n        \"--separator-color=22222260\" \"--insidever-color=ffffff1c\" \\\n        \"--ringwrong-color=ffffff55\" \"--insidewrong-color=ffffff1c\" \\\n        \"--verif-color=ffffff00\" \"--wrong-color=ff000000\" \"--time-color=ffffff00\" \\\n        \"--date-color=ffffff00\" \"--layout-color=ffffff00\")\nelse #black\n    bw=\"white\"\n    icon=\"/usr/share/i3lock-fancy/icons/lock.png\"\n    param=(\"--inside-color=ffffff1c\" \"--ring-color=ffffff3e\" \\\n        \"--line-color=ffffff00\" \"--keyhl-color=00000080\" \"--ringver-color=00000000\" \\\n        \"--separator-color=22222260\" \"--insidever-color=0000001c\" \\\n        \"--ringwrong-color=00000055\" \"--insidewrong-color=0000001c\" \\\n        \"--verif-color=00000000\" \"--wrong-color=ff000000\" \"--time-color=00000000\" \\\n        \"--date-color=00000000\" \"--layout-color=00000000\")\nfi\n\nconvert \"$image\" \"${hue[@]}\" \"${effect[@]}\" -font \"$font\" -pointsize 26 -fill \"$bw\" -gravity center \\\n    -annotate +0+160 \"$text\" \"$icon\" -gravity center -composite \"$image\"\n\n# If invoked with -d/--desktop, we'll attempt to minimize all windows (ie. show\n# the desktop) before locking.\n${desktop} ${desktop:+-k on}\n\n# try to use i3lock with prepared parameters\nif ! \"${i3lock_cmd[@]}\" \"${param[@]}\" >/dev/null 2>&1; then\n    # We have failed, lets get back to stock one\n    \"${i3lock_cmd[@]}\"\nfi\n\n# As above, if we were passed -d/--desktop, we'll attempt to restore all windows\n# after unlocking.\n${desktop} ${desktop:+-k off}\n"
        },
        {
          "name": "icons",
          "type": "tree",
          "content": null
        },
        {
          "name": "screenshot.png",
          "type": "blob",
          "size": 299.6279296875,
          "content": null
        }
      ]
    }
  ]
}