{
  "metadata": {
    "timestamp": 1736568351817,
    "page": 275,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjI4MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "yonggekkk/x-ui-yg",
      "stars": 2330,
      "defaultBranch": "main",
      "files": [
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.0517578125,
          "content": "\n### x-uiç²¾ç®€ä¿®æ”¹ç‰ˆä¸€é”®è„šæœ¬ï¼Œé¢æ¿ä¸­çš„ç›¸å…³è®¾ç½®å°½å¯èƒ½ä¸åŸä½œè€…[vaxilu](https://github.com/vaxilu/x-ui)ä¿æŒä¸€è‡´\n\n### æ”¯æŒçº¯IPV4ã€çº¯IPV6ã€AMD64ã€ARM64çš„VPSç›´æ¥å®‰è£…\n\n### æ”¯æŒalpineç³»ç»Ÿï¼Œæ¨èä½¿ç”¨æœ€æ–°çš„Ubuntuç³»ç»Ÿ\n\n### æœ¬é¡¹ç›®è®¢é˜…èŠ‚ç‚¹ä¸ºæœ¬åœ°åŒ–ç”Ÿæˆï¼Œä¸ä½¿ç”¨èŠ‚ç‚¹è½¬æ¢ç­‰ç¬¬ä¸‰æ–¹å¤–é“¾å¼•ç”¨ï¼Œæ— éœ€æ‹…å¿ƒèŠ‚ç‚¹è®¢é˜…è¢«å¤–é“¾ä½œè€…æŸ¥çœ‹\n\n-----------------------------------------------\n### å…³äºXUIå®‰å…¨æ€§è¯´æ˜ï¼š\n\né»˜è®¤ä½¿ç”¨IP(http)ç™»å½•æ–¹å¼ï¼ˆéå®‰å…¨ï¼‰ï¼Œå¼ºçƒˆæ¨èç”³è¯·åŸŸåè¯ä¹¦å¹¶å¼€å¯åŸŸå(https)ç™»å½•æ–¹å¼ï¼Œä»¥ç¡®ä¿é¢ç‰ˆæ•°æ®çš„å®‰å…¨\n\nå…³äºå®‰å…¨é—®é¢˜çš„è§†é¢‘è§£è¯»ï¼š[ã€Šä¾ƒä¾ƒå¢™ã€‹ç›´æ’­å›é¡¾ï¼šXrayä½œè€…ç‚®è½°XUIé¢ç‰ˆhttpæ˜æ–‡å®‰å…¨æ€§ï¼GFWç›®å‰å°±é‚£ä¸‰æ¿æ–§è€Œå·²](https://youtu.be/eukGGt-MsS8)\n\n-----------------------------------------------\n\n### ç›¸å…³è¯´æ˜åŠæ³¨æ„ç‚¹è¯·æŸ¥çœ‹[åšå®¢è¯´æ˜](https://ygkkk.blogspot.com/2023/05/reality-xui-chatgpt.html)\n\n### è§†é¢‘æ•™ç¨‹ï¼š\n\n[x-uiæ­å»ºxrayåè®®å¤§æ›´æ–°ï¼ˆä¸€ï¼‰ï¼šrealityåè®®ä¸‰æ¨¡å¼ï¼Œæ•°æ®é‡ç½®ã€å¤‡ä»½ã€æ¢å¤è¯¦ç»†æ“ä½œ](https://youtu.be/xlvKnjQoF7c)\n\n[x-uiæ­å»ºxrayåè®®å¤§æ›´æ–°ï¼ˆäºŒï¼‰ï¼šé›†æˆArgoå›ºå®šéš§é“ã€ä¸´æ—¶éš§é“](https://youtu.be/NCPCHAi8pzs)\n\n[x-uiæ­å»ºxrayåè®®å¤§æ›´æ–°ï¼ˆä¸‰ï¼‰ï¼šæ”¯æŒå¤šåè®®èšåˆè®¢é˜…ï¼Œè‡ªåŠ¨ç”ŸæˆClash-metaã€Sing-boxé…ç½®æ–‡ä»¶](https://youtu.be/UlQm6c0UQ4U)\n\n[x-uiæ­å»ºxrayåè®®å¤§æ›´æ–°ï¼ˆå››ï¼‰ï¼šæ”¯æŒAlpineç³»ç»Ÿï¼›ChatGPTå®¢æˆ·ç«¯å¯ä»¥éšä¾¿ç™»å½•äº†ï¼Œå¤šIPåˆ†æµè®¾ç½®è¯¦ç»†è¯´æ˜](https://youtu.be/2G2f64Mm1UU)\n\n[x-uiæ­å»ºxrayåè®®å¤§æ›´æ–°ï¼ˆäº”ï¼‰ï¼šé›†æˆoblivion warpå…è´¹vpnåŠŸèƒ½ï¼Œæ”¯æŒæœ¬åœ°WARP+èµ›é£VPNåˆ‡æ¢åˆ†æµ(30ä¸ªå›½å®¶IP)](https://youtu.be/Zo65206HBRM)\n\n-----------------------------------------------------\n### äº¤æµå¹³å°ï¼š[ç”¬å“¥åšå®¢åœ°å€](https://ygkkk.blogspot.com)ã€[ç”¬å“¥YouTubeé¢‘é“](https://www.youtube.com/@ygkkk)ã€[ç”¬å“¥TGç”µæŠ¥ç¾¤ç»„](https://t.me/+jZHc6-A-1QQ5ZGVl)ã€[ç”¬å“¥TGç”µæŠ¥é¢‘é“](https://t.me/+DkC9ZZUgEFQzMTZl)\n\n-------------------------------\n\n### ä¸€é”®è„šæœ¬ï¼š\n```\nbash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/install.sh)\n```\næˆ–\n```\nbash <(wget -qO- https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/install.sh)\n```\n-----------------------------------------------------\n### x-ui-ygè„šæœ¬èœå•ç•Œé¢é™„åŠ åŠŸèƒ½å…¨å¼€é¢„è§ˆå›¾ï¼ˆæ³¨ï¼šç›¸å…³å‚æ•°éšæ„å¡«å†™ï¼Œä»…ä¾›å›´è§‚ï¼‰\n\n![3b01adef46255df98053a3e49372373](https://github.com/user-attachments/assets/cea4568f-bb19-46b9-a35b-bacc67ac573a)\n\n-----------------------------------------------------\n### æ„Ÿè°¢ä½ å³ä¸Šè§’çš„starğŸŒŸ\n[![Stargazers over time](https://starchart.cc/yonggekkk/x-ui-yg.svg)](https://starchart.cc/yonggekkk/x-ui-yg)\n\n### å‚è€ƒé¡¹ç›®[vaxilu](https://github.com/vaxilu/x-ui)ï¼Œ[MHSanaei](https://github.com/MHSanaei/3x-ui)ï¼Œ[qist](https://github.com/qist/xray-ui)ï¼Œ[warpplus](https://github.com/bepass-org/warp-plus)\n\n---------------------------------------\n#### å£°æ˜ï¼š\n\n#### æ‰€æœ‰ä»£ç æ¥æºäºGithubå‚è€ƒé¡¹ç›®ä¸ChatGPTçš„æ•´åˆï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶æœªå¼€æºï¼Œä»‹æ„è€…è¯·å‹¿å®‰è£…ä½¿ç”¨ã€‚\n"
        },
        {
          "name": "install.sh",
          "type": "blob",
          "size": 92.373046875,
          "content": "#!/bin/bash\nexport LANG=en_US.UTF-8\nsred='\\033[5;31m'\nred='\\033[0;31m'\ngreen='\\033[0;32m'\nyellow='\\033[0;33m'\nblue='\\033[0;36m'\nbblue='\\033[0;34m'\nplain='\\033[0m'\nred(){ echo -e \"\\033[31m\\033[01m$1\\033[0m\";}\ngreen(){ echo -e \"\\033[32m\\033[01m$1\\033[0m\";}\nyellow(){ echo -e \"\\033[33m\\033[01m$1\\033[0m\";}\nblue(){ echo -e \"\\033[36m\\033[01m$1\\033[0m\";}\nwhite(){ echo -e \"\\033[37m\\033[01m$1\\033[0m\";}\nreadp(){ read -p \"$(yellow \"$1\")\" $2;}\n[[ $EUID -ne 0 ]] && yellow \"è¯·ä»¥rootæ¨¡å¼è¿è¡Œè„šæœ¬\" && exit\n#[[ -e /etc/hosts ]] && grep -qE '^ *172.65.251.78 gitlab.com' /etc/hosts || echo -e '\\n172.65.251.78 gitlab.com' >> /etc/hosts\nif [[ -f /etc/redhat-release ]]; then\nrelease=\"Centos\"\nelif cat /etc/issue | grep -q -E -i \"alpine\"; then\nrelease=\"alpine\"\nelif cat /etc/issue | grep -q -E -i \"debian\"; then\nrelease=\"Debian\"\nelif cat /etc/issue | grep -q -E -i \"ubuntu\"; then\nrelease=\"Ubuntu\"\nelif cat /etc/issue | grep -q -E -i \"centos|red hat|redhat\"; then\nrelease=\"Centos\"\nelif cat /proc/version | grep -q -E -i \"debian\"; then\nrelease=\"Debian\"\nelif cat /proc/version | grep -q -E -i \"ubuntu\"; then\nrelease=\"Ubuntu\"\nelif cat /proc/version | grep -q -E -i \"centos|red hat|redhat\"; then\nrelease=\"Centos\"\nelse \nred \"ä¸æ”¯æŒå½“å‰çš„ç³»ç»Ÿï¼Œè¯·é€‰æ‹©ä½¿ç”¨Ubuntu,Debian,Centosç³»ç»Ÿã€‚\" && exit\nfi\nvsid=$(grep -i version_id /etc/os-release | cut -d \\\" -f2 | cut -d . -f1)\nop=$(cat /etc/redhat-release 2>/dev/null || cat /etc/os-release 2>/dev/null | grep -i pretty_name | cut -d \\\" -f2)\n#if [[ $(echo \"$op\" | grep -i -E \"arch|alpine\") ]]; then\nif [[ $(echo \"$op\" | grep -i -E \"arch\") ]]; then\nred \"è„šæœ¬ä¸æ”¯æŒå½“å‰çš„ $op ç³»ç»Ÿï¼Œè¯·é€‰æ‹©ä½¿ç”¨Ubuntu,Debian,Centosç³»ç»Ÿã€‚\" && exit\nfi\nversion=$(uname -r | cut -d \"-\" -f1)\n[[ -z $(systemd-detect-virt 2>/dev/null) ]] && vi=$(virt-what 2>/dev/null) || vi=$(systemd-detect-virt 2>/dev/null)\ncase $(uname -m) in\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\n*) red \"ç›®å‰è„šæœ¬ä¸æ”¯æŒ$(uname -m)æ¶æ„\" && exit;;\nesac\n\nif [[ -n $(sysctl net.ipv4.tcp_congestion_control 2>/dev/null | awk -F ' ' '{print $3}') ]]; then\nbbr=`sysctl net.ipv4.tcp_congestion_control | awk -F ' ' '{print $3}'`\nelif [[ -n $(ping 10.0.0.2 -c 2 | grep ttl) ]]; then\nbbr=\"Openvzç‰ˆbbr-plus\"\nelse\nbbr=\"Openvz/Lxc\"\nfi\n\nif [ ! -f xuiyg_update ]; then\ngreen \"é¦–æ¬¡å®‰è£…x-ui-ygè„šæœ¬å¿…è¦çš„ä¾èµ–â€¦â€¦\"\nif [[ x\"${release}\" == x\"alpine\" ]]; then\napk update\napk add wget curl tar jq tzdata openssl expect git socat iproute2\napk add virt-what\nelse\nif [[ $release = Centos && ${vsid} =~ 8 ]]; then\ncd /etc/yum.repos.d/ && mkdir backup && mv *repo backup/ \ncurl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo\nsed -i -e \"s|mirrors.cloud.aliyuncs.com|mirrors.aliyun.com|g \" /etc/yum.repos.d/CentOS-*\nsed -i -e \"s|releasever|releasever-stream|g\" /etc/yum.repos.d/CentOS-*\nyum clean all && yum makecache\ncd\nfi\n\nif [ -x \"$(command -v apt-get)\" ]; then\napt update -y\napt install jq tzdata -y\nelif [ -x \"$(command -v yum)\" ]; then\nyum update -y && yum install epel-release -y\nyum install jq tzdata -y\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf update -y\ndnf install jq tzdata -y\nfi\nif [ -x \"$(command -v yum)\" ] || [ -x \"$(command -v dnf)\" ]; then\nif ! command -v \"cronie\" &> /dev/null; then\nif [ -x \"$(command -v yum)\" ]; then\nyum install -y cronie\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf install -y cronie\nfi\nfi\nfi\n\npackages=(\"curl\" \"openssl\" \"tar\" \"expect\" \"xxd\" \"python3\" \"wget\" \"git\")\ninspackages=(\"curl\" \"openssl\" \"tar\" \"expect\" \"xxd\" \"python3\" \"wget\" \"git\")\nfor i in \"${!packages[@]}\"; do\npackage=\"${packages[$i]}\"\ninspackage=\"${inspackages[$i]}\"\nif ! command -v \"$package\" &> /dev/null; then\nif [ -x \"$(command -v apt-get)\" ]; then\napt-get install -y \"$inspackage\"\nelif [ -x \"$(command -v yum)\" ]; then\nyum install -y \"$inspackage\"\nelif [ -x \"$(command -v dnf)\" ]; then\ndnf install -y \"$inspackage\"\nfi\nfi\ndone\nfi\ntouch xuiyg_update\nfi\n\nif [[ $vi = openvz ]]; then\nTUN=$(cat /dev/net/tun 2>&1)\nif [[ ! $TUN =~ 'in bad state' ]] && [[ ! $TUN =~ 'å¤„äºé”™è¯¯çŠ¶æ€' ]] && [[ ! $TUN =~ 'Die Dateizugriffsnummer ist in schlechter Verfassung' ]]; then \nred \"æ£€æµ‹åˆ°æœªå¼€å¯TUNï¼Œç°å°è¯•æ·»åŠ TUNæ”¯æŒ\" && sleep 4\ncd /dev && mkdir net && mknod net/tun c 10 200 && chmod 0666 net/tun\nTUN=$(cat /dev/net/tun 2>&1)\nif [[ ! $TUN =~ 'in bad state' ]] && [[ ! $TUN =~ 'å¤„äºé”™è¯¯çŠ¶æ€' ]] && [[ ! $TUN =~ 'Die Dateizugriffsnummer ist in schlechter Verfassung' ]]; then \ngreen \"æ·»åŠ TUNæ”¯æŒå¤±è´¥ï¼Œå»ºè®®ä¸VPSå‚å•†æ²Ÿé€šæˆ–åå°è®¾ç½®å¼€å¯\" && exit\nelse\necho '#!/bin/bash' > /root/tun.sh && echo 'cd /dev && mkdir net && mknod net/tun c 10 200 && chmod 0666 net/tun' >> /root/tun.sh && chmod +x /root/tun.sh\ngrep -qE \"^ *@reboot root bash /root/tun.sh >/dev/null 2>&1\" /etc/crontab || echo \"@reboot root bash /root/tun.sh >/dev/null 2>&1\" >> /etc/crontab\ngreen \"TUNå®ˆæŠ¤åŠŸèƒ½å·²å¯åŠ¨\"\nfi\nfi\nfi\n\nargopid(){\nym=$(cat /usr/local/x-ui/xuiargoympid.log 2>/dev/null)\nls=$(cat /usr/local/x-ui/xuiargopid.log 2>/dev/null)\n}\n\nv4v6(){\nv4=$(curl -s4m5 icanhazip.com -k)\nv6=$(curl -s6m5 icanhazip.com -k)\n}\n\nwarpcheck(){\nwgcfv6=$(curl -s6m5 https://www.cloudflare.com/cdn-cgi/trace -k | grep warp | cut -d= -f2)\nwgcfv4=$(curl -s4m5 https://www.cloudflare.com/cdn-cgi/trace -k | grep warp | cut -d= -f2)\n}\n\nv6(){\nwarpcheck\nif [[ ! $wgcfv4 =~ on|plus && ! $wgcfv6 =~ on|plus ]]; then\nv4=$(curl -s4m5 icanhazip.com -k)\nif [ -z $v4 ]; then\nyellow \"æ£€æµ‹åˆ° çº¯IPV6 VPSï¼Œæ·»åŠ DNS64\"\necho -e \"nameserver 2a00:1098:2b::1\\nnameserver 2a00:1098:2c::1\\nnameserver 2a01:4f8:c2c:123f::1\" > /etc/resolv.conf\nfi\nfi\n}\n\nserinstall(){\ngreen \"ä¸‹è½½å¹¶å®‰è£…x-uiç›¸å…³ç»„ä»¶â€¦â€¦\"\ncd /usr/local/\n#curl -L -o /usr/local/x-ui-linux-${cpu}.tar.gz --insecure https://gitlab.com/rwkgyg/x-ui-yg/raw/main/x-ui-linux-${cpu}.tar.gz\ncurl -L -o /usr/local/x-ui-linux-${cpu}.tar.gz -# --retry 2 --insecure https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/x-ui-linux-${cpu}.tar.gz\ntar zxvf x-ui-linux-${cpu}.tar.gz > /dev/null 2>&1\nrm x-ui-linux-${cpu}.tar.gz -f\ncd x-ui\nchmod +x x-ui bin/xray-linux-${cpu}\ncp -f x-ui.service /etc/systemd/system/ >/dev/null 2>&1\nsystemctl daemon-reload >/dev/null 2>&1\nsystemctl enable x-ui >/dev/null 2>&1\nsystemctl start x-ui >/dev/null 2>&1\ncd\nrm /usr/bin/x-ui -f\n#curl -L -o /usr/bin/x-ui --insecure https://gitlab.com/rwkgyg/x-ui-yg/raw/main/1install.sh >/dev/null 2>&1\ncurl -L -o /usr/bin/x-ui -# --retry 2 --insecure https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/install.sh\nchmod +x /usr/bin/x-ui\nif [[ x\"${release}\" == x\"alpine\" ]]; then\necho '#!/sbin/openrc-run\nname=\"x-ui\"\ncommand=\"/usr/local/x-ui/x-ui\"\ndirectory=\"/usr/local/${name}\"\npidfile=\"/var/run/${name}.pid\"\ncommand_background=\"yes\"\ndepend() {\nneed networking \n}' > /etc/init.d/x-ui\nchmod +x /etc/init.d/x-ui\nrc-update add x-ui default\nrc-service x-ui start\nfi\nif [[ -f /usr/bin/x-ui && -f /usr/local/x-ui/bin/xray-linux-${cpu} ]]; then\ngreen \"ä¸‹è½½æˆåŠŸ\"\nelse\nred \"ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æµ‹VPSç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼Œè„šæœ¬é€€å‡º\"\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service x-ui stop\nrc-update del x-ui default\nrm /etc/init.d/x-ui -f\nelse\nsystemctl stop x-ui\nsystemctl disable x-ui\nrm /etc/systemd/system/x-ui.service -f\nsystemctl daemon-reload\nsystemctl reset-failed\nfi\nrm /usr/bin/x-ui -f\nrm /etc/x-ui-yg/ -rf\nrm /usr/local/x-ui/ -rf\nrm -rf xuiyg_update\nexit\nfi\n}\n\nuserinstall(){\nreadp \"è®¾ç½® x-ui ç™»å½•ç”¨æˆ·åï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœº6ä½å­—ç¬¦ï¼‰ï¼š\" username\nsleep 1\nif [[ -z ${username} ]]; then\nusername=`date +%s%N |md5sum | cut -c 1-6`\nfi\nwhile true; do\nif [[ ${username} == *admin* ]]; then\nred \"ä¸æ”¯æŒåŒ…å«æœ‰ admin å­—æ ·çš„ç”¨æˆ·åï¼Œè¯·é‡æ–°è®¾ç½®\" && readp \"è®¾ç½® x-ui ç™»å½•ç”¨æˆ·åï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœº6ä½å­—ç¬¦ï¼‰ï¼š\" username\nelse\nbreak\nfi\ndone\nsleep 1\ngreen \"x-uiç™»å½•ç”¨æˆ·åï¼š${username}\"\necho\nreadp \"è®¾ç½® x-ui ç™»å½•å¯†ç ï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœº6ä½å­—ç¬¦ï¼‰ï¼š\" password\nsleep 1\nif [[ -z ${password} ]]; then\npassword=`date +%s%N |md5sum | cut -c 1-6`\nfi\nwhile true; do\nif [[ ${password} == *admin* ]]; then\nred \"ä¸æ”¯æŒåŒ…å«æœ‰ admin å­—æ ·çš„å¯†ç ï¼Œè¯·é‡æ–°è®¾ç½®\" && readp \"è®¾ç½® x-ui ç™»å½•å¯†ç ï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœº6ä½å­—ç¬¦ï¼‰ï¼š\" password\nelse\nbreak\nfi\ndone\nsleep 1\ngreen \"x-uiç™»å½•å¯†ç ï¼š${password}\"\n/usr/local/x-ui/x-ui setting -username ${username} -password ${password} >/dev/null 2>&1\n}\n\nportinstall(){\necho\nreadp \"è®¾ç½® x-ui ç™»å½•ç«¯å£[1-65535]ï¼ˆå›è½¦è·³è¿‡ä¸º10000-65535ä¹‹é—´çš„éšæœºç«¯å£ï¼‰ï¼š\" port\nsleep 1\nif [[ -z $port ]]; then\nport=$(shuf -i 10000-65535 -n 1)\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] \ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nelse\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]]\ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nfi\nsleep 1\n/usr/local/x-ui/x-ui setting -port $port >/dev/null 2>&1\ngreen \"x-uiç™»å½•ç«¯å£ï¼š${port}\"\n}\n\npathinstall(){\necho\nreadp \"è®¾ç½® x-ui ç™»å½•æ ¹è·¯å¾„ï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœº3ä½å­—ç¬¦ï¼‰ï¼š\" path\nsleep 1\nif [[ -z $path ]]; then\npath=`date +%s%N |md5sum | cut -c 1-3`\nfi\n/usr/local/x-ui/x-ui setting -webBasePath ${path} >/dev/null 2>&1\ngreen \"x-uiç™»å½•æ ¹è·¯å¾„ï¼š${path}\"\n}\n\nshowxuiip(){\nxuilogin(){\nv4v6\nif [[ -z $v4 ]]; then\necho \"[$v6]\" > /usr/local/x-ui/xip\nelif [[ -n $v4 && -n $v6 ]]; then\necho \"$v4\" > /usr/local/x-ui/xip\necho \"[$v6]\" >> /usr/local/x-ui/xip\nelse\necho \"$v4\" > /usr/local/x-ui/xip\nfi\n}\nwarpcheck\nif [[ ! $wgcfv4 =~ on|plus && ! $wgcfv6 =~ on|plus ]]; then\nxuilogin\nelse\nsystemctl stop wg-quick@wgcf >/dev/null 2>&1\nkill -15 $(pgrep warp-go) >/dev/null 2>&1 && sleep 2\nxuilogin\nsystemctl start wg-quick@wgcf >/dev/null 2>&1\nsystemctl restart warp-go >/dev/null 2>&1\nsystemctl enable warp-go >/dev/null 2>&1\nsystemctl start warp-go >/dev/null 2>&1\nfi\n}\n\nresinstall(){\necho \"----------------------------------------------------------------------\"\nrestart\n#curl -sL https://gitlab.com/rwkgyg/x-ui-yg/-/raw/main/version/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /usr/local/x-ui/v\ncurl -sL https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /usr/local/x-ui/v\nshowxuiip\nsleep 2\nxuigo\ncronxui\necho \"----------------------------------------------------------------------\"\nblue \"x-ui-yg $(cat /usr/local/x-ui/v 2>/dev/null) å®‰è£…æˆåŠŸï¼Œè‡ªåŠ¨è¿›å…¥ x-ui æ˜¾ç¤ºç®¡ç†èœå•\" && sleep 4\necho\nshow_menu\n}\n\nxuiinstall(){\nv6\necho \"----------------------------------------------------------------------\"\nopenyn\necho \"----------------------------------------------------------------------\"\nserinstall\necho \"----------------------------------------------------------------------\"\nuserinstall\nportinstall\npathinstall\nresinstall\n#[[ -e /etc/gai.conf ]] && grep -qE '^ *precedence ::ffff:0:0/96  100' /etc/gai.conf || echo 'precedence ::ffff:0:0/96  100' >> /etc/gai.conf 2>/dev/null\n}\n\nupdate() {\nyellow \"å‡çº§ä¹Ÿæœ‰å¯èƒ½å‡ºæ„å¤–å“¦ï¼Œå»ºè®®å¦‚ä¸‹ï¼š\"\nyellow \"ä¸€ã€ç‚¹å‡»x-uié¢ç‰ˆä¸­çš„å¤‡ä»½ä¸æ¢å¤ï¼Œä¸‹è½½å¤‡ä»½æ–‡ä»¶x-ui-yg.db\"\nyellow \"äºŒã€åœ¨ /etc/x-ui-yg è·¯å¾„å¯¼å‡ºå¤‡ä»½æ–‡ä»¶x-ui-yg.db\"\nreadp \"ç¡®å®šå‡çº§ï¼Œè¯·æŒ‰å›è½¦(é€€å‡ºè¯·æŒ‰ctrl+c):\" ins\nif [[ -z $ins ]]; then\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service x-ui stop\nelse\nsystemctl stop x-ui\nfi\nserinstall && sleep 2\nrestart\n#curl -sL https://gitlab.com/rwkgyg/x-ui-yg/-/raw/main/version/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /usr/local/x-ui/v\ncurl -sL https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1 > /usr/local/x-ui/v\ngreen \"x-uiæ›´æ–°å®Œæˆ\" && sleep 2 && x-ui\nelse\nred \"è¾“å…¥æœ‰è¯¯\" && update\nfi\n}\n\nuninstall() {\nyellow \"æœ¬æ¬¡å¸è½½å°†æ¸…é™¤æ‰€æœ‰æ•°æ®ï¼Œå»ºè®®å¦‚ä¸‹ï¼š\"\nyellow \"ä¸€ã€ç‚¹å‡»x-uié¢ç‰ˆä¸­çš„å¤‡ä»½ä¸æ¢å¤ï¼Œä¸‹è½½å¤‡ä»½æ–‡ä»¶x-ui-yg.db\"\nyellow \"äºŒã€åœ¨ /etc/x-ui-yg è·¯å¾„å¯¼å‡ºå¤‡ä»½æ–‡ä»¶x-ui-yg.db\"\nreadp \"ç¡®å®šå¸è½½ï¼Œè¯·æŒ‰å›è½¦(é€€å‡ºè¯·æŒ‰ctrl+c):\" ins\nif [[ -z $ins ]]; then\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service x-ui stop\nrc-update del x-ui default\nrm /etc/init.d/x-ui -f\nelse\nsystemctl stop x-ui\nsystemctl disable x-ui\nrm /etc/systemd/system/x-ui.service -f\nsystemctl daemon-reload\nsystemctl reset-failed\nfi\nkill -15 $(cat /usr/local/x-ui/xuiargopid.log 2>/dev/null) >/dev/null 2>&1\nkill -15 $(cat /usr/local/x-ui/xuiargoympid.log 2>/dev/null) >/dev/null 2>&1\nkill -15 $(cat /usr/local/x-ui/xuiwpphid.log 2>/dev/null) >/dev/null 2>&1\nrm /usr/bin/x-ui -f\nrm /etc/x-ui-yg/ -rf\nrm /usr/local/x-ui/ -rf\nuncronxui\nrm -rf xuiyg_update\n#sed -i '/^precedence ::ffff:0:0\\/96  100/d' /etc/gai.conf 2>/dev/null\necho\ngreen \"x-uiå·²å¸è½½å®Œæˆ\"\necho\nblue \"æ¬¢è¿ç»§ç»­ä½¿ç”¨x-ui-ygè„šæœ¬ï¼šbash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/install.sh)\"\necho\nelse\nred \"è¾“å…¥æœ‰è¯¯\" && uninstall\nfi\n}\n\nreset_config() {\n/usr/local/x-ui/x-ui setting -reset\nsleep 1 \nportinstall\npathinstall\n}\n\nstop() {\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service x-ui stop\nelse\nsystemctl stop x-ui\nfi\ncheck_status\nif [[ $? == 1 ]]; then\ncrontab -l > /tmp/crontab.tmp\nsed -i '/goxui.sh/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"x-uiåœæ­¢æˆåŠŸ\"\nelse\nred \"x-uiåœæ­¢å¤±è´¥ï¼Œè¯·è¿è¡Œ x-ui log æŸ¥çœ‹æ—¥å¿—å¹¶åé¦ˆ\" && exit\nfi\n}\n\nrestart() {\nyellow \"è¯·ç¨ç­‰â€¦â€¦\"\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nrc-service x-ui restart\nelse\nsystemctl restart x-ui\nfi\nsleep 2\ncheck_status\nif [[ $? == 0 ]]; then\ncrontab -l > /tmp/crontab.tmp\nsed -i '/goxui.sh/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ncrontab -l > /tmp/crontab.tmp\necho \"* * * * * /usr/local/x-ui/goxui.sh\" >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"x-uié‡å¯æˆåŠŸ\"\nelse\nred \"x-uié‡å¯å¤±è´¥ï¼Œè¯·è¿è¡Œ x-ui log æŸ¥çœ‹æ—¥å¿—å¹¶åé¦ˆ\" && exit\nfi\n}\n\nshow_log() {\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nyellow \"æš‚ä¸æ”¯æŒalpineæŸ¥çœ‹æ—¥å¿—\"\nelse\njournalctl -u x-ui.service -e --no-pager -f\nfi\n}\n\nget_char(){\nSAVEDSTTY=`stty -g`\nstty -echo\nstty cbreak\ndd if=/dev/tty bs=1 count=1 2> /dev/null\nstty -raw\nstty echo\nstty $SAVEDSTTY\n}\n\nback(){\nwhite \"------------------------------------------------------------------------------------\"\nwhite \" å›x-uiä¸»èœå•ï¼Œè¯·æŒ‰ä»»æ„é”®\"\nwhite \" é€€å‡ºè„šæœ¬ï¼Œè¯·æŒ‰Ctrl+C\"\nget_char && show_menu\n}\n\nacme() {\nbash <(curl -Ls https://gitlab.com/rwkgyg/acme-script/raw/main/acme.sh)\nback\n}\n\nbbr() {\nbash <(curl -Ls https://raw.githubusercontent.com/teddysun/across/master/bbr.sh)\nback\n}\n\ncfwarp() {\nbash <(curl -Ls https://gitlab.com/rwkgyg/CFwarp/raw/main/CFwarp.sh)\nback\n}\n\nxuirestop(){\necho\nreadp \"1. åœæ­¢ x-ui \\n2. é‡å¯ x-ui \\n0. è¿”å›ä¸»èœå•\\nè¯·é€‰æ‹©ï¼š\" action\nif [[ $action == \"1\" ]]; then\nstop\nelif [[ $action == \"2\" ]]; then\nrestart\nelse\nshow_menu\nfi\n}\n\nxuichange(){\necho\nreadp \"1. æ›´æ”¹ x-ui ç”¨æˆ·åä¸å¯†ç  \\n2. æ›´æ”¹ x-ui é¢æ¿ç™»å½•ç«¯å£\\n3. æ›´æ”¹ x-ui é¢æ¿æ ¹è·¯å¾„\\n4. é‡ç½® x-ui é¢æ¿è®¾ç½®ï¼ˆé¢æ¿è®¾ç½®é€‰é¡¹ä¸­æ‰€æœ‰è®¾ç½®éƒ½æ¢å¤å‡ºå‚è®¾ç½®ï¼Œç™»å½•ç«¯å£ä¸é¢æ¿æ ¹è·¯å¾„å°†é‡æ–°è‡ªå®šä¹‰ï¼Œè´¦å·å¯†ç ä¸å˜ï¼‰\\n0. è¿”å›ä¸»èœå•\\nè¯·é€‰æ‹©ï¼š\" action\nif [[ $action == \"1\" ]]; then\nuserinstall && restart\nelif [[ $action == \"2\" ]]; then\nportinstall && restart\nelif [[ $action == \"3\" ]]; then\npathinstall && restart\nelif [[ $action == \"4\" ]]; then\nreset_config && restart\nelse\nshow_menu\nfi\n}\n\ncheck_status() {\nif [[ x\"${release}\" == x\"alpine\" ]]; then\nif [[ ! -f /etc/init.d/x-ui ]]; then\nreturn 2\nfi\ntemp=$(rc-service x-ui status | awk '{print $3}')\nif [[ x\"${temp}\" == x\"started\" ]]; then\nreturn 0\nelse\nreturn 1\nfi\nelse\nif [[ ! -f /etc/systemd/system/x-ui.service ]]; then\nreturn 2\nfi\ntemp=$(systemctl status x-ui | grep Active | awk '{print $3}' | cut -d \"(\" -f2 | cut -d \")\" -f1)\nif [[ x\"${temp}\" == x\"running\" ]]; then\nreturn 0\nelse\nreturn 1\nfi\nfi\n}\n\ncheck_enabled() {\nif [[ x\"${release}\" == x\"alpine\" ]]; then\ntemp=$(rc-status default | grep x-ui | awk '{print $1}')\nif [[ x\"${temp}\" == x\"x-ui\" ]]; then\nreturn 0\nelse\nreturn 1\nfi\nelse\ntemp=$(systemctl is-enabled x-ui)\nif [[ x\"${temp}\" == x\"enabled\" ]]; then\nreturn 0\nelse\nreturn 1\nfi\nfi\n}\n\ncheck_uninstall() {\ncheck_status\nif [[ $? != 2 ]]; then\nyellow \"x-uiå·²å®‰è£…ï¼Œå¯å…ˆé€‰æ‹©2å¸è½½ï¼Œå†å®‰è£…\" && sleep 3\nif [[ $# == 0 ]]; then\nshow_menu\nfi\nreturn 1\nelse\nreturn 0\nfi\n}\n\ncheck_install() {\ncheck_status\nif [[ $? == 2 ]]; then\nyellow \"æœªå®‰è£…x-uiï¼Œè¯·å…ˆå®‰è£…x-ui\" && sleep 3\nif [[ $# == 0 ]]; then\nshow_menu\nfi\nreturn 1\nelse\nreturn 0\nfi\n}\n\nshow_status() {\ncheck_status\ncase $? in\n0)\necho -e \"x-uiçŠ¶æ€: $blueå·²è¿è¡Œ$plain\"\nshow_enable_status\n;;\n1)\necho -e \"x-uiçŠ¶æ€: $yellowæœªè¿è¡Œ$plain\"\nshow_enable_status\n;;\n2)\necho -e \"x-uiçŠ¶æ€: $redæœªå®‰è£…$plain\"\nesac\nshow_xray_status\n}\n\nshow_enable_status() {\ncheck_enabled\nif [[ $? == 0 ]]; then\necho -e \"x-uiè‡ªå¯: $blueæ˜¯$plain\"\nelse\necho -e \"x-uiè‡ªå¯: $redå¦$plain\"\nfi\n}\n\ncheck_xray_status() {\ncount=$(ps -ef | grep \"xray-linux\" | grep -v \"grep\" | wc -l)\nif [[ count -ne 0 ]]; then\nreturn 0\nelse\nreturn 1\nfi\n}\n\nshow_xray_status() {\ncheck_xray_status\nif [[ $? == 0 ]]; then\necho -e \"xrayçŠ¶æ€: $blueå·²å¯åŠ¨$plain\"\nelse\necho -e \"xrayçŠ¶æ€: $redæœªå¯åŠ¨$plain\"\nfi\n}\n\nxuigo(){\ncat>/usr/local/x-ui/goxui.sh<<-\\EOF\n#!/bin/bash\nxui=`ps -aux |grep \"x-ui\" |grep -v \"grep\" |wc -l`\nxray=`ps -aux |grep \"xray\" |grep -v \"grep\" |wc -l`\nif [ $xui = 0 ];then\nsystemctl restart x-ui\nfi\nif [ $xray = 0 ];then\nsystemctl restart x-ui\nfi\nEOF\nchmod +x /usr/local/x-ui/goxui.sh\n}\n\ncronxui(){\nuncronxui\ncrontab -l > /tmp/crontab.tmp\necho \"* * * * * /usr/local/x-ui/goxui.sh\" >> /tmp/crontab.tmp\necho \"0 2 * * * systemctl restart x-ui\" >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\n\nuncronxui(){\ncrontab -l > /tmp/crontab.tmp\nsed -i '/goxui.sh/d' /tmp/crontab.tmp\nsed -i '/systemctl restart x-ui/d' /tmp/crontab.tmp\nsed -i '/xuiargoport.log/d' /tmp/crontab.tmp\nsed -i '/xuiargopid.log/d' /tmp/crontab.tmp\nsed -i '/xuiargoympid/d' /tmp/crontab.tmp\nsed -i '/xuiwpphid.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\n\nclose(){\nsystemctl stop firewalld.service >/dev/null 2>&1\nsystemctl disable firewalld.service >/dev/null 2>&1\nsetenforce 0 >/dev/null 2>&1\nufw disable >/dev/null 2>&1\niptables -P INPUT ACCEPT >/dev/null 2>&1\niptables -P FORWARD ACCEPT >/dev/null 2>&1\niptables -P OUTPUT ACCEPT >/dev/null 2>&1\niptables -t mangle -F >/dev/null 2>&1\niptables -F >/dev/null 2>&1\niptables -X >/dev/null 2>&1\nnetfilter-persistent save >/dev/null 2>&1\nif [[ -n $(apachectl -v 2>/dev/null) ]]; then\nsystemctl stop httpd.service >/dev/null 2>&1\nsystemctl disable httpd.service >/dev/null 2>&1\nservice apache2 stop >/dev/null 2>&1\nsystemctl disable apache2 >/dev/null 2>&1\nfi\nsleep 1\ngreen \"æ‰§è¡Œå¼€æ”¾ç«¯å£ï¼Œå…³é—­é˜²ç«å¢™å®Œæ¯•\"\n}\n\nopenyn(){\necho\nreadp \"æ˜¯å¦å¼€æ”¾ç«¯å£ï¼Œå…³é—­é˜²ç«å¢™ï¼Ÿ\\n1ã€æ˜¯ï¼Œæ‰§è¡Œ(å›è½¦é»˜è®¤)\\n2ã€å¦ï¼Œè·³è¿‡ï¼è‡ªè¡Œå¤„ç†\\nè¯·é€‰æ‹©ï¼š\" action\nif [[ -z $action ]] || [[ $action == \"1\" ]]; then\nclose\nelif [[ $action == \"2\" ]]; then\necho\nelse\nred \"è¾“å…¥é”™è¯¯,è¯·é‡æ–°é€‰æ‹©\" && openyn\nfi\n}\n\nchangeserv(){\necho\nreadp \"1ï¼šè®¾ç½®Argoä¸´æ—¶ã€å›ºå®šéš§é“\\n2ï¼šè®¾ç½®vmessä¸vlessèŠ‚ç‚¹åœ¨è®¢é˜…é“¾æ¥ä¸­çš„ä¼˜é€‰IPåœ°å€\\n3ï¼šè®¾ç½®Gitlabè®¢é˜…åˆ†äº«é“¾æ¥\\n4ï¼šè·å–warp-wireguardæ™®é€šè´¦å·é…ç½®\\n0ï¼šè¿”å›ä¸Šå±‚\\nè¯·é€‰æ‹©ã€0-4ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ];then\nxuiargo\nelif [ \"$menu\" = \"2\" ];then\nxuicfadd\nelif [ \"$menu\" = \"3\" ];then\ngitlabsub\nelif [ \"$menu\" = \"4\" ];then\nwarpwg\nelse \nshow_menu\nfi\n}\n\nwarpwg(){\nwarpcode(){\nreg(){\nkeypair=$(openssl genpkey -algorithm X25519|openssl pkey -text -noout)\nprivate_key=$(echo \"$keypair\" | awk '/priv:/{flag=1; next} /pub:/{flag=0} flag' | tr -d '[:space:]' | xxd -r -p | base64)\npublic_key=$(echo \"$keypair\" | awk '/pub:/{flag=1} flag' | tr -d '[:space:]' | xxd -r -p | base64)\ncurl -X POST 'https://api.cloudflareclient.com/v0a2158/reg' -sL --tlsv1.3 \\\n-H 'CF-Client-Version: a-7.21-0721' -H 'Content-Type: application/json' \\\n-d \\\n'{\n\"key\":\"'${public_key}'\",\n\"tos\":\"'$(date +\"%Y-%m-%dT%H:%M:%S.000Z\")'\"\n}' \\\n| python3 -m json.tool | sed \"/\\\"account_type\\\"/i\\         \\\"private_key\\\": \\\"$private_key\\\",\"\n}\nreserved(){\nreserved_str=$(echo \"$warp_info\" | grep 'client_id' | cut -d\\\" -f4)\nreserved_hex=$(echo \"$reserved_str\" | base64 -d | xxd -p)\nreserved_dec=$(echo \"$reserved_hex\" | fold -w2 | while read HEX; do printf '%d ' \"0x${HEX}\"; done | awk '{print \"[\"$1\", \"$2\", \"$3\"]\"}')\necho -e \"{\\n    \\\"reserved_dec\\\": $reserved_dec,\"\necho -e \"    \\\"reserved_hex\\\": \\\"0x$reserved_hex\\\",\"\necho -e \"    \\\"reserved_str\\\": \\\"$reserved_str\\\"\\n}\"\n}\nresult() {\necho \"$warp_reserved\" | grep -P \"reserved\" | sed \"s/ //g\" | sed 's/:\"/: \"/g' | sed 's/:\\[/: \\[/g' | sed 's/\\([0-9]\\+\\),\\([0-9]\\+\\),\\([0-9]\\+\\)/\\1, \\2, \\3/' | sed 's/^\"/    \"/g' | sed 's/\"$/\",/g'\necho \"$warp_info\" | grep -P \"(private_key|public_key|\\\"v4\\\": \\\"172.16.0.2\\\"|\\\"v6\\\": \\\"2)\" | sed \"s/ //g\" | sed 's/:\"/: \"/g' | sed 's/^\"/    \"/g'\necho \"}\"\n}\nwarp_info=$(reg) \nwarp_reserved=$(reserved) \nresult\n}\noutput=$(warpcode)\nif ! echo \"$output\" 2>/dev/null | grep -w \"private_key\" > /dev/null; then\nv6=2606:4700:110:8f20:f22e:2c8d:d8ee:fe7\npvk=SGU6hx3CJAWGMr6XYoChvnrKV61hxAw2S4VlgBAxzFs=\nres=[15,242,244]\nelse\npvk=$(echo \"$output\" | sed -n 4p | awk '{print $2}' | tr -d ' \"' | sed 's/.$//')\nv6=$(echo \"$output\" | sed -n 7p | awk '{print $2}' | tr -d ' \"')\nres=$(echo \"$output\" | sed -n 1p | awk -F\":\" '{print $NF}' | tr -d ' ' | sed 's/.$//')\nfi\ngreen \"æˆåŠŸç”Ÿæˆwarp-wireguardæ™®é€šè´¦å·é…ç½®ï¼Œè¿›å…¥x-uié¢æ¿-é¢æ¿è®¾ç½®-Xrayé…ç½®å‡ºç«™è®¾ç½®ï¼Œè¿›è¡Œä¸‰è¦ç´ æ›¿æ¢\"\nblue \"Private_keyç§é’¥ï¼š$pvk\"\nblue \"IPV6åœ°å€ï¼š$v6\"\nblue \"reservedå€¼ï¼š$res\"\n}\n\ncloudflaredargo(){\nif [ ! -e /usr/local/x-ui/cloudflared ]; then\ncase $(uname -m) in\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\n#aarch64) cpu=car;;\n#x86_64) cpu=cam;;\nesac\ncurl -L -o /usr/local/x-ui/cloudflared -# --retry 2 https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-$cpu\n#curl -L -o /usr/local/x-ui/cloudflared -# --retry 2 https://gitlab.com/rwkgyg/sing-box-yg/-/raw/main/$cpu\nchmod +x /usr/local/x-ui/cloudflared\nfi\n}\n\nxuiargo(){\necho\nyellow \"å¼€å¯Argoéš§é“èŠ‚ç‚¹çš„ä¸‰ä¸ªå‰æè¦æ±‚ï¼š\"\ngreen \"ä¸€ã€èŠ‚ç‚¹çš„ä¼ è¾“åè®®æ˜¯WS\"\ngreen \"äºŒã€èŠ‚ç‚¹çš„TLSå¿…é¡»å…³é—­\"\ngreen \"ä¸‰ã€èŠ‚ç‚¹çš„è¯·æ±‚å¤´ç•™ç©ºä¸è®¾\"\ngreen \"èŠ‚ç‚¹ç±»åˆ«å¯é€‰ï¼švmess-wsã€vless-wsã€trojan-wsã€shadowsocks-wsã€‚æ¨èvmess-ws\"\necho\nyellow \"1ï¼šè®¾ç½®Argoä¸´æ—¶éš§é“\"\nyellow \"2ï¼šè®¾ç½®Argoå›ºå®šéš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\ncfargo\nelif [ \"$menu\" = \"2\" ]; then\ncfargoym\nelse\nchangeserv\nfi\n}\n\ncfargo(){\necho\nyellow \"1ï¼šé‡ç½®Argoä¸´æ—¶éš§é“åŸŸå\"\nyellow \"2ï¼šåœæ­¢Argoä¸´æ—¶éš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"è¯·è¾“å…¥Argoç›‘å¬çš„WSèŠ‚ç‚¹ç«¯å£ï¼š\" port\necho \"$port\" > /usr/local/x-ui/xuiargoport.log\ncloudflaredargo\ni=0\nwhile [ $i -le 4 ]; do let i++\nyellow \"ç¬¬$iæ¬¡åˆ·æ–°éªŒè¯Cloudflared Argoéš§é“åŸŸåæœ‰æ•ˆæ€§ï¼Œè¯·ç¨ç­‰â€¦â€¦\"\nif [[ -n $(ps -e | grep cloudflared) ]]; then\nkill -15 $(cat /usr/local/x-ui/xuiargopid.log 2>/dev/null) >/dev/null 2>&1\nfi\n/usr/local/x-ui/cloudflared tunnel --url http://localhost:$port --edge-ip-version auto --no-autoupdate --protocol http2 > /usr/local/x-ui/argo.log 2>&1 &\necho \"$!\" > /usr/local/x-ui/xuiargopid.log\nsleep 20\nif [[ -n $(curl -sL https://$(cat /usr/local/x-ui/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')/ -I | awk 'NR==1 && /404|400|503/') ]]; then\nargo=$(cat /usr/local/x-ui/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')\nblue \"Argoéš§é“ç”³è¯·æˆåŠŸï¼ŒåŸŸåéªŒè¯æœ‰æ•ˆï¼š$argo\" && sleep 2\nbreak\nfi\nif [ $i -eq 5 ]; then\nred \"è¯·æ³¨æ„\"\nyellow \"1ï¼šè¯·ç¡®ä¿ä½ è¾“å…¥çš„ç«¯å£æ˜¯x-uiå·²åˆ›å»ºWSåè®®ç«¯å£\"\nyellow \"2ï¼šArgoåŸŸåéªŒè¯æš‚ä¸å¯ç”¨ï¼Œç¨åå¯èƒ½ä¼šè‡ªåŠ¨æ¢å¤ï¼Œæˆ–è€…å†æ¬¡é‡ç½®\" && sleep 2\nfi\ndone\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiargoport.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ncrontab -l > /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"/usr/local/x-ui/cloudflared tunnel --url http://localhost:$(cat /usr/local/x-ui/xuiargoport.log) --edge-ip-version auto --no-autoupdate --protocol http2 > /usr/local/x-ui/argo.log 2>&1 & pid=\\$! && echo \\$pid > /usr/local/x-ui/xuiargopid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nelif [ \"$menu\" = \"2\" ]; then\nkill -15 $(cat /usr/local/x-ui/xuiargopid.log 2>/dev/null) >/dev/null 2>&1\nrm -rf /usr/local/x-ui/argo.log /usr/local/x-ui/xuiargopid.log /usr/local/x-ui/xuiargoport.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiargopid.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"å·²å¸è½½Argoä¸´æ—¶éš§é“\"\nelse\nxuiargo\nfi\n}\n\ncfargoym(){\necho\nif [[ -f /usr/local/x-ui/xuiargotoken.log && -f /usr/local/x-ui/xuiargoym.log ]]; then\ngreen \"å½“å‰Argoå›ºå®šéš§é“åŸŸåï¼š$(cat /usr/local/x-ui/xuiargoym.log 2>/dev/null)\"\ngreen \"å½“å‰Argoå›ºå®šéš§é“Tokenï¼š$(cat /usr/local/x-ui/xuiargotoken.log 2>/dev/null)\"\nfi\necho\ngreen \"è¯·ç¡®ä¿Cloudflareå®˜ç½‘ --- Zero Trust --- Networks --- Tunnelså·²è®¾ç½®å®Œæˆ\"\nyellow \"1ï¼šé‡ç½®/è®¾ç½®Argoå›ºå®šéš§é“åŸŸå\"\nyellow \"2ï¼šåœæ­¢Argoå›ºå®šéš§é“\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nreadp \"è¯·è¾“å…¥Argoç›‘å¬çš„WSèŠ‚ç‚¹ç«¯å£ï¼š\" port\necho \"$port\" > /usr/local/x-ui/xuiargoymport.log\ncloudflaredargo\nreadp \"è¾“å…¥Argoå›ºå®šéš§é“Token: \" argotoken\nreadp \"è¾“å…¥Argoå›ºå®šéš§é“åŸŸå: \" argoym\nif [[ -n $(ps -e | grep cloudflared) ]]; then\nkill -15 $(cat /usr/local/x-ui/xuiargoympid.log 2>/dev/null) >/dev/null 2>&1\nfi\necho\nif [[ -n \"${argotoken}\" && -n \"${argoym}\" ]]; then\nnohup setsid /usr/local/x-ui/cloudflared tunnel --no-autoupdate --edge-ip-version auto --protocol http2 run --token ${argotoken} >/dev/null 2>&1 & echo \"$!\" > /usr/local/x-ui/xuiargoympid.log\nsleep 20\nfi\necho ${argoym} > /usr/local/x-ui/xuiargoym.log\necho ${argotoken} > /usr/local/x-ui/xuiargotoken.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiargoympid/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid /usr/local/x-ui/cloudflared tunnel --no-autoupdate --edge-ip-version auto --protocol http2 run --token $(cat /usr/local/x-ui/xuiargotoken.log 2>/dev/null) >/dev/null 2>&1 & pid=\\$! && echo \\$pid > /usr/local/x-ui/xuiargoympid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\nargo=$(cat /usr/local/x-ui/xuiargoym.log 2>/dev/null)\nblue \"Argoå›ºå®šéš§é“è®¾ç½®å®Œæˆï¼Œå›ºå®šåŸŸåï¼š$argo\"\nelif [ \"$menu\" = \"2\" ]; then\nkill -15 $(cat /usr/local/x-ui/xuiargoympid.log 2>/dev/null) >/dev/null 2>&1\nrm -rf /usr/local/x-ui/xuiargoym.log /usr/local/x-ui/xuiargoymport.log /usr/local/x-ui/xuiargoympid.log /usr/local/x-ui/xuiargotoken.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiargoympid/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"å·²å¸è½½Argoå›ºå®šéš§é“\"\nelse\nxuiargo\nfi\n}\n\nxuicfadd(){\n[[ -s /usr/local/x-ui/bin/xuicdnip_ws.txt ]] && cdnwsname=$(cat /usr/local/x-ui/bin/xuicdnip_ws.txt 2>/dev/null)  || cdnwsname='åŸŸåæˆ–IPç›´è¿'\n[[ -s /usr/local/x-ui/bin/xuicdnip_argo.txt ]] && cdnargoname=$(cat /usr/local/x-ui/bin/xuicdnip_argo.txt 2>/dev/null)  || cdnargoname=www.visa.com.sg\necho\ngreen \"æ¨èä½¿ç”¨ç¨³å®šçš„ä¸–ç•Œå¤§å‚æˆ–ç»„ç»‡çš„CDNç½‘ç«™ä½œä¸ºå®¢æˆ·ç«¯ä¼˜é€‰IPåœ°å€ï¼š\"\nblue \"www.visa.com.sg\"\nblue \"www.wto.org\"\nblue \"www.web.com\"\necho\nyellow \"1ï¼šè®¾ç½®æ‰€æœ‰ä¸»èŠ‚ç‚¹vmess/vlessè®¢é˜…èŠ‚ç‚¹å®¢æˆ·ç«¯ä¼˜é€‰IPåœ°å€ ã€å½“å‰æ­£ä½¿ç”¨ï¼š$cdnwsnameã€‘\"\nyellow \"2ï¼šè®¾ç½®ArgoèŠ‚ç‚¹vmess/vlessè®¢é˜…èŠ‚ç‚¹å®¢æˆ·ç«¯ä¼˜é€‰IPåœ°å€ ã€å½“å‰æ­£ä½¿ç”¨ï¼š$cdnargonameã€‘\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-2ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nred \"è¯·ç¡®ä¿æœ¬åœ°IPå·²è§£æåˆ°CFæ‰˜ç®¡çš„åŸŸåä¸Šï¼ŒèŠ‚ç‚¹ç«¯å£å·²è®¾ç½®ä¸º13ä¸ªCFæ ‡å‡†ç«¯å£ï¼š\"\nred \"å…³tlsç«¯å£ï¼š2052ã€2082ã€2086ã€2095ã€80ã€8880ã€8080\"\nred \"å¼€tlsç«¯å£ï¼š2053ã€2083ã€2087ã€2096ã€8443ã€443\"\nred \"å¦‚æœVPSä¸æ”¯æŒä»¥ä¸Š13ä¸ªCFæ ‡å‡†ç«¯å£ï¼ˆNATç±»VPSï¼‰ï¼Œè¯·åœ¨CFè§„åˆ™é¡µé¢---Origin Rulesé¡µé¢ä¸‹è®¾ç½®å¥½å›æºè§„åˆ™\" && sleep 2\necho\nreadp \"è¾“å…¥è‡ªå®šä¹‰çš„ä¼˜é€‰IP/åŸŸå (å›è½¦è·³è¿‡è¡¨ç¤ºæ¢å¤æœ¬åœ°IPç›´è¿)ï¼š\" menu\n[[ -z \"$menu\" ]] && > /usr/local/x-ui/bin/xuicdnip_ws.txt || echo \"$menu\" > /usr/local/x-ui/bin/xuicdnip_ws.txt\ngreen \"è®¾ç½®æˆåŠŸï¼Œå¯é€‰æ‹©7åˆ·æ–°\" && sleep 2 && show_menu\nelif [ \"$menu\" = \"2\" ]; then\nred \"è¯·ç¡®ä¿Argoä¸´æ—¶éš§é“æˆ–è€…å›ºå®šéš§é“çš„èŠ‚ç‚¹åŠŸèƒ½å·²å¯ç”¨\" && sleep 2\nreadp \"è¾“å…¥è‡ªå®šä¹‰çš„ä¼˜é€‰IP/åŸŸå (å›è½¦è·³è¿‡è¡¨ç¤ºç”¨é»˜è®¤ä¼˜é€‰åŸŸåï¼šwww.visa.com.sg)ï¼š\" menu\n[[ -z \"$menu\" ]] && > /usr/local/x-ui/bin/xuicdnip_argo.txt || echo \"$menu\" > /usr/local/x-ui/bin/xuicdnip_argo.txt\ngreen \"è®¾ç½®æˆåŠŸï¼Œå¯é€‰æ‹©7åˆ·æ–°\" && sleep 2 && show_menu\nelse\nchangeserv\nfi\n}\n\ngitlabsub(){\necho\ngreen \"è¯·ç¡®ä¿Gitlabå®˜ç½‘ä¸Šå·²å»ºç«‹é¡¹ç›®ï¼Œå·²å¼€å¯æ¨é€åŠŸèƒ½ï¼Œå·²è·å–è®¿é—®ä»¤ç‰Œ\"\nyellow \"1ï¼šé‡ç½®/è®¾ç½®Gitlabè®¢é˜…é“¾æ¥\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-1ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nchown -R root:root /usr/local/x-ui/bin /usr/local/x-ui\ncd /usr/local/x-ui/bin\nreadp \"è¾“å…¥ç™»å½•é‚®ç®±: \" email\nreadp \"è¾“å…¥è®¿é—®ä»¤ç‰Œ: \" token\nreadp \"è¾“å…¥ç”¨æˆ·å: \" userid\nreadp \"è¾“å…¥é¡¹ç›®å: \" project\necho\ngreen \"å¤šå°VPSå¯å…±ç”¨ä¸€ä¸ªä»¤ç‰ŒåŠé¡¹ç›®åï¼Œå¯åˆ›å»ºå¤šä¸ªåˆ†æ”¯è®¢é˜…é“¾æ¥\"\ngreen \"å›è½¦è·³è¿‡è¡¨ç¤ºä¸æ–°å»ºï¼Œä»…ä½¿ç”¨ä¸»åˆ†æ”¯mainè®¢é˜…é“¾æ¥(é¦–å°VPSå»ºè®®å›è½¦è·³è¿‡)\"\nreadp \"æ–°å»ºåˆ†æ”¯åç§°(å¯éšæ„å¡«å†™): \" gitlabml\necho\nsharesub_sbcl >/dev/null 2>&1\nif [[ -z \"$gitlabml\" ]]; then\ngitlab_ml=''\ngit_sk=main\nrm -rf /usr/local/x-ui/bin/gitlab_ml_ml\nelse\ngitlab_ml=\":${gitlabml}\"\ngit_sk=\"${gitlabml}\"\necho \"${gitlab_ml}\" > /usr/local/x-ui/bin/gitlab_ml_ml\nfi\necho \"$token\" > /usr/local/x-ui/bin/gitlabtoken.txt\nrm -rf /usr/local/x-ui/bin/.git\ngit init >/dev/null 2>&1\ngit add xui_singbox.json xui_clashmeta.yaml xui_ty.txt>/dev/null 2>&1\ngit config --global user.email \"${email}\" >/dev/null 2>&1\ngit config --global user.name \"${userid}\" >/dev/null 2>&1\ngit commit -m \"commit_add_$(date +\"%F %T\")\" >/dev/null 2>&1\nbranches=$(git branch)\nif [[ $branches == *master* ]]; then\ngit branch -m master main >/dev/null 2>&1\nfi\ngit remote add origin https://${token}@gitlab.com/${userid}/${project}.git >/dev/null 2>&1\nif [[ $(ls -a | grep '^\\.git$') ]]; then\ncat > /usr/local/x-ui/bin/gitpush.sh <<EOF\n#!/usr/bin/expect\nspawn bash -c \"git push -f origin main${gitlab_ml}\"\nexpect \"Password for 'https://$(cat /usr/local/x-ui/bin/gitlabtoken.txt 2>/dev/null)@gitlab.com':\"\nsend \"$(cat /usr/local/x-ui/bin/gitlabtoken.txt 2>/dev/null)\\r\"\ninteract\nEOF\nchmod +x gitpush.sh\n./gitpush.sh \"git push -f origin main${gitlab_ml}\" cat /usr/local/x-ui/bin/gitlabtoken.txt >/dev/null 2>&1\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/xui_singbox.json/raw?ref=${git_sk}&private_token=${token}\" > /usr/local/x-ui/bin/sing_box_gitlab.txt\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/xui_clashmeta.yaml/raw?ref=${git_sk}&private_token=${token}\" > /usr/local/x-ui/bin/clash_meta_gitlab.txt\necho \"https://gitlab.com/api/v4/projects/${userid}%2F${project}/repository/files/xui_ty.txt/raw?ref=${git_sk}&private_token=${token}\" > /usr/local/x-ui/bin/xui_ty_gitlab.txt\nsharesubshow\nelse\nyellow \"è®¾ç½®Gitlabè®¢é˜…é“¾æ¥å¤±è´¥ï¼Œè¯·åé¦ˆ\"\nfi\ncd\nelse\nchangeserv\nfi\n}\n\nsharesubshow(){\ngreen \"å½“å‰X-ui-Sing-boxèŠ‚ç‚¹å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"Sing-boxè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /usr/local/x-ui/bin/sing_box_gitlab.txt 2>/dev/null)\"\necho\ngreen \"Sing-boxè®¢é˜…é“¾æ¥äºŒç»´ç å¦‚ä¸‹ï¼š\"\nqrencode -o - -t ANSIUTF8 \"$(cat /usr/local/x-ui/bin/sing_box_gitlab.txt 2>/dev/null)\"\nsleep 3\necho\necho \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\ngreen \"å½“å‰X-ui-Clash-metaèŠ‚ç‚¹é…ç½®å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"Clash-metaè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /usr/local/x-ui/bin/clash_meta_gitlab.txt 2>/dev/null)\"\necho\ngreen \"Clash-metaè®¢é˜…é“¾æ¥äºŒç»´ç å¦‚ä¸‹ï¼š\"\nqrencode -o - -t ANSIUTF8 \"$(cat /usr/local/x-ui/bin/clash_meta_gitlab.txt 2>/dev/null)\"\nsleep 3\necho\necho \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\ngreen \"å½“å‰X-uièšåˆé€šç”¨èŠ‚ç‚¹é…ç½®å·²æ›´æ–°å¹¶æ¨é€\"\ngreen \"èšåˆé€šç”¨èŠ‚ç‚¹è®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\nblue \"$(cat /usr/local/x-ui/bin/xui_ty_gitlab.txt 2>/dev/null)\"\nsleep 3\necho\nyellow \"å¯ä»¥åœ¨ç½‘é¡µä¸Šè¾“å…¥ä»¥ä¸Šä¸‰ä¸ªè®¢é˜…é“¾æ¥æŸ¥çœ‹é…ç½®å†…å®¹ï¼Œå¦‚æœæ— é…ç½®å†…å®¹ï¼Œè¯·è‡ªæ£€Gitlabç›¸å…³è®¾ç½®å¹¶é‡ç½®\"\necho\n}\n\nsharesub(){\nsharesub_sbcl\necho\nred \"Gitlabè®¢é˜…é“¾æ¥å¦‚ä¸‹ï¼š\"\necho\ncd /usr/local/x-ui/bin\nif [[ $(ls -a | grep '^\\.git$') ]]; then\nif [ -f /usr/local/x-ui/bin/gitlab_ml_ml ]; then\ngitlab_ml=$(cat /usr/local/x-ui/bin/gitlab_ml_ml)\nfi\ngit rm --cached xui_singbox.json xui_clashmeta.yaml xui_ty.txt >/dev/null 2>&1\ngit commit -m \"commit_rm_$(date +\"%F %T\")\" >/dev/null 2>&1\ngit add xui_singbox.json xui_clashmeta.yaml xui_ty.txt >/dev/null 2>&1\ngit commit -m \"commit_add_$(date +\"%F %T\")\" >/dev/null 2>&1\nchmod +x gitpush.sh\n./gitpush.sh \"git push -f origin main${gitlab_ml}\" cat /usr/local/x-ui/bin/gitlabtoken.txt >/dev/null 2>&1\nsharesubshow\nelse\nyellow \"æœªè®¾ç½®Gitlabè®¢é˜…é“¾æ¥\"\nfi\ncd\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€X-UIèšåˆé€šç”¨èŠ‚ç‚¹åˆ†äº«é“¾æ¥æ˜¾ç¤ºå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /usr/local/x-ui/bin/xui_ty.txt ï¼Œå¯ç›´æ¥åœ¨å®¢æˆ·ç«¯å‰ªåˆ‡æ¿å¯¼å…¥æ·»åŠ \" && sleep 2\necho\ncat /usr/local/x-ui/bin/xui_ty.txt\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€X-UI-Clash-Metaé…ç½®æ–‡ä»¶æ“ä½œå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /usr/local/x-ui/bin/xui_clashmeta.yaml ï¼Œå¤åˆ¶è‡ªå»ºä»¥yamlæ–‡ä»¶æ ¼å¼ä¸ºå‡†\" \necho\nred \"è¾“å…¥ï¼šcat /usr/local/x-ui/bin/xui_clashmeta.yaml å³å¯æ˜¾ç¤ºé…ç½®å†…å®¹\" && sleep 2\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\nred \"ğŸš€XUI-Sing-box-SFA/SFI/SFWé…ç½®æ–‡ä»¶æ“ä½œå¦‚ä¸‹ï¼š\"\nred \"æ–‡ä»¶ç›®å½• /usr/local/x-ui/bin/xui_singbox.json ï¼Œå¤åˆ¶è‡ªå»ºä»¥jsonæ–‡ä»¶æ ¼å¼ä¸ºå‡†\"\necho\nred \"è¾“å…¥ï¼šcat /usr/local/x-ui/bin/xui_singbox.json å³å¯æ˜¾ç¤ºé…ç½®å†…å®¹\" && sleep 2\necho\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\necho\n}\n\nsharesub_sbcl(){\nif [[ -s /usr/local/x-ui/bin/xuicdnip_argo.txt ]]; then\ncdnargo=$(cat /usr/local/x-ui/bin/xuicdnip_argo.txt 2>/dev/null)\nelse\ncdnargo=www.visa.com.sg\nfi\ngreen \"è¯·ç¨ç­‰â€¦â€¦\"\nxip1=$(cat /usr/local/x-ui/xip 2>/dev/null | sed -n 1p)\nif [[ \"$xip1\" =~ : ]]; then\ndnsip='tls://[2001:4860:4860::8888]/dns-query'\nelse\ndnsip='tls://8.8.8.8/dns-query'\nfi\ncat > /usr/local/x-ui/bin/xui_singbox.json <<EOF\n{\n  \"log\": {\n    \"disabled\": false,\n    \"level\": \"info\",\n    \"timestamp\": true\n  },\n  \"experimental\": {\n    \"clash_api\": {\n      \"external_controller\": \"127.0.0.1:9090\",\n      \"external_ui\": \"ui\",\n      \"external_ui_download_url\": \"\",\n      \"external_ui_download_detour\": \"\",\n      \"secret\": \"\",\n      \"default_mode\": \"Rule\"\n       },\n      \"cache_file\": {\n            \"enabled\": true,\n            \"path\": \"cache.db\",\n            \"store_fakeip\": true\n        }\n    },\n    \"dns\": {\n        \"servers\": [\n            {\n                \"tag\": \"proxydns\",\n                \"address\": \"$dnsip\",\n                \"detour\": \"select\"\n            },\n            {\n                \"tag\": \"localdns\",\n                \"address\": \"h3://223.5.5.5/dns-query\",\n                \"detour\": \"direct\"\n            },\n            {\n                \"tag\": \"dns_fakeip\",\n                \"address\": \"fakeip\"\n            }\n        ],\n        \"rules\": [\n            {\n                \"outbound\": \"any\",\n                \"server\": \"localdns\",\n                \"disable_cache\": true\n            },\n            {\n                \"clash_mode\": \"Global\",\n                \"server\": \"proxydns\"\n            },\n            {\n                \"clash_mode\": \"Direct\",\n                \"server\": \"localdns\"\n            },\n            {\n                \"rule_set\": \"geosite-cn\",\n                \"server\": \"localdns\"\n            },\n            {\n                 \"rule_set\": \"geosite-geolocation-!cn\",\n                 \"server\": \"proxydns\"\n            },\n             {\n                \"rule_set\": \"geosite-geolocation-!cn\",         \n                \"query_type\": [\n                    \"A\",\n                    \"AAAA\"\n                ],\n                \"server\": \"dns_fakeip\"\n            }\n          ],\n           \"fakeip\": {\n           \"enabled\": true,\n           \"inet4_range\": \"198.18.0.0/15\",\n           \"inet6_range\": \"fc00::/18\"\n         },\n          \"independent_cache\": true,\n          \"final\": \"proxydns\"\n        },\n      \"inbounds\": [\n    {\n      \"type\": \"tun\",\n      \"tag\": \"tun-in\",\n      \"address\": [\n      \"172.19.0.1/30\",\n      \"fd00::1/126\"\n      ],\n      \"auto_route\": true,\n      \"strict_route\": true,\n      \"sniff\": true,\n      \"sniff_override_destination\": true,\n      \"domain_strategy\": \"prefer_ipv4\"\n    }\n  ],\n  \"outbounds\": [\n\n//_0\n\n    {\n      \"tag\": \"direct\",\n      \"type\": \"direct\"\n    },\n    {\n      \"tag\": \"select\",\n      \"type\": \"selector\",\n      \"default\": \"auto\",\n      \"outbounds\": [\n        \"auto\",\n\n//_1\n\n      ]\n    },\n    {\n      \"tag\": \"auto\",\n      \"type\": \"urltest\",\n      \"outbounds\": [\n\n//_2\n\n      ],\n      \"url\": \"https://www.gstatic.com/generate_204\",\n      \"interval\": \"1m\",\n      \"tolerance\": 50,\n      \"interrupt_exist_connections\": false\n    }\n  ],\n  \"route\": {\n      \"rule_set\": [\n            {\n                \"tag\": \"geosite-geolocation-!cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geosite-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            },\n            {\n                \"tag\": \"geoip-cn\",\n                \"type\": \"remote\",\n                \"format\": \"binary\",\n                \"url\": \"https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs\",\n                \"download_detour\": \"select\",\n                \"update_interval\": \"1d\"\n            }\n        ],\n    \"auto_detect_interface\": true,\n    \"final\": \"select\",\n    \"rules\": [\n      {\n      \"inbound\": \"tun-in\",\n      \"action\": \"sniff\"\n      },\n      {\n      \"protocol\": \"dns\",\n      \"action\": \"hijack-dns\"\n      },\n      {\n      \"port\": 443,\n      \"network\": \"udp\",\n      \"action\": \"reject\"\n      },\n      {\n        \"clash_mode\": \"Direct\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"clash_mode\": \"Global\",\n        \"outbound\": \"select\"\n      },\n      {\n        \"rule_set\": \"geoip-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-cn\",\n        \"outbound\": \"direct\"\n      },\n      {\n      \"ip_is_private\": true,\n      \"outbound\": \"direct\"\n      },\n      {\n        \"rule_set\": \"geosite-geolocation-!cn\",\n        \"outbound\": \"select\"\n      }\n    ]\n  },\n    \"ntp\": {\n    \"enabled\": true,\n    \"server\": \"time.apple.com\",\n    \"server_port\": 123,\n    \"interval\": \"30m\",\n    \"detour\": \"direct\"\n  }\n}\nEOF\n\ncat > /usr/local/x-ui/bin/xui_clashmeta.yaml <<EOF\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: true\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n\n#_0\n\nproxy-groups:\n- name: è´Ÿè½½å‡è¡¡\n  type: load-balance\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  strategy: round-robin\n  proxies: \n\n#_1\n\n\n- name: è‡ªåŠ¨é€‰æ‹©\n  type: url-test\n  url: https://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:  \n\n#_2                         \n    \n- name: ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\n  type: select\n  proxies:\n    - è´Ÿè½½å‡è¡¡                                         \n    - è‡ªåŠ¨é€‰æ‹©\n    - DIRECT\n\n#_3\n\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,ğŸŒé€‰æ‹©ä»£ç†èŠ‚ç‚¹\nEOF\n\nxui_sb_cl(){\nsed -i \"/#_0/r /usr/local/x-ui/bin/cl${i}.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - $tag\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - $tag\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - $tag\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sb${i}.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"$tag\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"$tag\\\",\" /usr/local/x-ui/bin/xui_singbox.json\n}\n\ntag_count=$(jq '.inbounds | map(select(.protocol == \"vless\" or .protocol == \"vmess\" or .protocol == \"trojan\" or .protocol == \"shadowsocks\")) | length' /usr/local/x-ui/bin/config.json)\nfor ((i=0; i<tag_count; i++))\ndo\njq -c \".inbounds | map(select(.protocol == \\\"vless\\\" or .protocol == \\\"vmess\\\" or .protocol == \\\"trojan\\\" or .protocol == \\\"shadowsocks\\\"))[$i]\" /usr/local/x-ui/bin/config.json > \"/usr/local/x-ui/bin/$((i+1)).log\"\ndone\nrm -rf /usr/local/x-ui/bin/ty.txt\nxip1=$(cat /usr/local/x-ui/xip 2>/dev/null | sed -n 1p)\nymip=$(cat /root/ygkkkca/ca.log 2>/dev/null)\ndirectory=\"/usr/local/x-ui/bin/\"\nfor i in $(seq 1 $tag_count); do\nfile=\"${directory}${i}.log\"\nif [ -f \"$file\" ]; then\n#vless-reality-vision\nif grep -q \"vless\" \"$file\" && grep -q \"reality\" \"$file\" && grep -q \"vision\" \"$file\"; then\nfinger=$(jq -r '.streamSettings.realitySettings.fingerprint' /usr/local/x-ui/bin/${i}.log)\nvl_name=$(jq -r '.streamSettings.realitySettings.serverNames[0]' /usr/local/x-ui/bin/${i}.log)\npublic_key=$(jq -r '.streamSettings.realitySettings.publicKey' /usr/local/x-ui/bin/${i}.log)\nshort_id=$(jq -r '.streamSettings.realitySettings.shortIds[0]' /usr/local/x-ui/bin/${i}.log)\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vl_port-vless-reality-vision\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n {\n      \"type\": \"vless\",\n      \"tag\": \"$tag\",\n      \"server\": \"$xip1\",\n      \"server_port\": $vl_port,\n      \"uuid\": \"$uuid\",\n      \"packet_encoding\": \"xudp\",\n      \"flow\": \"xtls-rprx-vision\",\n      \"tls\": {\n        \"enabled\": true,\n        \"server_name\": \"$vl_name\",\n        \"utls\": {\n          \"enabled\": true,\n          \"fingerprint\": \"$finger\"\n        },\n      \"reality\": {\n          \"enabled\": true,\n          \"public_key\": \"$public_key\",\n          \"short_id\": \"$short_id\"\n        }\n      }\n    },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag               \n  type: vless\n  server: $xip1                           \n  port: $vl_port                                \n  uuid: $uuid   \n  network: tcp\n  udp: true\n  tls: true\n  flow: xtls-rprx-vision\n  servername: $vl_name                 \n  reality-opts: \n    public-key: $public_key    \n    short-id: $short_id                      \n  client-fingerprint: $finger   \n\nEOF\necho \"vless://$uuid@$xip1:$vl_port?type=tcp&security=reality&sni=$vl_name&pbk=$public_key&flow=xtls-rprx-vision&sid=$short_id&fp=$finger#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#vless-tcp-vision\nelif grep -q \"vless\" \"$file\" && grep -q \"vision\" \"$file\" && grep -q \"keyFile\" \"$file\"; then\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vl_port-vless-tcp-vision\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vl_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": true,\n                \"insecure\": false\n            },\n            \"type\": \"vless\",\n            \"flow\": \"xtls-rprx-vision\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag           \n  type: vless\n  server: $servip                     \n  port: $vl_port                                  \n  uuid: $uuid  \n  network: tcp\n  tls: true\n  udp: true\n  flow: xtls-rprx-vision\n\n\nEOF\necho \"vless://$uuid@$servip:$vl_port?type=tcp&security=tls&flow=xtls-rprx-vision#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#vless-ws\nelif grep -q \"vless\" \"$file\" && grep -q \"ws\" \"$file\" && ! grep -qw \"{}}}\" \"$file\"; then\nws_path=$(jq -r '.streamSettings.wsSettings.path' /usr/local/x-ui/bin/${i}.log)\ntls=$(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\nif [[ $tls == 'tls' ]]; then\ntls=true \ntlsw=tls\nelse\ntls=false \ntlsw=''\nfi\nif ! [[ \"$vl_port\" =~ ^(2052|2082|2086|2095|80|8880|8080|2053|2083|2087|2096|8443|443)$ ]] && [[ -s /usr/local/x-ui/bin/xuicdnip_ws.txt ]]; then\nservip=$(cat /usr/local/x-ui/bin/xuicdnip_ws.txt 2>/dev/null)\nif [[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]]; then\nvl_port=8443\ntag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-å›æº-vless-ws-tls\nelse\nvl_port=8880\ntag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-å›æº-vless-ws\nfi\nelif [[ \"$vl_port\" =~ ^(2052|2082|2086|2095|80|8880|8080|2053|2083|2087|2096|8443|443)$ ]] && [[ -s /usr/local/x-ui/bin/xuicdnip_ws.txt ]]; then\nservip=$(cat /usr/local/x-ui/bin/xuicdnip_ws.txt 2>/dev/null)\n[[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]] && tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vless-ws-tls || tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vless-ws\nelse\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\n[[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]] && tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vless-ws-tls || tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vless-ws\nfi\nvl_name=$(jq -r '.streamSettings.wsSettings.headers.Host' /usr/local/x-ui/bin/${i}.log)\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\n\n\n\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vl_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vl_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vl_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: vless\n  server: $servip                       \n  port: $vl_port                                     \n  uuid: $uuid     \n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vl_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vl_name \n\nEOF\necho \"vless://$uuid@$servip:$vl_port?type=ws&security=$tlsw&sni=$vl_name&path=$ws_path&host=$vl_name#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#vmess-ws\nelif grep -q \"vmess\" \"$file\" && grep -q \"ws\" \"$file\" && ! grep -qw \"{}}}\" \"$file\"; then\nws_path=$(jq -r '.streamSettings.wsSettings.path' /usr/local/x-ui/bin/${i}.log)\nvm_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntls=$(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log)\nif [[ $tls == 'tls' ]]; then\ntls=true \ntlsw=tls\nelse\ntls=false \ntlsw=''\nfi\nif ! [[ \"$vm_port\" =~ ^(2052|2082|2086|2095|80|8880|8080|2053|2083|2087|2096|8443|443)$ ]] && [[ -s /usr/local/x-ui/bin/xuicdnip_ws.txt ]]; then\nservip=$(cat /usr/local/x-ui/bin/xuicdnip_ws.txt 2>/dev/null)\nif [[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]]; then\nvm_port=8443\ntag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-å›æº-vmess-ws-tls\nelse\nvm_port=8880\ntag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-å›æº-vmess-ws\nfi\nelif [[ \"$vm_port\" =~ ^(2052|2082|2086|2095|80|8880|8080|2053|2083|2087|2096|8443|443)$ ]] && [[ -s /usr/local/x-ui/bin/xuicdnip_ws.txt ]]; then\nservip=$(cat /usr/local/x-ui/bin/xuicdnip_ws.txt 2>/dev/null)\n[[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]] && tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vmess-ws-tls || tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vmess-ws\nelse\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\n[[ $(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log) == 'tls' ]] && tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vmess-ws-tls || tag=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)-vmess-ws\nfi\nvm_name=$(jq -r '.streamSettings.wsSettings.headers.Host' /usr/local/x-ui/bin/${i}.log)\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vm_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"server_name\": \"$vm_name\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: vmess\n  server: $servip                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n  network: ws\n  servername: $vm_name                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name\n\nEOF\necho -e \"vmess://$(echo '{\"add\":\"'$servip'\",\"aid\":\"0\",\"host\":\"'$vm_name'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"'$vm_port'\",\"ps\":\"'$tag'\",\"tls\":\"'$tlsw'\",\"sni\":\"'$vm_name'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#vmess-tcp\nelif grep -q \"vmess\" \"$file\" && grep -q \"tcp\" \"$file\"; then\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\ntls=$(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log)\nif [[ $tls == 'tls' ]]; then\ntls=true \ntlst=tls\nelse\ntls=false \ntlst=''\nfi\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\nvm_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vm_port-vmess-tcp\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vm_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: vmess\n  server: $servip                        \n  port: $vm_port                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: $tls\n\nEOF\necho -e \"vmess://$(echo '{\"add\":\"'$servip'\",\"aid\":\"0\",\"id\":\"'$uuid'\",\"net\":\"tcp\",\"port\":\"'$vm_port'\",\"ps\":\"'$tag'\",\"tls\":\"'$tlst'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#vless-tcp\nelif grep -q \"vless\" \"$file\" && grep -q \"tcp\" \"$file\"; then\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\ntls=$(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log)\nif [[ $tls == 'tls' ]]; then\ntls=true \ntlst=tls\nelse\ntls=false \ntlst=''\nfi\nuuid=$(jq -r '.settings.clients[0].id' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vl_port-vless-tcp\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vl_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: vless\n  server: $servip                       \n  port: $vl_port                                     \n  uuid: $uuid     \n  udp: true\n  tls: $tls\n\nEOF\necho \"vless://$uuid@$servip:$vl_port?type=tcp&security=$tlst#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#trojan-tcp-tls\nelif grep -q \"trojan\" \"$file\" && grep -q \"tcp\" \"$file\" && grep -q \"keyFile\" \"$file\"; then\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\npassword=$(jq -r '.settings.clients[0].password' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vl_port-trojan-tcp-tls\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vl_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": true,\n                \"insecure\": false\n            },\n            \"type\": \"trojan\",\n            \"password\": \"$password\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: trojan\n  server: $servip                       \n  port: $vl_port                                     \n  password: $password    \n  udp: true\n  sni: $servip\n  skip-cert-verify: false\n\nEOF\necho \"trojan://$password@$servip:$vl_port?security=tls&type=tcp#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#trojan-ws-tls\nelif grep -q \"trojan\" \"$file\" && grep -q \"ws\" \"$file\" && grep -q \"keyFile\" \"$file\"; then\nws_path=$(jq -r '.streamSettings.wsSettings.path' /usr/local/x-ui/bin/${i}.log)\nvm_name=$(jq -r '.streamSettings.wsSettings.headers.Host' /usr/local/x-ui/bin/${i}.log)\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\ntls=$(jq -r '.streamSettings.security' /usr/local/x-ui/bin/${i}.log)\n[[ $tls == 'tls' ]] && tls=true || tls=false\npassword=$(jq -r '.settings.clients[0].password' /usr/local/x-ui/bin/${i}.log)\nvl_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\ntag=$vl_port-trojan-ws-tls\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n            \"server\": \"$servip\",\n            \"server_port\": $vl_port,\n            \"tag\": \"$tag\",\n            \"tls\": {\n                \"enabled\": $tls,\n                \"insecure\": false\n            },\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$vm_name\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"trojan\",\n            \"password\": \"$password\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: trojan\n  server: $servip                       \n  port: $vl_port                                     \n  password: $password    \n  udp: true\n  sni: $servip\n  skip-cert-verify: false\n  network: ws                 \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $vm_name\n\nEOF\necho \"trojan://$password@$servip:$vl_port?security=tls&type=ws&path=$ws_path&host=$vm_name#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\n\n#shadowsocks-tcp\nelif grep -q \"shadowsocks\" \"$file\" && grep -q \"tcp\" \"$file\"; then\n[[ -n $ymip ]] && servip=$ymip || servip=$xip1\npassword=$(jq -r '.settings.password' /usr/local/x-ui/bin/${i}.log)\nvm_port=$(jq -r '.port' /usr/local/x-ui/bin/${i}.log)\nssmethod=$(jq -r '.settings.method' /usr/local/x-ui/bin/${i}.log)\ntag=$vm_port-ss-tcp\ncat > /usr/local/x-ui/bin/sb${i}.log <<EOF\n\n{\n      \"type\": \"shadowsocks\",\n      \"tag\": \"$tag\",\n      \"server\": \"$servip\",\n      \"server_port\": $vm_port,\n      \"method\": \"$ssmethod\",\n      \"password\": \"$password\"\n},\nEOF\n\ncat > /usr/local/x-ui/bin/cl${i}.log <<EOF\n\n- name: $tag                         \n  type: ss\n  server: $servip                        \n  port: $vm_port                                     \n  password: $password\n  cipher: $ssmethod\n  udp: true\n\nEOF\necho -e \"ss://$ssmethod:$password@$servip:$vm_port#$tag\" >>/usr/local/x-ui/bin/ty.txt\nxui_sb_cl\nfi\nelse\nred \"å½“å‰x-uiæœªè®¾ç½®æœ‰æ•ˆçš„èŠ‚ç‚¹é…ç½®\" && exit\nfi\ndone\n\nargopid\nargoprotocol=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .protocol' /usr/local/x-ui/bin/config.json 2>/dev/null)\nuuid=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].id' /usr/local/x-ui/bin/config.json 2>/dev/null)\nws_path=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.wsSettings.path' /usr/local/x-ui/bin/config.json 2>/dev/null)\nargotls=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.security' /usr/local/x-ui/bin/config.json 2>/dev/null)\nargolsym=$(cat /usr/local/x-ui/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')\nif [[ -n $(ps -e | grep -w $ls 2>/dev/null) ]] && [[ -f /usr/local/x-ui/xuiargoport.log ]] && [[ $argoprotocol =~ vless|vmess ]] && [[ ! \"$argotls\" = \"tls\" ]]; then\nif [[ $argoprotocol = vless ]]; then\n#vless-ws-tls-argoä¸´æ—¶\ncat > /usr/local/x-ui/bin/sbvltargo.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8443,\n            \"tag\": \"vl-tls-argoä¸´æ—¶-8443\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argolsym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argolsym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvltargo.log <<EOF\n\n- name: vl-tls-argoä¸´æ—¶-8443                         \n  type: vless\n  server: $cdnargo                       \n  port: 8443                                     \n  uuid: $uuid     \n  udp: true\n  tls: true\n  network: ws\n  servername: $argolsym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argolsym \n\nEOF\n\n#vless-ws-argoä¸´æ—¶\ncat > /usr/local/x-ui/bin/sbvlargo.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8880,\n            \"tag\": \"vl-argoä¸´æ—¶-8880\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argolsym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argolsym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvlargo.log <<EOF\n\n- name: vl-argoä¸´æ—¶-8880                         \n  type: vless\n  server: $cdnargo                       \n  port: 8880                                     \n  uuid: $uuid     \n  udp: true\n  tls: false\n  network: ws\n  servername: $argolsym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argolsym \n\nEOF\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvltargo.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vl-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vl-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vl-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvlargo.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vl-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vl-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vl-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvltargo.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vl-tls-argoä¸´æ—¶-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vl-tls-argoä¸´æ—¶-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvlargo.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vl-argoä¸´æ—¶-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vl-argoä¸´æ—¶-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\necho \"vless://$uuid@$cdnargo:8880?type=ws&security=none&path=$ws_path&host=$argolsym#vl-argoä¸´æ—¶-8880\" >>/usr/local/x-ui/bin/ty.txt\necho \"vless://$uuid@$cdnargo:8443?type=ws&security=tls&path=$ws_path&host=$argolsym#vl-tls-argoä¸´æ—¶-8443\" >>/usr/local/x-ui/bin/ty.txt\n\nelif [[ $argoprotocol = vmess ]]; then\n#vmess-ws-tls-argoä¸´æ—¶\ncat > /usr/local/x-ui/bin/sbvmtargo.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8443,\n            \"tag\": \"vm-tls-argoä¸´æ—¶-8443\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argolsym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argolsym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvmtargo.log <<EOF\n\n- name: vm-tls-argoä¸´æ—¶-8443                        \n  type: vmess\n  server: $cdnargo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argolsym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argolsym\n\nEOF\n\n#vmess-ws-argoä¸´æ—¶\ncat > /usr/local/x-ui/bin/sbvmargo.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8880,\n            \"tag\": \"vm-argoä¸´æ—¶-8880\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argolsym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argolsym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvmargo.log <<EOF\n\n- name: vm-argoä¸´æ—¶-8880                         \n  type: vmess\n  server: $cdnargo                       \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argolsym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argolsym\n\nEOF\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvmtargo.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vm-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vm-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vm-tls-argoä¸´æ—¶-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvmargo.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vm-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vm-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vm-argoä¸´æ—¶-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvmtargo.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vm-tls-argoä¸´æ—¶-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vm-tls-argoä¸´æ—¶-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvmargo.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vm-argoä¸´æ—¶-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vm-argoä¸´æ—¶-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\necho -e \"vmess://$(echo '{\"add\":\"'$cdnargo'\",\"aid\":\"0\",\"host\":\"'$argolsym'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8880\",\"ps\":\"vm-argoä¸´æ—¶-8880\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\necho -e \"vmess://$(echo '{\"add\":\"'$cdnargo'\",\"aid\":\"0\",\"host\":\"'$argolsym'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"vm-tls-argoä¸´æ—¶-8443\",\"tls\":\"tls\",\"sni\":\"'$argolsym'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\nfi\nfi\n\nargoprotocol=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .protocol' /usr/local/x-ui/bin/config.json 2>/dev/null)\nuuid=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].id' /usr/local/x-ui/bin/config.json 2>/dev/null)\nws_path=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.wsSettings.path' /usr/local/x-ui/bin/config.json 2>/dev/null)\nargotls=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.security' /usr/local/x-ui/bin/config.json 2>/dev/null)\nargoym=$(cat /usr/local/x-ui/xuiargoym.log 2>/dev/null)\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) ]] && [[ -f /usr/local/x-ui/xuiargoymport.log ]] && [[ $argoprotocol =~ vless|vmess ]] && [[ ! \"$argotls\" = \"tls\" ]]; then\nif [[ $argoprotocol = vless ]]; then\n#vless-ws-tls-argoå›ºå®š\ncat > /usr/local/x-ui/bin/sbvltargoym.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8443,\n            \"tag\": \"vl-tls-argoå›ºå®š-8443\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argoym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argoym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvltargoym.log <<EOF\n\n- name: vl-tls-argoå›ºå®š-8443                         \n  type: vless\n  server: $cdnargo                       \n  port: 8443                                     \n  uuid: $uuid     \n  udp: true\n  tls: true\n  network: ws\n  servername: $argoym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argoym \n\nEOF\n\n#vless-ws-argoå›ºå®š\ncat > /usr/local/x-ui/bin/sbvlargoym.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8880,\n            \"tag\": \"vl-argoå›ºå®š-8880\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argoym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argoym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vless\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvlargoym.log <<EOF\n\n- name: vl-argoå›ºå®š-8880                         \n  type: vless\n  server: $cdnargo                       \n  port: 8880                                     \n  uuid: $uuid     \n  udp: true\n  tls: false\n  network: ws\n  servername: $argoym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argoym \n\nEOF\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvltargoym.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vl-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vl-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vl-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvlargoym.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vl-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vl-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vl-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvltargoym.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vl-tls-argoå›ºå®š-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vl-tls-argoå›ºå®š-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvlargoym.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vl-argoå›ºå®š-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vl-argoå›ºå®š-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\necho \"vless://$uuid@$cdnargo:8880?type=ws&security=none&path=$ws_path&host=$argoym#vl-argoä¸´æ—¶-8880\" >>/usr/local/x-ui/bin/ty.txt\necho \"vless://$uuid@$cdnargo:8443?type=ws&security=tls&path=$ws_path&host=$argoym#vl-tls-argoä¸´æ—¶-8443\" >>/usr/local/x-ui/bin/ty.txt\n\nelif [[ $argoprotocol = vmess ]]; then\n#vmess-ws-tls-argoå›ºå®š\ncat > /usr/local/x-ui/bin/sbvmtargoym.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8443,\n            \"tag\": \"vm-tls-argoå›ºå®š-8443\",\n            \"tls\": {\n                \"enabled\": true,\n                \"server_name\": \"$argoym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argoym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvmtargoym.log <<EOF\n\n- name: vm-tls-argoå›ºå®š-8443                        \n  type: vmess\n  server: $cdnargo                        \n  port: 8443                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: true\n  network: ws\n  servername: $argoym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argoym\n\nEOF\n\n#vmess-ws-argoå›ºå®š\ncat > /usr/local/x-ui/bin/sbvmargoym.log <<EOF\n\n{\n            \"server\": \"$cdnargo\",\n            \"server_port\": 8880,\n            \"tag\": \"vm-argoå›ºå®š-8880\",\n            \"tls\": {\n                \"enabled\": false,\n                \"server_name\": \"$argoym\",\n                \"insecure\": false,\n                \"utls\": {\n                    \"enabled\": true,\n                    \"fingerprint\": \"chrome\"\n                }\n            },\n            \"packet_encoding\": \"packetaddr\",\n            \"transport\": {\n                \"headers\": {\n                    \"Host\": [\n                        \"$argoym\"\n                    ]\n                },\n                \"path\": \"$ws_path\",\n                \"type\": \"ws\"\n            },\n            \"type\": \"vmess\",\n            \"security\": \"auto\",\n            \"uuid\": \"$uuid\"\n        },\nEOF\n\ncat > /usr/local/x-ui/bin/clvmargoym.log <<EOF\n\n- name: vm-argoå›ºå®š-8880                         \n  type: vmess\n  server: $cdnargo                       \n  port: 8880                                     \n  uuid: $uuid       \n  alterId: 0\n  cipher: auto\n  udp: true\n  tls: false\n  network: ws\n  servername: $argoym                    \n  ws-opts:\n    path: \"$ws_path\"                             \n    headers:\n      Host: $argoym\n\nEOF\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvmtargoym.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vm-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vm-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vm-tls-argoå›ºå®š-8443\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_0/r /usr/local/x-ui/bin/clvmargoym.log\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_1/ i\\\\    - vm-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_2/ i\\\\    - vm-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/#_3/ i\\\\    - vm-argoå›ºå®š-8880\" /usr/local/x-ui/bin/xui_clashmeta.yaml\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvmtargoym.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vm-tls-argoå›ºå®š-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vm-tls-argoå›ºå®š-8443\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_0/r /usr/local/x-ui/bin/sbvmargoym.log\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_1/ i\\\\ \\\"vm-argoå›ºå®š-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i \"/\\/\\/_2/ i\\\\ \\\"vm-argoå›ºå®š-8880\\\",\" /usr/local/x-ui/bin/xui_singbox.json\necho -e \"vmess://$(echo '{\"add\":\"'$cdnargo'\",\"aid\":\"0\",\"host\":\"'$argoym'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8880\",\"ps\":\"vm-argoå›ºå®š-8880\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\necho -e \"vmess://$(echo '{\"add\":\"'$cdnargo'\",\"aid\":\"0\",\"host\":\"'$argoym'\",\"id\":\"'$uuid'\",\"net\":\"ws\",\"path\":\"'$ws_path'\",\"port\":\"8443\",\"ps\":\"vm-tls-argoå›ºå®š-8443\",\"tls\":\"tls\",\"sni\":\"'$argoym'\",\"type\":\"none\",\"v\":\"2\"}' | base64 -w 0)\" >>/usr/local/x-ui/bin/ty.txt\nfi\nfi\nline=$(grep -B1 \"//_1\" /usr/local/x-ui/bin/xui_singbox.json | grep -v \"//_1\")\nnew_line=$(echo \"$line\" | sed 's/,//g')\nsed -i \"/^$line$/s/.*/$new_line/g\" /usr/local/x-ui/bin/xui_singbox.json\nsed -i '/\\/\\/_0\\|\\/\\/_1\\|\\/\\/_2/d' /usr/local/x-ui/bin/xui_singbox.json\nsed -i '/#_0\\|#_1\\|#_2\\|#_3/d' /usr/local/x-ui/bin/xui_clashmeta.yaml\nfind /usr/local/x-ui/bin -type f -name \"*.log\" -delete\nurl=$(cat /usr/local/x-ui/bin/ty.txt 2>/dev/null)\nbaseurl=$(echo -e \"$url\" | base64 -w 0)\necho \"$baseurl\" > /usr/local/x-ui/bin/xui_ty.txt\n}\n\ninsxuiwpph(){\nins(){\nif [ ! -e /usr/local/x-ui/xuiwpph ]; then\ncase $(uname -m) in\naarch64) cpu=arm64;;\nx86_64) cpu=amd64;;\nesac\ncurl -L -o /usr/local/x-ui/xuiwpph -# --retry 2 --insecure https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/xuiwpph_$cpu\nchmod +x /usr/local/x-ui/xuiwpph\nfi\nif [[ -n $(ps -e | grep xuiwpph) ]]; then\nkill -15 $(cat /usr/local/x-ui/xuiwpphid.log 2>/dev/null) >/dev/null 2>&1\nfi\nv4v6\nif [[ -z $v4 ]]; then\nred \"IPV4ä¸å­˜åœ¨ï¼Œç¡®ä¿å®‰è£…è¿‡WARP-IPV4æ¨¡å¼\"\nfi \n[[ -n $v6 ]] && sw46=6 || sw46=4\necho\nreadp \"è®¾ç½®WARP-plus-Socks5ç«¯å£ï¼ˆå›è½¦è·³è¿‡ç«¯å£é»˜è®¤40000ï¼‰ï¼š\" port\nif [[ -z $port ]]; then\nport=40000\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] \ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nelse\nuntil [[ -z $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") && -z $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]]\ndo\n[[ -n $(ss -tunlp | grep -w udp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") || -n $(ss -tunlp | grep -w tcp | awk '{print $5}' | sed 's/.*://g' | grep -w \"$port\") ]] && yellow \"\\nç«¯å£è¢«å ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ç«¯å£\" && readp \"è‡ªå®šä¹‰ç«¯å£:\" port\ndone\nfi\n}\nunins(){\nkill -15 $(cat /usr/local/x-ui/xuiwpphid.log 2>/dev/null) >/dev/null 2>&1\nrm -rf /usr/local/x-ui/xuiwpph.log /usr/local/x-ui/xuiwpphid.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiwpphid.log/d' /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\n}\necho\nyellow \"1ï¼šé‡ç½®å¯ç”¨WARP-plus-Socks5æœ¬åœ°Warpä»£ç†æ¨¡å¼\"\nyellow \"2ï¼šé‡ç½®å¯ç”¨WARP-plus-Socks5å¤šåœ°åŒºPsiphonä»£ç†æ¨¡å¼\"\nyellow \"3ï¼šåœæ­¢WARP-plus-Socks5ä»£ç†æ¨¡å¼\"\nyellow \"0ï¼šè¿”å›ä¸Šå±‚\"\nreadp \"è¯·é€‰æ‹©ã€0-3ã€‘ï¼š\" menu\nif [ \"$menu\" = \"1\" ]; then\nins\nnohup setsid /usr/local/x-ui/xuiwpph -b 127.0.0.1:$port --gool -$sw46 >/dev/null 2>&1 & echo \"$!\" > /usr/local/x-ui/xuiwpphid.log\ngreen \"ç”³è¯·IPä¸­â€¦â€¦è¯·ç¨ç­‰â€¦â€¦\" && sleep 20\nresv1=$(curl -s --socks5 localhost:$port icanhazip.com)\nresv2=$(curl -sx socks5h://localhost:$port icanhazip.com)\nif [[ -z $resv1 && -z $resv2 ]]; then\nred \"WARP-plus-Socks5çš„IPè·å–å¤±è´¥\" && unins && exit\nelse\necho \"/usr/local/x-ui/xuiwpph -b 127.0.0.1:$port --gool -$sw46 >/dev/null 2>&1\" > /usr/local/x-ui/xuiwpph.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiwpphid.log/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid $(cat /usr/local/x-ui/xuiwpph.log 2>/dev/null) & pid=\\$! && echo \\$pid > /usr/local/x-ui/xuiwpphid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"WARP-plus-Socks5çš„IPè·å–æˆåŠŸï¼Œå¯è¿›è¡ŒSocks5ä»£ç†åˆ†æµ\"\nfi\nelif [ \"$menu\" = \"2\" ]; then\nins\necho '\nå¥¥åœ°åˆ©ï¼ˆATï¼‰\næ¾³å¤§åˆ©äºšï¼ˆAUï¼‰\næ¯”åˆ©æ—¶ï¼ˆBEï¼‰\nä¿åŠ åˆ©äºšï¼ˆBGï¼‰\nåŠ æ‹¿å¤§ï¼ˆCAï¼‰\nç‘å£«ï¼ˆCHï¼‰\næ·å…‹ (CZ)\nå¾·å›½ï¼ˆDEï¼‰\nä¸¹éº¦ï¼ˆDKï¼‰\nçˆ±æ²™å°¼äºšï¼ˆEEï¼‰\nè¥¿ç­ç‰™ï¼ˆESï¼‰\nèŠ¬å…°ï¼ˆFIï¼‰\næ³•å›½ï¼ˆFRï¼‰\nè‹±å›½ï¼ˆGBï¼‰\nå…‹ç½—åœ°äºšï¼ˆHRï¼‰\nåŒˆç‰™åˆ© (HU)\nçˆ±å°”å…°ï¼ˆIEï¼‰\nå°åº¦ï¼ˆINï¼‰\næ„å¤§åˆ© (IT)\næ—¥æœ¬ï¼ˆJPï¼‰\næ‹‰è„±ç»´äºšï¼ˆLVï¼‰\nè·å…°ï¼ˆNLï¼‰\næŒªå¨ (NO)\næ³¢å…°ï¼ˆPLï¼‰\nè‘¡è„ç‰™ï¼ˆPTï¼‰\nç½—é©¬å°¼äºš (RO)\nå¡å°”ç»´äºšï¼ˆRSï¼‰\nç‘å…¸ï¼ˆSEï¼‰\næ–°åŠ å¡ (SG)\næ–¯æ´›ä¼å…‹ï¼ˆSKï¼‰\nç¾å›½ï¼ˆUSï¼‰\n'\nreadp \"å¯é€‰æ‹©å›½å®¶åœ°åŒºï¼ˆè¾“å…¥æœ«å°¾ä¸¤ä¸ªå¤§å†™å­—æ¯ï¼Œå¦‚ç¾å›½ï¼Œåˆ™è¾“å…¥USï¼‰ï¼š\" guojia\nnohup setsid /usr/local/x-ui/xuiwpph -b 127.0.0.1:$port --cfon --country $guojia -$sw46 >/dev/null 2>&1 & echo \"$!\" > /usr/local/x-ui/xuiwpphid.log\ngreen \"ç”³è¯·IPä¸­â€¦â€¦è¯·ç¨ç­‰â€¦â€¦\" && sleep 20\nresv1=$(curl -s --socks5 localhost:$port icanhazip.com)\nresv2=$(curl -sx socks5h://localhost:$port icanhazip.com)\nif [[ -z $resv1 && -z $resv2 ]]; then\nred \"WARP-plus-Socks5çš„IPè·å–å¤±è´¥ï¼Œå°è¯•æ¢ä¸ªå›½å®¶åœ°åŒºå§\" && unins && exit\nelse\necho \"/usr/local/x-ui/xuiwpph -b 127.0.0.1:$port --cfon --country $guojia -$sw46 >/dev/null 2>&1\" > /usr/local/x-ui/xuiwpph.log\ncrontab -l > /tmp/crontab.tmp\nsed -i '/xuiwpphid.log/d' /tmp/crontab.tmp\necho '@reboot /bin/bash -c \"nohup setsid $(cat /usr/local/x-ui/xuiwpph.log 2>/dev/null) & pid=\\$! && echo \\$pid > /usr/local/x-ui/xuiwpphid.log\"' >> /tmp/crontab.tmp\ncrontab /tmp/crontab.tmp\nrm /tmp/crontab.tmp\ngreen \"WARP-plus-Socks5çš„IPè·å–æˆåŠŸï¼Œå¯è¿›è¡ŒSocks5ä»£ç†åˆ†æµ\"\nfi\nelif [ \"$menu\" = \"3\" ]; then\nunins && green \"å·²åœæ­¢WARP-plus-Socks5ä»£ç†åŠŸèƒ½\"\nelse\nshow_menu\nfi\n}\n\nshow_menu(){\nclear\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"           \necho -e \"${bblue} â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ         â–‘â–ˆ${plain}â–ˆ   â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ     â–‘â–ˆ${red}â–ˆ   â–‘â–ˆâ–ˆ${plain}  \"\necho -e \"${bblue}  â–‘â–ˆâ–ˆ   â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ    â–‘â–‘â–ˆâ–ˆ${plain}        â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ${red}      â–‘â–ˆâ–ˆ  â–‘â–ˆâ–ˆ${plain}   \"\necho -e \"${bblue}   â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ      â–‘â–ˆâ–ˆ ${plain}                â–‘â–ˆâ–ˆ â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–ˆ${red}â–ˆ        â–‘â–ˆâ–ˆ â–ˆâ–ˆ  ${plain}   \"\necho -e \"${bblue}     â–‘â–ˆâ–ˆ        â–‘${plain}â–ˆâ–ˆ    â–‘â–ˆâ–ˆ â–ˆâ–ˆ       â–‘â–ˆâ–ˆ â–ˆâ–ˆ        â–‘â–ˆ${red}â–ˆ â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–ˆâ–ˆ  ${plain}  \"\necho -e \"${bblue}     â–‘â–ˆâ–ˆ ${plain}        â–‘â–ˆâ–ˆ    â–‘â–‘â–ˆâ–ˆ        â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ       â–‘${red}â–ˆâ–ˆ â–‘â–ˆâ–ˆ       â–‘â–ˆâ–ˆ â–‘â–ˆâ–ˆ ${plain}  \"\necho -e \"${bblue}     â–‘â–ˆ${plain}â–ˆ          â–‘â–ˆâ–ˆ â–ˆâ–ˆ â–ˆâ–ˆ         â–‘â–ˆâ–ˆ  â–‘â–‘${red}â–ˆâ–ˆ     â–‘â–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆ     â–‘â–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆ ${plain}  \"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \nwhite \"ç”¬å“¥Githubé¡¹ç›®  ï¼šgithub.com/yonggekkk\"\nwhite \"ç”¬å“¥Bloggeråšå®¢ ï¼šygkkk.blogspot.com\"\nwhite \"ç”¬å“¥YouTubeé¢‘é“ ï¼šwww.youtube.com/@ygkkk\"\nwhite \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \nwhite \"x-ui-ygè„šæœ¬å¿«æ·æ–¹å¼ï¼šx-ui\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \ngreen \" 1. ä¸€é”®å®‰è£… x-ui\"\ngreen \" 2. åˆ é™¤å¸è½½ x-ui\"\necho \"----------------------------------------------------------------------------------\"\ngreen \" 3. å…¶ä»–è®¾ç½® ã€ArgoåŒéš§é“ã€è®¢é˜…ä¼˜é€‰IPã€Gitlabè®¢é˜…é“¾æ¥ã€è·å–warp-wireguardè´¦å·é…ç½®ã€‘\"\ngreen \" 4. å˜æ›´ x-ui é¢æ¿è®¾ç½® ã€ç”¨æˆ·åå¯†ç ã€ç™»å½•ç«¯å£ã€æ ¹è·¯å¾„ã€è¿˜åŸé¢æ¿ã€‘\"\ngreen \" 5. å…³é—­ã€é‡å¯ x-ui\"\ngreen \" 6. æ›´æ–° x-ui è„šæœ¬\"\necho \"----------------------------------------------------------------------------------\"\ngreen \" 7. æ›´æ–°å¹¶æŸ¥çœ‹èšåˆé€šç”¨èŠ‚ç‚¹ã€clash-metaä¸sing-boxå®¢æˆ·ç«¯é…ç½®åŠè®¢é˜…é“¾æ¥\"\ngreen \" 8. æŸ¥çœ‹ x-ui è¿è¡Œæ—¥å¿—\"\ngreen \" 9. ä¸€é”®åŸç‰ˆBBR+FQåŠ é€Ÿ\"\ngreen \"10. ç®¡ç† Acme ç”³è¯·åŸŸåè¯ä¹¦\"\ngreen \"11. ç®¡ç† Warp æŸ¥çœ‹æœ¬åœ°Netflixã€ChatGPTè§£é”æƒ…å†µ\"\ngreen \"12. æ·»åŠ WARP-plus-Socks5ä»£ç†æ¨¡å¼ ã€æœ¬åœ°Warp/å¤šåœ°åŒºPsiphon-VPNã€‘\"\ngreen \"13. åˆ·æ–°IPé…ç½®åŠå‚æ•°æ˜¾ç¤º\"\ngreen \" 0. é€€å‡ºè„šæœ¬\"\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \ninsV=$(cat /usr/local/x-ui/v 2>/dev/null)\n#latestV=$(curl -s https://gitlab.com/rwkgyg/x-ui-yg/-/raw/main/version/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1)\nlatestV=$(curl -sL https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/version | awk -F \"æ›´æ–°å†…å®¹\" '{print $1}' | head -n 1)\nif [[ -f /usr/local/x-ui/v ]]; then\nif [ \"$insV\" = \"$latestV\" ]; then\necho -e \"å½“å‰ x-ui-yg è„šæœ¬æœ€æ–°ç‰ˆï¼š${bblue}${insV}${plain} (å·²å®‰è£…)\"\nelse\necho -e \"å½“å‰ x-ui-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${bblue}${insV}${plain}\"\necho -e \"æ£€æµ‹åˆ°æœ€æ–° x-ui-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${yellow}${latestV}${plain} (å¯é€‰æ‹©6è¿›è¡Œæ›´æ–°)\"\necho -e \"${yellow}$(curl -sL https://raw.githubusercontent.com/yonggekkk/x-ui-yg/main/version)${plain}\"\n#echo -e \"${yellow}$(curl -sL https://gitlab.com/rwkgyg/x-ui-yg/-/raw/main/version/version)${plain}\"\nfi\nelse\necho -e \"å½“å‰ x-ui-yg è„šæœ¬ç‰ˆæœ¬å·ï¼š${bblue}${latestV}${plain}\"\necho -e \"è¯·å…ˆé€‰æ‹© 1 ï¼Œå®‰è£… x-ui-yg è„šæœ¬\"\nfi\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \necho -e \"VPSçŠ¶æ€å¦‚ä¸‹ï¼š\"\necho -e \"ç³»ç»Ÿ:$blue$op$plain  \\c\";echo -e \"å†…æ ¸:$blue$version$plain  \\c\";echo -e \"å¤„ç†å™¨:$blue$cpu$plain  \\c\";echo -e \"è™šæ‹ŸåŒ–:$blue$vi$plain  \\c\";echo -e \"BBRç®—æ³•:$blue$bbr$plain\"\nv4v6\nif [[ \"$v6\" == \"2a09\"* ]]; then\nw6=\"ã€WARPã€‘\"\nfi\nif [[ \"$v4\" == \"104.28\"* ]]; then\nw4=\"ã€WARPã€‘\"\nfi\nif [[ -z $v4 ]]; then\nvps_ipv4='æ— IPV4'      \nvps_ipv6=\"$v6\"\nelif [[ -n $v4 && -n $v6 ]]; then\nvps_ipv4=\"$v4\"    \nvps_ipv6=\"$v6\"\nelse\nvps_ipv4=\"$v4\"    \nvps_ipv6='æ— IPV6'\nfi\necho -e \"æœ¬åœ°IPV4åœ°å€ï¼š$blue$vps_ipv4$w4$plain   æœ¬åœ°IPV6åœ°å€ï¼š$blue$vps_ipv6$w6$plain\"\necho \"------------------------------------------------------------------------------------\"\nif [[ -n $(ps -e | grep xuiwpph) ]]; then\ns5port=$(cat /usr/local/x-ui/xuiwpph.log 2>/dev/null | awk '{print $3}'| awk -F\":\" '{print $NF}')\ns5gj=$(cat /usr/local/x-ui/xuiwpph.log 2>/dev/null | awk '{print $6}')\ncase \"$s5gj\" in\nAT) showgj=\"å¥¥åœ°åˆ©\" ;;\nAU) showgj=\"æ¾³å¤§åˆ©äºš\" ;;\nBE) showgj=\"æ¯”åˆ©æ—¶\" ;;\nBG) showgj=\"ä¿åŠ åˆ©äºš\" ;;\nCA) showgj=\"åŠ æ‹¿å¤§\" ;;\nCH) showgj=\"ç‘å£«\" ;;\nCZ) showgj=\"æ·å…‹\" ;;\nDE) showgj=\"å¾·å›½\" ;;\nDK) showgj=\"ä¸¹éº¦\" ;;\nEE) showgj=\"çˆ±æ²™å°¼äºš\" ;;\nES) showgj=\"è¥¿ç­ç‰™\" ;;\nFI) showgj=\"èŠ¬å…°\" ;;\nFR) showgj=\"æ³•å›½\" ;;\nGB) showgj=\"è‹±å›½\" ;;\nHR) showgj=\"å…‹ç½—åœ°äºš\" ;;\nHU) showgj=\"åŒˆç‰™åˆ©\" ;;\nIE) showgj=\"çˆ±å°”å…°\" ;;\nIN) showgj=\"å°åº¦\" ;;\nIT) showgj=\"æ„å¤§åˆ©\" ;;\nJP) showgj=\"æ—¥æœ¬\" ;;\nLV) showgj=\"æ‹‰è„±ç»´äºš\" ;;\nNL) showgj=\"è·å…°\" ;;\nNO) showgj=\"æŒªå¨\" ;;\nPL) showgj=\"æ³¢å…°\" ;;\nPT) showgj=\"è‘¡è„ç‰™\" ;;\nRO) showgj=\"ç½—é©¬å°¼äºš\" ;;\nRS) showgj=\"å¡å°”ç»´äºš\" ;;\nSE) showgj=\"ç‘å…¸\" ;;\nSG) showgj=\"æ–°åŠ å¡\" ;;\nSK) showgj=\"æ–¯æ´›ä¼å…‹\" ;;\nUS) showgj=\"ç¾å›½\" ;;\nesac\ngrep -q \"country\" /usr/local/x-ui/xuiwpph.log 2>/dev/null && s5ms=\"å¤šåœ°åŒºPsiphonä»£ç†æ¨¡å¼ (ç«¯å£:$s5port  å›½å®¶:$showgj)\" || s5ms=\"æœ¬åœ°Warpä»£ç†æ¨¡å¼ (ç«¯å£:$s5port)\"\necho -e \"WARP-plus-Socks5çŠ¶æ€ï¼š$blueå·²å¯åŠ¨ $s5ms$plain\"\nelse\necho -e \"WARP-plus-Socks5çŠ¶æ€ï¼š$blueæœªå¯åŠ¨$plain\"\nfi\necho \"------------------------------------------------------------------------------------\"\nargopid\nif [[ -n $(ps -e | grep -w $ym 2>/dev/null) || -n $(ps -e | grep -w $ls 2>/dev/null) ]]; then\nif [[ -f /usr/local/x-ui/xuiargoport.log ]]; then\nargoprotocol=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .protocol' /usr/local/x-ui/bin/config.json)\necho -e \"Argoä¸´æ—¶éš§é“çŠ¶æ€ï¼š$blueå·²å¯åŠ¨ ã€ç›‘å¬$yellow${argoprotocol}-ws$plain$blueèŠ‚ç‚¹çš„ç«¯å£:$plain$yellow$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)$plain$blueã€‘$plain$plain\"\nargotro=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].password' /usr/local/x-ui/bin/config.json)\nargoss=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.password' /usr/local/x-ui/bin/config.json)\nargouuid=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].id' /usr/local/x-ui/bin/config.json)\nargopath=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.wsSettings.path' /usr/local/x-ui/bin/config.json)\nif [[ ! $argouuid = \"null\" ]]; then\nargoma=$argouuid\nelif [[ ! $argoss = \"null\" ]]; then\nargoma=$argoss\nelse\nargoma=$argotro\nfi\nargotls=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.security' /usr/local/x-ui/bin/config.json)\nif [[ -n $argouuid ]]; then\nif [[ \"$argotls\" = \"tls\" ]]; then\necho -e \"é”™è¯¯åé¦ˆï¼š$redé¢æ¿åˆ›å»ºçš„wsèŠ‚ç‚¹å¼€å¯äº†tlsï¼Œä¸æ”¯æŒArgoï¼Œè¯·åœ¨é¢æ¿å¯¹åº”çš„èŠ‚ç‚¹ä¸­å…³é—­tls$plain\"\nelse\necho -e \"Argoå¯†ç /UUIDï¼š$blue$argoma$plain\"\necho -e \"Argoè·¯å¾„pathï¼š$blue$argopath$plain\"\nargolsym=$(cat /usr/local/x-ui/argo.log 2>/dev/null | grep -a trycloudflare.com | awk 'NR==2{print}' | awk -F// '{print $2}' | awk '{print $1}')\n[[ $(echo \"$argolsym\" | grep -w \"api.trycloudflare.com/tunnel\") ]] && argolsyms='ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡ç½®' || argolsyms=$argolsym\necho -e \"Argoä¸´æ—¶åŸŸåï¼š$blue$argolsyms$plain\"\nfi\nelse\necho -e \"é”™è¯¯åé¦ˆï¼š$redé¢æ¿å°šæœªåˆ›å»ºä¸€ä¸ªç«¯å£ä¸º$yellow$(cat /usr/local/x-ui/xuiargoport.log 2>/dev/null)$plain$redçš„wsèŠ‚ç‚¹ï¼Œæ¨èvmess-ws$plain$plain\"\nfi\nfi\nif [[ -f /usr/local/x-ui/xuiargoymport.log && -f /usr/local/x-ui/xuiargoport.log ]]; then\necho \"--------------------------\"\nfi\nif [[ -f /usr/local/x-ui/xuiargoymport.log ]]; then\nargoprotocol=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .protocol' /usr/local/x-ui/bin/config.json)\necho -e \"Argoå›ºå®šéš§é“çŠ¶æ€ï¼š$blueå·²å¯åŠ¨ ã€ç›‘å¬$yellow${argoprotocol}-ws$plain$blueèŠ‚ç‚¹çš„ç«¯å£:$plain$yellow$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)$plain$blueã€‘$plain$plain\"\nargotro=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].password' /usr/local/x-ui/bin/config.json)\nargoss=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.password' /usr/local/x-ui/bin/config.json)\nargouuid=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .settings.clients[0].id' /usr/local/x-ui/bin/config.json)\nargopath=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.wsSettings.path' /usr/local/x-ui/bin/config.json)\nif [[ ! $argouuid = \"null\" ]]; then\nargoma=$argouuid\nelif [[ ! $argoss = \"null\" ]]; then\nargoma=$argoss\nelse\nargoma=$argotro\nfi\nargotls=$(jq -r --arg port \"$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)\" '.inbounds[] | select(.port == ($port | tonumber)) | .streamSettings.security' /usr/local/x-ui/bin/config.json)\nif [[ -n $argouuid ]]; then\nif [[ \"$argotls\" = \"tls\" ]]; then\necho -e \"é”™è¯¯åé¦ˆï¼š$redé¢æ¿åˆ›å»ºçš„wsèŠ‚ç‚¹å¼€å¯äº†tlsï¼Œä¸æ”¯æŒArgoï¼Œè¯·åœ¨é¢æ¿å¯¹åº”çš„èŠ‚ç‚¹ä¸­å…³é—­tls$plain\"\nelse\necho -e \"Argoå¯†ç /UUIDï¼š$blue$argoma$plain\"\necho -e \"Argoè·¯å¾„pathï¼š$blue$argopath$plain\"\necho -e \"Argoå›ºå®šåŸŸåï¼š$blue$(cat /usr/local/x-ui/xuiargoym.log 2>/dev/null)$plain\"\nfi\nelse\necho -e \"é”™è¯¯åé¦ˆï¼š$redé¢æ¿å°šæœªåˆ›å»ºä¸€ä¸ªç«¯å£ä¸º$yellow$(cat /usr/local/x-ui/xuiargoymport.log 2>/dev/null)$plain$redçš„wsèŠ‚ç‚¹ï¼Œæ¨èvmess-ws$plain$plain\"\nfi\nfi\nelse\necho -e \"ArgoçŠ¶æ€ï¼š$blueæœªå¯åŠ¨$plain\"\nfi\necho \"------------------------------------------------------------------------------------\"\nshow_status\necho \"------------------------------------------------------------------------------------\"\nacp=$(/usr/local/x-ui/x-ui setting -show 2>/dev/null)\nif [[ -n $acp ]]; then\nif [[ $acp == *admin*  ]]; then\nred \"x-uiå‡ºé”™ï¼Œè¯·é€‰æ‹©4é‡ç½®ç”¨æˆ·åå¯†ç æˆ–è€…å¸è½½é‡è£…x-ui\"\nelse\nxpath=$(echo $acp | awk '{print $8}')\nxport=$(echo $acp | awk '{print $6}')\nxip1=$(cat /usr/local/x-ui/xip 2>/dev/null | sed -n 1p)\nxip2=$(cat /usr/local/x-ui/xip 2>/dev/null | sed -n 2p)\nif [ \"$xpath\" == \"/\" ]; then\npathk=\"$sredã€ä¸¥é‡å®‰å…¨æç¤º: è¯·è¿›å…¥é¢æ¿è®¾ç½®ï¼Œæ·»åŠ urlæ ¹è·¯å¾„ã€‘$plain\"\nfi\necho -e \"x-uiç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š\"\necho -e \"$blue$acp$pathk$plain\" \nif [[ -n $xip2 ]]; then\nxuimb=\"http://${xip1}:${xport}${xpath} æˆ–è€… http://${xip2}:${xport}${xpath}\"\nelse\nxuimb=\"http://${xip1}:${xport}${xpath}\"\nfi\necho -e \"$blueç™»å½•åœ°å€(è£¸IPæ³„éœ²æ¨¡å¼-éå®‰å…¨)ï¼š$xuimb$plain\"\nif [[ -f /root/ygkkkca/cert.crt && -f /root/ygkkkca/private.key && -s /root/ygkkkca/cert.crt && -s /root/ygkkkca/private.key ]]; then\nym=`bash ~/.acme.sh/acme.sh --list | tail -1 | awk '{print $1}'`\necho $ym > /root/ygkkkca/ca.log\nfi\nif [[ -f /root/ygkkkca/ca.log ]]; then\necho -e \"$blueç™»å½•åœ°å€(åŸŸååŠ å¯†æ¨¡å¼-å®‰å…¨)ï¼šhttps://$(cat /root/ygkkkca/ca.log 2>/dev/null):${xport}${xpath}$plain\"\nelse\necho -e \"$sredå¼ºçƒˆå»ºè®®ç”³è¯·åŸŸåè¯ä¹¦å¹¶å¼€å¯åŸŸå(https)ç™»å½•æ–¹å¼ï¼Œä»¥ç¡®ä¿é¢æ¿æ•°æ®å®‰å…¨$plain\"\nfi\nfi\nelse\necho -e \"x-uiç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š\"\necho -e \"$redæœªå®‰è£…x-uiï¼Œæ— æ˜¾ç¤º$plain\"\nfi\nred \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\" \necho\nreadp \"è¯·è¾“å…¥æ•°å­—ã€0-13ã€‘:\" Input\ncase \"$Input\" in     \n 1 ) check_uninstall && xuiinstall;;\n 2 ) check_install && uninstall;;\n 3 ) check_install && changeserv;;\n 4 ) check_install && xuichange;;\n 5 ) check_install && xuirestop;;\n 6 ) check_install && update;;\n 7 ) check_install && sharesub;;\n 8 ) check_install && show_log;;\n 9 ) bbr;;\n 10  ) acme;;\n 11 ) cfwarp;;\n 12 ) check_install && insxuiwpph;;\n 13 ) check_install && showxuiip && show_menu;;\n * ) exit \nesac\n}\nshow_menu\n"
        },
        {
          "name": "version",
          "type": "blob",
          "size": 0.4345703125,
          "content": "v24.9.14æ›´æ–°å†…å®¹ï¼š\næ›´æ–°æ—¥å¿—ï¼š\n1ï¼šXrayé»˜è®¤å†…æ ¸æ›´æ–°ä¸º1.8.24\n2ï¼šæ·»åŠ ä¼Šæœ—å¤§ç¥çš„WARP-plusåŠŸèƒ½ï¼Œæ”¯æŒæœ¬åœ°WARP+èµ›é£VPNçš„SOCKS5åˆ†æµ\n3ï¼šä¿®å¤ç›¸å…³BUGï¼Œå‡çº§ç›¸å…³ä¾èµ–ï¼Œæ›´æ–°ç›¸å…³æ–‡å­—æè¿°\nåœ¨çº¿å‡çº§ç”¨æˆ·å¯ç›´æ¥æ›´æ–°ï¼ï¼ï¼\né‡ç½®é…ç½®æ–‡ä»¶ï¼Ÿå·²å¤‡ä»½åœ¨https://github.com/yonggekkk/x-ui-yg/blob/main/config.json\nåšå®¢æ•™ç¨‹è¯¦è§ï¼šhttps://ygkkk.blogspot.com/2023/05/reality-xui-chatgpt.html\n"
        },
        {
          "name": "x-ui-linux-amd64.tar.gz",
          "type": "blob",
          "size": 24027.22265625,
          "content": ""
        },
        {
          "name": "x-ui-linux-arm64.tar.gz",
          "type": "blob",
          "size": 22529.1494140625,
          "content": ""
        },
        {
          "name": "xuiwpph_amd64",
          "type": "blob",
          "size": 17780.1318359375,
          "content": ""
        },
        {
          "name": "xuiwpph_arm64",
          "type": "blob",
          "size": 17152.1318359375,
          "content": ""
        },
        {
          "name": "é»˜è®¤åˆ†æµé…ç½®",
          "type": "blob",
          "size": 3.24609375,
          "content": "{\n\"api\": {\n    \"services\": [\n      \"HandlerService\",\n      \"LoggerService\",\n      \"StatsService\"\n    ],\n    \"tag\": \"api\"\n  },\n  \"inbounds\": [\n    {\n      \"listen\": \"127.0.0.1\",\n      \"port\": 62789,\n      \"protocol\": \"dokodemo-door\",\n      \"settings\": {\n        \"address\": \"127.0.0.1\"\n      },\n      \"tag\": \"api\"\n    }\n  ],  \n \"policy\": {\n    \"system\": {\n      \"statsInboundDownlink\": true,\n      \"statsInboundUplink\": true\n    },\n     \"levels\": {\n      \"0\": {\n        \"handshake\": 10,\n        \"connIdle\": 100,\n        \"uplinkOnly\": 2,\n        \"downlinkOnly\": 3,\n        \"bufferSize\": 10240  \n      }\n    }\n  },\n\"outbounds\": [\n{\n\"protocol\": \"blackhole\",\n\"tag\": \"blocked\"\n},\n{\n\"tag\": \"direct\",\n\"protocol\": \"freedom\",\n\"settings\": {\n\"domainStrategy\":\"UseIP\"\n}\n},\n{\n\"tag\": \"vps-outbound-v4\", \n\"protocol\": \"freedom\",\n\"settings\": {\n\"domainStrategy\":\"UseIPv4v6\"\n}\n},\n{\n\"tag\": \"vps-outbound-v6\",\n\"protocol\": \"freedom\",\n\"settings\": {\n\"domainStrategy\":\"UseIPv6v4\"\n}\n},\n{\n\"tag\": \"socks5-warp\",\n\"protocol\": \"socks\",\n\"settings\": {\n\"servers\": [\n{\n\"address\": \"127.0.0.1\",\n\"port\": 40000 \n}\n]\n}      \n},\n{\n\"tag\":\"socks5-warp-v4\",\n\"protocol\":\"freedom\",\n\"settings\":{\n\"domainStrategy\":\"UseIPv4v6\"\n},\n\"proxySettings\":{\n\"tag\":\"socks5-warp\"\n}\n},\n{\n\"tag\":\"socks5-warp-v6\",\n\"protocol\":\"freedom\",\n\"settings\":{\n\"domainStrategy\":\"UseIPv6v4\"\n},\n\"proxySettings\":{\n\"tag\":\"socks5-warp\"\n}\n},\n{\n\"tag\":\"xray-wg-warp\",\n\"protocol\":\"wireguard\",\n\"settings\":{\n\"secretKey\":\"4GRI+uhXHop6U9H5Gi4YbD+5IoBvZ/kLdTdyal/y9EE=\",\n\"address\":[\n\"172.16.0.2/32\",\n\"2606:4700:110:845b:dd5b:5b91:8e5a:60b9/128\"\n],\n\"peers\":[\n{\n\"publicKey\":\"bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=\",\n\"allowedIPs\": [\n\"0.0.0.0/0\",\n\"::/0\"\n],\n\"endpoint\":\"162.159.192.1:2408\"\n}\n],\n\"reserved\":[197,230,30]\n}\n},\n{\n\"tag\":\"xray-wg-warp-v4\",\n\"protocol\":\"freedom\",\n\"settings\":{\n\"domainStrategy\":\"UseIPv4v6\"\n},\n\"proxySettings\":{\n\"tag\":\"xray-wg-warp\"\n}\n},\n{\n\"tag\":\"xray-wg-warp-v6\",\n\"protocol\":\"freedom\",\n\"settings\":{\n\"domainStrategy\":\"UseIPv6v4\"\n},\n\"proxySettings\":{\n\"tag\":\"xray-wg-warp\"\n}\n}\n],\n\"routing\": {\n\"domainStrategy\": \"AsIs\",\n\"rules\": [\n{\n        \"inboundTag\": [\n          \"api\"\n        ],\n        \"outboundTag\": \"api\",\n        \"type\": \"field\"\n      },\n    {\n          \"type\": \"field\",\n          \"port\": \"443\",\n          \"network\": \"udp\",\n          \"outboundTag\": \"blocked\"\n            },\n       {\n        \"type\": \"field\",\n        \"domain\": [\n          \"www.gstatic.com\"\n        ],\n        \"outboundTag\": \"direct\"\n      },\n      {\n        \"ip\": [\n          \"geoip:cn\"\n        ],\n        \"outboundTag\": \"blocked\",\n        \"type\": \"field\"\n      },\n      {\n        \"outboundTag\": \"blocked\",\n        \"protocol\": [\n          \"bittorrent\"\n        ],\n        \"type\": \"field\"\n      },\n{\n\"type\":\"field\",\n\"outboundTag\":\"xray-wg-warp-v4\",\n\"domain\":[\n\"ifconfig.co\",\"yg_kkk\"\n]\n},\n{\n\"type\":\"field\",\n\"outboundTag\":\"xray-wg-warp-v6\",\n\"domain\":[\n\"ipget.net\",\"yg_kkk\"\n]\n},\n{\n\"type\":\"field\",\n\"outboundTag\":\"socks5-warp-v4\",\n\"domain\":[\n\"ipinfo.io\",\"yg_kkk\"\n]\n},\n{\n\"type\":\"field\",\n\"outboundTag\":\"socks5-warp-v6\",\n\"domain\":[\n\"ip.me\",\"yg_kkk\"\n]\n},\n{\n\"type\": \"field\",\n\"outboundTag\":\"vps-outbound-v4\",\n\"domain\": [\n\"api.myip.com\",\"yg_kkk\"\n]\n},\n{\n\"type\": \"field\",\n\"outboundTag\":\"vps-outbound-v6\",\n\"domain\": [\n\"api64.ipify.org\",\"yg_kkk\"\n]\n},\n{\n\"type\": \"field\",\n\"outboundTag\": \"direct\",\n\"network\": \"udp,tcp\"\n}\n]\n},\n\"stats\": {}\n}\n"
        }
      ]
    }
  ]
}