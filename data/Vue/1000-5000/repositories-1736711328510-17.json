{
  "metadata": {
    "timestamp": 1736711328510,
    "page": 17,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjIw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "luckjiawei/frpc-desktop",
      "stars": 4223,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.3056640625,
          "content": "# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\nnode_modules\ndist\ndist-ssr\ndist-electron\nrelease\n*.local\n\n# Editor directories and files\n.vscode/.debug.env\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n\n# lockfile\npackage-lock.json\npnpm-lock.yaml\nyarn.lock"
        },
        {
          "name": ".prettierrc.js",
          "type": "blob",
          "size": 0.11328125,
          "content": "module.exports = {\n  bracketSpacing: true,\n  singleQuote: false,\n  arrowParens: \"avoid\",\n  trailingComma: \"none\"\n};\n"
        },
        {
          "name": ".vscode",
          "type": "tree",
          "content": null
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.041015625,
          "content": "MIT License\n\nCopyright (c) 2023 刘嘉伟\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 7.57421875,
          "content": "<a name=\"readme-top\"></a>\n\n<!-- PROJECT SHIELDS -->\n[![Forks][forks-shield]][forks-url]\n[![Stargazers][stars-shield]][stars-url]\n[![Issues][issues-shield]][issues-url]\n[![MIT License][license-shield]][license-url]\n\n<!-- PROJECT LOGO -->\n<br />\n<div align=\"center\">\n  <a href=\"https://github.com/luckjiawei/frpc-desktop\">\n    <img src=\"public/logo/pack/1024x1024.png\" alt=\"Logo\" width=\"140\">\n  </a>\n\n<h3 align=\"center\">Frpc-Desktop</h3>\n\n  <p align=\"center\">\n    🎉 FRP跨平台桌面客户端，可视化配置，轻松实现内网穿透！\n    <br />\n    支持所有frp版本 / 开机自启 / 可视化配置 / 免费开源\n  </p>\n\n  <p><a href=\"https://jwinks.com/p/frp/#frp%E6%98%AF%E4%BB%80%E4%B9%88\">使用教程</a></p>\n\n\n<a href=\"https://hellogithub.com/repository/b0dc116e9f2e4b8188da5a6d3e1bd8a4\" target=\"_blank\"><img src=\"https://abroad.hellogithub.com/v1/widgets/recommend.svg?rid=b0dc116e9f2e4b8188da5a6d3e1bd8a4&claim_uid=8ZMOhz30mGJAHpa\" alt=\"Featured｜HelloGitHub\" style=\"width: 250px; height: 54px;\" width=\"250\" height=\"54\" /></a>\n</div>\n\n## TODO\n\n- [x] 开机自启动\n- [x] 适配多用户 user & meta_token\n- [x] 便携版\n- [x] 增加udp代理类型\n- [x] 支持快速分享frps\n- [x] 增加快速选择本地端口\n- [x] 支持stcp代理类型\n- [x] 通过镜像站下载frp\n- [x] 支持所有配置的导入导出\n- [x] 一键清空所有配置\n- [x] 支持导入识别frpc.toml\n- [x] tcp、udp协议支持批量端口\n- [ ] support multiple languages\n\n## 常见问题\n\n### Mac提示已损坏\n\n执行命令：`sudo xattr -cr Frpc-Desktop.app`\n\n## 里程碑\n\n- 2025-01-09: 发布v1.1.6版本\n- 2024-12-04: 发布v1.1.5版本 优化体验、支持修改webport、解决github限流问题、日志优化\n- 2024-11-08: 发布v1.1.4版本 修复已知BUG\n- 2024-10-14: 发布v1.1.3版本 支持xtcp协议、优化体验\n- 2024-09-25: 发布v1.1.2版本 支持 http basic、子域名\n- 2024-09-07: 发布v1.1.0版本 支持批量端口、支持单条代理开关控制\n- 2024-08-24: 发布v1.0.9版本 支持镜像下载、导出导入配置\n- 2024-08-17: 发布v1.0.8版本 支持stcp代理\n- 2024-08-11: 发布v1.0.7版本\n- 2024-08-09: 发布v1.0.6版本\n- 2024-08-06: 发布v1.0.5版本\n- 2024-08-06: 发布v1.0.4版本 适配支持多用户插件\n- 2024-07-17: 发布v1.0.3版本 修复已知bug 增加开机自启 增加删除frp版本\n- 2024-01-29: 发布v1.0.2版本 增加Linux客户端和代理模式\n- 2023-12-01: 发布v1.0.1版本\n- 2023-11-28: 发布v1.0版本\n\n## 社区\n\n~~微信扫描加入开源项目交流群 广告勿进！！！~~\n\n <img src=\"screenshots/wechat-qr.png\" alt=\"二维码\" width=\"200\">\n\n**微信群超过200人无法扫码进群 关注公众号进群 **\n\n <img src=\"screenshots/mp_qr.jpg\" alt=\"公众号二维码\" width=\"200\">\n\n## 演示\n\n![connect server](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/conn.png?raw=true)\n\n![proxys manager](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/proxys.png?raw=true)\n\n![frp download](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/versions.png?raw=true)\n\n![config](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/config.png?raw=true)\n\n![log](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/log.png?raw=true)\n\n![about](https://github.com/luckjiawei/frpc-desktop/blob/main/screenshots/about.png?raw=true)\n\n## 捐赠\n\n**捐赠方式**\n\n一块两块不嫌少，十块二十那更好。\n\n👉👉👉[点击去捐赠](https://jwinks.com/donate/)👈👈👈\n\n**捐赠名单**\n\n| 🕰 时间     | 📡 平台 | 🤲 捐赠者  | 💰 金额  | ✉️ 捐赠留言                                    |\n| ---------- | ------ | --------- | ------- | --------------------------------------------- |\n| 2024-08-06 | 微信   | 三木      | 1 元    | 无                                            |\n| 2024-08-25 | 微信   | 晚风      | 1 元    | 无                                            |\n| 2024-08-27 | 微信   | x         | 1 元    | 无                                            |\n| 2024-10-09 | 微信   | 解脱      | 20 元   | 无                                            |\n| 2024-10-09 | 微信   | KMDN      | 20 元   | 无                                            |\n| 2024-10-14 | 微信   | 121       | 5 元    | 无                                            |\n| 2024-10-14 | 微信   | Different | 10 元   | 感谢您的开源                                  |\n| 2024-10-16 | 微信   | 。 。 。  | 50 元   | 感谢开源的frp软件                             |\n| 2024-11-2  | 微信   | gesoft    | 10 元   | 加油                                          |\n| 2024-11-7  | 微信   | *进       | 10 元   | 谢谢，可见可得，省心省力                      |\n| 2024-11-8  | 微信   | **创      | 10 元   | 无                                            |\n| 2024-11-20 | 微信   | 一東      | 20 元   | 请你喝咖啡                                    |\n| 2024-11-20 | 微信   | KEVINSKH  | 10 元   | 感谢开发方便快捷的图形化操作界面👍             |\n| 2024-11-26 | 微信   |           | 3 元    | 无                                            |\n| 2024-11-26 | 微信   | Kaori     | 1 元    | 谢谢大佬的项目，要是能添加web控制页面就更好了 |\n| 2024-12-03 | 微信   | 17¥       | 20 元   | 谢谢，很方便的软件                            |\n| 2024-12-03 | 微信   | Cr@k3r    | 5 元    | 感谢你的工作                                  |\n| 2024-12-09 | 微信   | Vince     | 20 元   | 支持国人开发！                                |\n| 2024-12-11 | 支付宝 | **萌      | 20 元   | 加油加油                                      |\n| 2024-12-11 | 支付宝 | *石       | 20 元   | 无                                            |\n| 2024-12-16 | 微信   | 铁汉柔情  | 1 元    | 加油支持国人                                  |\n| 2024-12-16 | 微信   | 亚索🌪️     | 1 元    | 无                                            |\n| 2024-12-17 | 微信   | ppp789    | 1.6 元  | 无                                            |\n| 2024-12-17 | 支付宝 | *涛       | 10 元   | 无                                            |\n| 2024-12-18 | 微信   | 觉远      | 6.66 元 | 开源不易                                      |\n| 2024-12-19 | 微信   | 官方提醒  | 1 元    | 无                                            |\n| 2024-12-19 | 微信   | 木~易     | 6.66 元 | 加油                                          |\n| 2025-01-06 | 微信   | 如是      | 2 元    | 支持开源                                      |\n\n## 贡献者\n\n<a href=\"https://github.com/luckjiawei/frpc-desktop/graphs/contributors\">\n  <img src=\"https://contrib.rocks/image?repo=luckjiawei/frpc-desktop\" />\n</a>\n\n## License\n\n[MIT](LICENSE)\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=luckjiawei/frpc-desktop&type=Date)](https://star-history.com/#luckjiawei/frpc-desktop&Date)\n<!-- MARKDOWN LINKS & IMAGES -->\n\n[forks-shield]: https://img.shields.io/github/forks/luckjiawei/frpc-desktop.svg?style=for-the-badge\n\n[forks-url]: https://github.com/luckjiawei/frpc-desktop/network/members\n\n[stars-shield]: https://img.shields.io/github/stars/luckjiawei/frpc-desktop.svg?style=for-the-badge\n\n[stars-url]: https://github.com/luckjiawei/frpc-desktop/stargazers\n\n[issues-shield]: https://img.shields.io/github/issues/luckjiawei/frpc-desktop.svg?style=for-the-badge\n\n[issues-url]: https://github.com/luckjiawei/frpc-desktop/issues\n\n[license-shield]: https://img.shields.io/github/license/luckjiawei/frpc-desktop.svg?style=for-the-badge\n\n[license-url]: https://github.com/luckjiawei/frpc-desktop/blob/master/LICENSE\n"
        },
        {
          "name": "baidu_urls.txt",
          "type": "blob",
          "size": 0.34375,
          "content": "https://jwinks.com/p/frpc-desktop113\nhttps://jwinks.com/p/free-jsaqy\nhttps://jwinks.com/p/frpc-desktop110\nhttps://jwinks.com/p/frpc-desktop109\nhttps://jwinks.com/p/nginx-proxy-manager\nhttps://jwinks.com/p/frp\nhttps://jwinks.com/p/acme\nhttps://jwinks.com/archives\nhttps://jwinks.com/search\nhttps://jwinks.com/%E9%93%BE%E6%8E%A5\nhttps://jwinks.com/donate"
        },
        {
          "name": "electron-builder.json5",
          "type": "blob",
          "size": 2.7685546875,
          "content": "/**\n * @see https://www.electron.build/configuration/configuration\n */\n{\n  \"$schema\": \"https://raw.githubusercontent.com/electron-userland/electron-builder/master/packages/app-builder-lib/scheme.json\",\n  \"appId\": \"priv.liujiawei.frpc.desktop\",\n  \"asar\": true,\n  \"productName\": \"Frpc-Desktop\",\n  \"directories\": {\n    \"output\": \"release/${version}\"\n  },\n  \"icon\": \"./public/logo/pack/512x512.png\",\n  \"files\": [\n    \"dist\",\n    \"dist-electron\"\n  ],\n  \"dmg\": {\n    \"window\": {\n      \"width\": 540,\n      \"height\": 380\n    },\n    \"contents\": [\n      {\n        \"x\": 410,\n        \"y\": 230,\n        \"type\": \"link\",\n        \"path\": \"/Applications\"\n      },\n      {\n        \"x\": 130,\n        \"y\": 230,\n        \"type\": \"file\"\n      }\n    ]\n  },\n  \"mac\": {\n    \"target\": [\n      {\n        target: \"dmg\",\n        \"arch\": [\n          \"x64\",\n          \"arm64\",\n          \"universal\"\n        ]\n      },\n      {\n        \"target\": \"zip\",\n        \"arch\": [\n          \"x64\",\n          \"arm64\",\n          \"universal\"\n        ],\n      }\n    ],\n//    \"artifactName\": \"${productName}-mac-${arch}-${version}.${ext}\",\n    category: \"public.app-category.utilities\"\n  },\n  \"win\": {\n    \"target\": [\n      {\n        \"target\": \"nsis\",\n        \"arch\": [\n          \"x64\",\n          \"ia32\"\n        ]\n      },\n      //      {\n      //        \"target\": \"appx\",\n      //        \"arch\": [\n      //          \"x64\",\n      //          \"ia32\"\n      //        ]\n      //      },\n      {\n        \"target\": \"zip\",\n        \"arch\": [\n          \"x64\",\n          \"ia32\"\n        ]\n      },\n      {\n        \"target\": \"portable\",\n        \"arch\": [\n          \"x64\",\n          \"ia32\"\n        ]\n      }\n    ],\n//    \"artifactName\": \"${productName}-win-${arch}-${version}.${ext}\"\n  },\n  \"nsis\": {\n//    \"artifactName\": \"${productName}-win-${arch}-${version}-Setup.${ext}\",\n    \"oneClick\": false,\n    \"perMachine\": false,\n    \"allowToChangeInstallationDirectory\": true,\n    \"deleteAppDataOnUninstall\": false\n  },\n  \"portable\": {\n//    \"artifactName\": \"${productName}-win-${arch}-${version}.${ext}\"\n  },\n  \"linux\": {\n    \"target\": [\n      {\n        \"target\": \"AppImage\",\n        \"arch\": [\n          \"x64\",\n          \"arm64\",\n          //          \"armv7l\"\n        ]\n      },\n      {\n        \"target\": \"deb\",\n        \"arch\": [\n          \"x64\",\n          \"arm64\",\n          //          \"armv7l\"\n        ]\n      },\n      {\n        \"target\": \"rpm\",\n        \"arch\": [\n          \"x64\"\n        ]\n      },\n      //      {\n      //        \"target\": \"snap\",\n      //        \"arch\": [\n      //          \"x64\"\n      //        ]\n      //      }\n\n    ],\n    \"category\": \"Network\",\n//    \"artifactName\": \"${productName}-Linux-${arch}-${version}.${ext}\"\n  },\n  \"publish\": [\n    {\n      \"provider\": \"github\",\n      \"owner\": \"luckjiawei\",\n      \"repo\": \"frpc-desktop\",\n      \"releaseType\": \"draft\",\n    },\n  ]\n}\n"
        },
        {
          "name": "electron",
          "type": "tree",
          "content": null
        },
        {
          "name": "index.html",
          "type": "blob",
          "size": 0.4560546875,
          "content": "<!DOCTYPE html>\n<html lang=\"zh-cn\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/logo/only/icon.ico\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"Content-Security-Policy\" content=\"script-src 'self' 'unsafe-inline';\" />\n    <title>Frpc Desktop</title>\n  </head>\n  <body>\n    <div id=\"app\"></div>\n    <script type=\"module\" src=\"/src/main.ts\"></script>\n  </body>\n</html>\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 2.740234375,
          "content": "{\n  \"name\": \"Frpc-Desktop\",\n  \"version\": \"1.1.6\",\n  \"main\": \"dist-electron/main/index.js\",\n  \"description\": \"FRP跨平台桌面客户端，可视化配置，轻松实现内网穿透！\",\n  \"repository\": \"github:luckjiawei/frpc-desktop\",\n  \"author\": \"刘嘉伟 <8473136@qq.com>\",\n  \"license\": \"MIT\",\n  \"private\": true,\n  \"type\": \"commonjs\",\n  \"keywords\": [\n    \"frp\",\n    \"frpc\",\n    \"proxy\",\n    \"electron-app\",\n    \"vue\",\n    \"vue3\",\n    \"vite\"\n  ],\n  \"engines\": {\n    \"node\": \">= 18\"\n  },\n  \"debug\": {\n    \"env\": {\n      \"VITE_DEV_SERVER_URL\": \"http://127.0.0.1:3344/\"\n    }\n  },\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vue-tsc --noEmit && vite build\",\n    \"build:electron\": \"npm run build && electron-builder  --mac --win --linux\",\n    \"build:electron:mac\": \"npm run build && electron-builder --mac\",\n    \"build:electron:mac:arm\": \"npm run build && electron-builder --mac --arm64\",\n    \"build:electron:win\": \"npm run build && electron-builder --win\",\n    \"build:electron:linux\": \"npm run build && electron-builder --linux\",\n    \"release\": \"npm run build && electron-builder --mac --win --linux -p always\",\n    \"release:mac\": \"npm run build && electron-builder --mac -p always\",\n    \"release:win\": \"npm run build && electron-builder --win -p always\",\n    \"release:linux\": \"npm run build && electron-builder --linux -p always\",\n    \"preview\": \"vite preview\",\n    \"electron:generate-icons\": \"electron-icon-builder --input=./public/logo.png --output=build --flatten\"\n  },\n  \"devDependencies\": {\n    \"@iconify-icons/material-symbols\": \"^1.2.58\",\n    \"@iconify/vue\": \"^4.1.1\",\n    \"@types/nedb\": \"^1.8.16\",\n    \"@vitejs/plugin-vue\": \"^4.3.3\",\n    \"@vue/eslint-config-prettier\": \"^7.1.0\",\n    \"@vueuse/core\": \"^9.13.0\",\n    \"autoprefixer\": \"^10.4.15\",\n    \"canvas-confetti\": \"^1.9.0\",\n    \"cssnano\": \"^6.0.1\",\n    \"electron\": \"^26.6.10\",\n    \"electron-builder\": \"^24.13.3\",\n    \"electron-builder-squirrel-windows\": \"^24.13.3\",\n    \"element-plus\": \"^2.4.2\",\n    \"eslint\": \"^7.28.0\",\n    \"eslint-plugin-prettier\": \"^4.2.1\",\n    \"moment\": \"^2.29.4\",\n    \"nedb\": \"^1.8.0\",\n    \"node-cmd\": \"^5.0.0\",\n    \"postcss\": \"^8.4.31\",\n    \"prettier\": \"^2.8.8\",\n    \"sass\": \"^1.66.1\",\n    \"tailwindcss\": \"^3.3.3\",\n    \"tree-kill\": \"^1.2.2\",\n    \"typescript\": \"^5.1.6\",\n    \"vite\": \"^4.4.9\",\n    \"vite-plugin-electron\": \"^0.15.3\",\n    \"vite-plugin-electron-renderer\": \"^0.14.5\",\n    \"vue\": \"^3.3.4\",\n    \"vue-router\": \"^4.2.4\",\n    \"vue-tsc\": \"2.0.22\",\n    \"vue-types\": \"^5.1.1\"\n  },\n  \"dependencies\": {\n    \"@iarna/toml\": \"^2.2.5\",\n    \"adm-zip\": \"^0.5.14\",\n    \"animate.css\": \"^4.1.1\",\n    \"electron-dl\": \"3.5.1\",\n    \"electron-log\": \"^5.1.7\",\n    \"intro.js\": \"^8.0.0-beta.1\",\n    \"isbinaryfile\": \"4.0.10\",\n    \"js-base64\": \"^3.7.7\",\n    \"tar\": \"^6.2.0\",\n    \"unused-filename\": \"^4.0.1\",\n    \"uuid\": \"^10.0.0\"\n  }\n}\n"
        },
        {
          "name": "postcss.config.js",
          "type": "blob",
          "size": 0.173828125,
          "content": "module.exports = {\n  plugins: {\n    \"postcss-import\": {},\n    tailwindcss: {},\n    autoprefixer: {},\n    ...(process.env.NODE_ENV === \"production\" ? { cssnano: {} } : {})\n  }\n};\n"
        },
        {
          "name": "public",
          "type": "tree",
          "content": null
        },
        {
          "name": "screenshots",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tailwind.config.js",
          "type": "blob",
          "size": 0.5634765625,
          "content": "/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  darkMode: \"class\",\n  corePlugins: {\n    preflight: false\n  },\n  content: [\"./index.html\", \"./src/**/*.{vue,js,ts,jsx,tsx}\"],\n  theme: {\n    extend: {\n      colors: {\n        bg_color: \"var(--el-bg-color)\",\n        primary: \"var(--el-color-primary)\",\n        primary_light_9: \"var(--el-color-primary-light-9)\",\n        text_color_primary: \"var(--el-text-color-primary)\",\n        text_color_regular: \"var(--el-text-color-regular)\",\n        text_color_disabled: \"var(--el-text-color-disabled)\"\n      }\n    }\n  }\n};\n"
        },
        {
          "name": "tsconfig.json",
          "type": "blob",
          "size": 0.841796875,
          "content": "{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"useDefineForClassFields\": true,\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"Node\",\n    \"strict\": false,\n    \"jsx\": \"preserve\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\n      \"ESNext\",\n      \"DOM\"\n    ],\n    \"skipLibCheck\": true,\n    \"noEmit\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ]\n    },\n    \"types\": [\n//      \"node\",\n      \"vite/client\",\n      \"element-plus/global\"\n    ],\n    \"typeRoots\": [\n      \"./types\",\n      \"./node_modules/@types/\",\n      \"./node_modules\"\n    ]\n  },\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\",\n    \"src/**/*.vue\",\n    \"types/*.d.ts\",\n    \"package.json\",\n    \"electron\",\n    \"vite.config.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\",\n    \"**/*.js\"\n  ]\n}\n"
        },
        {
          "name": "types",
          "type": "tree",
          "content": null
        },
        {
          "name": "vite.config.ts",
          "type": "blob",
          "size": 3.2958984375,
          "content": "import { rmSync } from \"node:fs\";\nimport { defineConfig } from \"vite\";\nimport vue from \"@vitejs/plugin-vue\";\nimport electron from \"vite-plugin-electron\";\nimport renderer from \"vite-plugin-electron-renderer\";\nimport { notBundle } from \"vite-plugin-electron/plugin\";\nimport { resolve } from \"path\";\n\n\nimport pkg from \"./package.json\";\n\n/** 路径查找 */\nconst pathResolve = (dir: string): string => {\n  return resolve(__dirname, \".\", dir);\n};\n\n// https://vitejs.dev/config/\nexport default defineConfig(({ command }) => {\n  rmSync(\"dist-electron\", { recursive: true, force: true });\n\n  const isServe = command === \"serve\";\n  const isBuild = command === \"build\";\n  const sourcemap = isServe || !!process.env.VSCODE_DEBUG;\n\n  return {\n    plugins: [\n      vue(),\n      electron([\n        {\n          // Main process entry file of the Electron App.\n          entry: \"electron/main/index.ts\",\n          onstart({ startup }) {\n            if (process.env.VSCODE_DEBUG) {\n              console.log(\n                /* For `.vscode/.debug.script.mjs` */ \"[startup] Electron App\"\n              );\n            } else {\n              startup();\n            }\n          },\n          vite: {\n            build: {\n              sourcemap,\n              minify: isBuild,\n              outDir: \"dist-electron/main\",\n              rollupOptions: {\n                // Some third-party Node.js libraries may not be built correctly by Vite, especially `C/C++` addons,\n                // we can use `external` to exclude them to ensure they work correctly.\n                // Others need to put them in `dependencies` to ensure they are collected into `app.asar` after the app is built.\n                // Of course, this is not absolute, just this way is relatively simple. :)\n                external: Object.keys(\n                  \"dependencies\" in pkg ? pkg.dependencies : {}\n                )\n              }\n            },\n            plugins: [\n              // This is just an option to improve build performance, it's non-deterministic!\n              // e.g. `import log from 'electron-log'` -> `const log = require('electron-log')`\n              isServe && notBundle()\n            ]\n          }\n        },\n        {\n          entry: \"electron/preload/index.ts\",\n          onstart({ reload }) {\n            // Notify the Renderer process to reload the page when the Preload scripts build is complete,\n            // instead of restarting the entire Electron App.\n            reload();\n          },\n          vite: {\n            build: {\n              sourcemap: sourcemap ? \"inline\" : undefined, // #332\n              minify: isBuild,\n              outDir: \"dist-electron/preload\",\n              rollupOptions: {\n                external: Object.keys(\n                  \"dependencies\" in pkg ? pkg.dependencies : {}\n                )\n              }\n            },\n            plugins: [isServe && notBundle()]\n          }\n        }\n      ]),\n      // Use Node.js API in the Renderer process\n      renderer()\n    ],\n    resolve: {\n      alias: {\n        \"@\": pathResolve(\"src\"),\n        \"@build\": pathResolve(\"build\")\n      }\n    },\n    server:\n      process.env.VSCODE_DEBUG &&\n      (() => {\n        const url = new URL(pkg.debug.env.VITE_DEV_SERVER_URL);\n        return {\n          host: url.hostname,\n          port: +url.port\n        };\n      })(),\n    clearScreen: false\n  };\n});\n"
        }
      ]
    }
  ]
}