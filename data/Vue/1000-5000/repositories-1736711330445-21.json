{
  "metadata": {
    "timestamp": 1736711330445,
    "page": 21,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjMw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "yangjian102621/geekai",
      "stars": 3910,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.048828125,
          "content": "deploy\ndocs\napi/static \nweb/node_modules\ndesktop\n\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.142578125,
          "content": "# Logs\nlogs\n*.log\n\n*.local\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 26.6455078125,
          "content": "# 更新日志\r\n\r\n## v4.1.3\r\n* 功能优化：重构用户登录模块，给所有的登录组件增加行为验证码功能，支持用户绑定手机，邮箱和微信\r\n* 功能优化：重构找回密码模块，支持通过手机或者邮箱找回密码\r\n* 功能优化：管理后台给可以拖动排序的组件添加拖动图标\r\n* 功能优化：Suno 支持合成完整歌曲，和上传自己的音乐作品进行二次创作\r\n* Bug修复：手机端角色和模型选择不生效\r\n* Bug修复：用户登录过期之后聊天页面出现大量报错，需要刷新页面才能正常\r\n* 功能优化：优化聊天页面 Websocket 断线重连代码，提高用户体验\r\n* 功能优化：给算力增减服务全部加上数据库事务和同步锁\r\n* 功能优化：支持用户在前端对话界面选择插件\r\n* 功能新增：支持 Luma 文生视频功能\r\n\r\n## v4.1.2\r\n* Bug修复：修复思维导图页面获取模型失败的问题\r\n* 功能优化：优化MJ,SD,DALL-E 任务列表页面，显示失败任务的错误信息，删除失败任务可以恢复扣减算力\r\n* Bug修复：修复后台拖动排序组件 Bug\r\n* 功能优化：更新数据库失败时候显示具体的的报错信息\r\n* Bug修复：修复管理后台对话详情页内容显示异常问题\r\n* 功能优化：管理后台新增清空所有未支付订单的功能\r\n* 功能优化：给会话信息和系统配置数据加上缓存功能，减少 http 请求\r\n* 功能新增：移除微信机器人收款功能，增加卡密功能，支持用户使用卡密兑换算力\r\n\r\n## v4.1.1\r\n* Bug修复：修复 GPT 模型 function call 调用后没有输出的问题\r\n* 功能新增：允许获取 License 授权用户可以自定义版权信息\r\n* 功能新增：聊天对话框支持粘贴剪切板内容来上传截图和文件\r\n* 功能优化：增加 session 和系统配置缓存，确保每个页面只进行一次 session 和 get system config 请求\r\n* 功能优化：在应用列表页面，无需先添加模型到用户工作区，可以直接使用\r\n* 功能新增：MJ 绘图失败的任务不会自动删除，而是会在列表页显示失败详细错误信息\r\n* 功能新增：允许在设置首页纯色背景，背景图片，随机背景图片三种背景模式\r\n* 功能新增：允许在管理后台设置首页显示的导航菜单\r\n* Bug修复：修复注册页面先显示关闭注册组件，然后再显示注册组件\r\n* 功能新增：增加 Suno 文生歌曲功能\r\n* 功能优化：移除多平台模型支持，统一使用 one-api 接口形式，其他平台的模型需要通过 one-api 接口添加\r\n* 功能优化：在所有列表页面增加返回顶部按钮\r\n\r\n## v4.1.0\r\n* bug修复：修复移动端修改聊天标题不生效的问题\r\n* Bug修复：修复用户注册不显示用户名的问题\r\n* Bug修复：修复管理后台拖动排序不生效的问题\r\n* 功能优化：允许用户设置自定义首页背景图片\r\n* 功能新增：**支持AI解读 PDF, Word, Excel等文件**\r\n* 功能优化：优化聊天界面的用户上传文件的列表样式\r\n* 功能优化：优化聊天页面对话样式，支持列表样式和对话样式切换\r\n* 功能新增：支持微信扫码登录，未注册用户微信扫码后会自动注册并登录。移动使用微信浏览器打开可以实现无感登录。\r\n\r\n\r\n## v4.0.9\r\n* 环境升级：升级 Golang 到 go1.22.4\r\n* 功能增加：接入微信商户号支付渠道\r\n* Bug修复：修复前端页面菜单把页面撑开，底部留白问题\r\n* 功能优化：聊天页面自动根据内容调整输入框的高度\r\n* Bug修复：修复Dalle绘图失败退回算力的问题\r\n* 功能优化：邀请码注册时被邀请人也可以获得赠送的算力\r\n* 功能优化：允许设置邮件验证码的抬头\r\n* Bug修复：修复免费模型不会记录聊天记录的bug\r\n* Bug修复：修复聊天输入公式显示异常的Bug\r\n\r\n## v4.0.8\r\n* 功能优化：升级 mathjax 公式解析插件，修复公式因为图片访问限制而无法显示的问题\r\n* 功能优化：当数据库更新失败的时候记录错误日志\r\n* 功能优化：聊天输入框会随着输入内容的增多自动调整高度\r\n* Bug修复：修复移动端聊天页面模型切换不生效的Bug\r\n* 功能优化：给PC端扫码支付增加签名验证和有效期验证\r\n* Bug修复：修复支付码生成API权限控制的问题\r\n* Bug修复：模型算力设置为0时，不扣减用户算力，并且不记录算力消费日志\r\n* 功能优化：新增随机背景配置项，可以在后台设置，首页使用 Bing 壁纸作为背景图片\r\n* 功能新增：H5端支持 Dalle 绘图\r\n\r\n## v4.0.7\r\n\r\n* 功能优化：升级quic-go，支持 Go1.21\r\n* 功能优化：添加导航菜单的时候支持框入外部链接，并支持上传自定义菜单图片\r\n* Bug修复：修复弹窗等于图形验证码一直验证失败的问题\r\n* 功能重构：重构前端 UI 页面，增加顶部导航\r\n* 功能优化：优化 Vue 非父子组件之间的通信方式\r\n* 功能优化：优化 ItemList 组件，自动根据页面宽度计算 cols 数量\r\n\r\n## v4.0.6\r\n\r\n* Bug修复：修复PC端画廊页面的瀑布流组件样式错乱问题\r\n* 功能新增：给思维导图增加 ToolBar，实现思维导图的放大缩小和定位\r\n* Bug修复：修复思维导图不扣费的Bug\r\n* Bug修复：修复管理后台角色删除失败的Bug\r\n* Bug修复：兼容最新版秋叶SD懒人包的 SD API，新增 scheduler 参数\r\n* 功能优化：支持在管理后台配置 AI 绘图相关配置，包括 SD, MJ-PLUS, MJ-PROXY\r\n* Bug修复：修复注册用户提示注册人数达到上限的 Bug\r\n* 功能优化：将MJ,SD,Dall绘画页面的任务列表全改成瀑布流组件\r\n\r\n## v4.0.5\r\n\r\n* 功能优化：已授权系统在后台显示授权信息\r\n* 功能优化：使用思维链提示词生成思维导图，确保生成的思维导图不会出现格式错误\r\n* 功能优化：优化首页登录注册页面的 UI\r\n* BUG修复：修复License验证的逻辑漏洞\r\n* Bug修复：后台添加用户的时候密码规则限制跟前台注册保持一致\r\n* 功能新增：管理后台支持切换主题，支持 light 和 dark 两种主题\r\n* 功能新增：移动端新增 DALL-E 绘画功能\r\n* 功能新增：新增移动端首页功能，移动端支持 light 和 dark 两种主题\r\n* 功能新增：移动支持免登录预览功能\r\n* Bug修复：解决在同一个浏览器开启多个对话时候对话内容会相互乱串的问题\r\n* Bug修复：修复部分中转 API 模型会出现第一输出的字符被淹没的Bug\r\n\r\n## v4.0.4\r\n\r\n* Bug修复：修复统一千问第二句不回复的问题\r\n* 功能优化：MJ 和 SD 任务正在执行时不更新已完成任务列表，加快页面渲染速度\r\n* 功能新增：Dalle AI 绘画功能实现\r\n* Bug修复：修复思维导图格式乱码问题\r\n* 功能优化：支持使用 TLS 邮件协议，解决国内服务器无法使用 25 号端口发送邮件的问题\r\n* 功能新增：支持从应用列表直接和某个应用对话\r\n* 功能优化：优化算力日志的页面和首页的UI\r\n* 功能新增：支持思维导图导出 PNG 图片下载\r\n\r\n## v4.0.3\r\n\r\n* 功能新增：允许为角色应用绑定模型，如指定某个角色只能使用某个模型\r\n* Bug修复：兼容 gpt-4-turbo-2024-04-09 模型的函数调用 Bug\r\n* Bug修复：修复MidJourney在任务超时后出现后面的任务覆盖前面任务的问题\r\n* 功能新增：支持上传图片和视觉模型\r\n* 功能优化：优化聊天页面的复制代码按钮样式乱码\r\n* 功能新增：增加思维导图功能，支持选择不同的对话模型来生成思维导图\r\n* 功能新增：支持为角色绑定对话模型，比如绑定某个角色只能用GPT3.5或者 GPT4\r\n* 功能新增：支持为模型绑定 API KEY，比如为 GPT3.5 模型绑定免费的 API KEY 给用户免费使用来引流不至于消耗你的收费 KEY。\r\n* 功能新增：支持管理后台 Logo 修改\r\n\r\n## 4.0.2\r\n\r\n* 功能新增：支持前端菜单可以配置\r\n* 功能优化：在登录和注册界面标题显示软件版本号\r\n* 功能优化：MJ 绘画支持 --sref 和 --cref 图片一致性参数\r\n* 功能优化：使用 leveldb 解决 SD 绘图进度图片预览问题\r\n* Bug修复：解决因为图片上传使用相对路径而导致融图失败的问题。\r\n* 功能新增：手机端支持 Stable-Diffusion 绘画\r\n* 功能新增：管理后台登录页面增加行为验证码，防止爆破\r\n\r\n## v4.0.1\r\n\r\n* 功能重构：重构 Stable-Diffusion 绘画实现，使用 SDAPI 替换之前的 websocket 接口，SDAPI 兼容各种 stable-diffusion\r\n  发行版，稳定性更强一些\r\n* 功能优化：使用 [midjouney-proxy](https://github.com/novicezk/midjourney-proxy) 项目替换内置的原生 MidJourney API，兼容\r\n  MJ-Plus 中转\r\n* 功能新增：用户算力消费日志增加统计功能，统计一段时间内用户消费的算力\r\n* Bug修复：修复 iphone 手机无法通过图形验证码的Bug，使用滑动验证码替换\r\n* Bug修复：修复手机端 MidJourney 绘画页面滚动条无法滚动的Bug\r\n\r\n## v4.0.0\r\n\r\n非兼容版本，重大重构，引入算力概念，将系统中所有的能力（AI对话，MJ绘画，SD绘画，DALL绘画）全部使用算力来兑换。\r\n只要你的算力值余额不为0，你就可以进行任何操作。比如一次 GPT3.5 对话消耗1个单位算力，一次 GPT4 对话消耗10个算力。一次 MJ\r\n对话消耗15个算力...\r\n\r\n* 功能重构：重构整体系统，全部采用算力来进行结算\r\n* 功能优化：SD 绘画页面采用 websocket 替换 http 轮询机制，节省带宽\r\n* 功能优化：移动端聊天页面图片支持预览和放大功能\r\n* 功能优化：MJ 和 SD 页面数据分页加载，解决一次性加载太多数据导致页面卡顿的问题\r\n* 功能优化：**PC端不登录也可以预览功能，只有在发起操作的时候才需要登录**\r\n* 功能优化：控制台订单管理页面显示未支付订单，并提供订单删除功能\r\n* 功能新增：支持H5支付\r\n* 功能优化：支持数学公式的识别和美化输出\r\n* 功能新增：新增算力消费日志功能\r\n* 功能优化：整合 XXL-JOB 实现订单清理，每日算力派发，VIP 算力重置等任务\r\n* 功能新增：管理后台新增7日内新增用户和新增订单统计\r\n\r\n## v3.2.7\r\n\r\n* 功能重构：采用 Vant 重构移动页面，新增 MidJourney 功能\r\n* 功能优化：优化 PC 端 MidJourney 页面布局，新增融图和换脸功能\r\n* Bug修复：修复 issue [\r\n  管理界面操作用户存在的两个问题](https://github.com/yangjian102621/chatgpt-plus/issues/117#issuecomment-1909201532)\r\n* 功能优化：在对话和聊天记录表中新增冗余字段 model，存储对话模型\r\n* Bug修复：IPhone 手机验证码触摸事件坐标错位 [issue 144](https://github.com/yangjian102621/chatgpt-plus/issues/144)\r\n* Bug修复：重新生成按钮功能失效问题\r\n* Bug修复：对话输入HTML标签不显示的问题\r\n* 功能优化：gpt-4-all/gpts/midjourney-plus 支持第三方平台的 API KEY\r\n* 功能新增：新增删除文件功能\r\n* Bug修复：解决 MJ-Plus discord 图片下载失败问题，使用第三方平台中转地址下载\r\n* 功能新增：后台管理新怎对话查看和检索功能\r\n\r\n## v3.2.6\r\n\r\n* 功能优化：恢复关闭注册系统配置项，管理员可以在后台关闭用户注册，只允许内部添加账号\r\n* 功能优化：兼用旧版本微信收款消息解析\r\n* 功能优化：优化订单扫码支付状态轮询功能，当关闭二维码时取消轮询，节约网络资源\r\n* 功能新增：新增图片发布功能，画廊只显示用户已发布的图片\r\n* 功能新增：后台新增配置微信客服二维码，可以上传自己的微信客服二维码\r\n* 功能新增：新增网站公告，可以在管理后台自定义配置\r\n* 功能新增：新增阿里通义千问大模型支持\r\n* Bug修复：修复 MJ 放大任务失败时候 img_call 会增加的 Bug\r\n* 功能优化：新增虎皮椒和PayJS订单状态校验功能，增加安全性\r\n* Bug修复：修复微信转账交易 ID 提取失败 Bug\r\n* 功能优化：给所有的 websocket 连接加上心跳，解决 \"close 1006 (abnormal closure): unexpected EOF\" Bug\r\n* 功能新增：新增短信宝短信平台发送平台集成\r\n\r\n## v3.2.5\r\n\r\n* 功能新增：**重磅更新！！！** 新增 MidJourney-Plus API 支持，一秒配置，开箱即用，高效稳定。\r\n* 功能新增：**重磅更新！！！** 新增 GPT4-ALL 和 GPTs 模型支持，你只需花几块钱，可以丝滑享受 ChatGPT-Plus 会员的所有功能，无需再订阅\r\n  Plus 账号了！！！\r\n* 功能优化：增强 markdown 图片和引用块解析。\r\n* 功能新增：新增用户文件管理，目前一支持上传文件跟 GPT 进行多态对话。\r\n* 功能优化：function call 兼用中转 API。\r\n* Bug修复：修复部分已知的 Bug。\r\n\r\n## v3.2.4.1\r\n\r\n* 功能新增：新增 PayJs 支付通道\r\n* Bug修复：紧急修复后台添加用户失败问题\r\n* Bug修复：紧急修复使用中转 API-KEY 无法绘图的问题\r\n* Bug修复：允许用户关闭手机和邮箱注册通道，移除验证码依赖\r\n\r\n## v3.2.4\r\n\r\n* 功能新增：重磅更新，支持邮箱注册\r\n* 功能优化：优化函数调用授权\r\n* 功能优化：给用户表新增 nickname 字段\r\n* 功能优化：管理后台给聊天角色增加启用/禁用开关\r\n* Bug修复：SD绘画出现重复扣减绘图次数\r\n* 功能优化：优化聊天对话导出样式，适应移动端\r\n* 功能新增：众筹核销可以选择兑换对话还是绘图的额度\r\n* Bug修复：修复[从历史记录获取reply有并发风险 #92](https://github.com/yangjian102621/chatgpt-plus/issues/92)\r\n* Bug修复：修复 MidJourney 绘图任务调度Bug，为 task_id 建议唯一索引\r\n* 功能重构：重构了 API KEY模块，支持为每个 API KEY 都设置不同的 API 地址，并可以单独开启是否使用代理。\r\n\r\n## v3.2.3\r\n\r\n* 功能重构：重构函数工具模块，设计成可以后台动态管理函数。支持添加自定义函数实现\r\n* 功能新增：为充值产品数据表添加 img_calls 字段，支持充值绘图次数\r\n* Bug修复：修复 [MJ 机器人空指针异常的 Bug](https://github.com/yangjian102621/chatgpt-plus/issues/73)\r\n* Bug修复：确保相同 Prompt 的绘图任务的 Upscale 和 Variation 任务调度给相同的频道\r\n* 功能新增：新增删除绘图任何和图片功能\r\n* Bug修复：修复虎皮椒支付二维码重复扫码时报错问题\r\n* 功能优化：自动将 AI 绘画中的中文提示词翻译成英文\r\n* 功能优化：优化AI绘画的大图压缩算法，新增图片缓存\r\n* 功能优化：支持为 MJ 绘图 API 增加反代功能，提高图片的加载速度，大大降低绘图任务的失败率\r\n* Bug修复：修复[Azure Api 更换api-version参数后请求失败的问题](https://github.com/yangjian102621/chatgpt-plus/pull/71)\r\n* Bug修复：修复科大讯飞 V1.5 API 请求失败的问题\r\n* Bug修复：绘图失败后，自动恢复用户的剩余绘图次数\r\n* 功能新增：为移动端新增 SD 绘图功能，分享功能\r\n\r\n## v3.2.2\r\n\r\n* 功能重构：重构 MidJourney 和 Stable-Diffusion 绘图模块，支持使用多组配置创建池子提供绘画服务\r\n* 功能新增：AI绘画页面增加翻译和重写提示词功能\r\n* 功能优化：OSS上传组件支持在 Bucket 下设置二级目录\r\n* Bug修复：修复阿里云 OSS 访问路径错误\r\n* 功能优化：在 AI 绘图页面使用 HTTP 轮询替换 Websocket\r\n\r\n## v3.2.1\r\n\r\n* 功能优化：切换角色和模型的时候自动创建新的对话\r\n* Bug修复：修复文件上传失败No such file bug\r\n* 功能新增：MidJourney 绘画页面新增提示词翻译功能，新增多个绘画参数\r\n* Bug修复：[PC端对话在刷新后异常](https://github.com/yangjian102621/chatgpt-plus/issues/59)\r\n* 功能新增：增加 arm64 架构打包脚本\r\n* 功能新增：支持 dall-e3 绘图的 API 地址自定义配置\r\n* 功能新增：新增虎皮椒支付功能接入，支持微信和支付宝通道\r\n\r\n## v3.2.0\r\n\r\n* 功能新增：新增邀请注册功能\r\n* 功能优化：增加中间件自动对HTTP请求的参数去掉首尾空格\r\n* 功能优化：增加中间件自动为大图片生成缩略图\r\n* 功能优化：MidJourney 页面图片加载优化，实现图片预览懒加载\r\n* 功能新增：新增 DALL-E-3 绘画支持，并作为对话页面默认绘画插件\r\n* Bug修复：修复阿里云 OSS 域名设置不起做用的bug\r\n* Bug修复：修复MidJourney绘图失败后重复添加到队列的问题\r\n\r\n## v3.1.9\r\n\r\n* 功能新增：增加讯飞星火大模型 v3.0 支持\r\n* 功能新增：新增找回密码功能\r\n* 功能新增：支持 Markdown 代码复制功能\r\n* Bug修复: xxl-job 任务调度失败的 Bug\r\n* 功能优化：优化前端页面菜单图标，使用自定义图标替换 icon-font\r\n* Bug修复：Stable-Diffusion 绘画成功之后没有扣减用户画图次数\r\n* 功能优化：优化会员充值页面 ItemList 组件\r\n* 功能优化：给首页 Logo 增加链接\r\n* Bug修复：[新建会话时，提示\"请输入合法的手机号\" ](https://github.com/yangjian102621/chatgpt-plus/issues/51)\r\n* Bug修复：聊天上下文失效问题\r\n* 功能优化：关闭注册时显示联系管理员二维码\r\n* 功能优化：移除 leveldb 依赖，使用 redis 替换相应的功能\r\n* Bug修复：后台启用用户 VIP 不生效问题\r\n* 功能优化：充值支付页面的支付说明文字可以后台配置\r\n* Bug修复：ChatGLM，百度文心，科大讯飞模型输出代码不换行问题\r\n\r\n## v3.1.8\r\n\r\n1. 功能新增：新增会员套餐充值，点卡充值，订单系统，集成支付宝支付通道\r\n2. Bug修复：修复 MidJourney API 参数版本更新导致调用失败问题\r\n3. Bug修复：修复 Stable Diffusion 调用后没有更新绘图调用次数问题\r\n4. Bug修复：修复七牛云上传报错 expired token\r\n5. Bug修复：修复高权重模型导致的对话次数为负数的漏洞\r\n6. 功能优化：将聊天报错信息定义为统一常量，方便修改\r\n7. 功能优化：优化 markdown 表格显示样式，覆写 Element-Plus 表格样式\r\n8. 功能优化：增加倒数计时组件，定期自动清理未支付的订单\r\n\r\n## v3.1.7\r\n\r\n1. 功能新增：支持文心4.0 AI 模型\r\n2. 功能新增：可以在管理后台为用户绑定指定的 AI 模型，如只给某个用户使用 GPT-4 模型\r\n3. 功能新增：模型新增权重字段，不同的模型每次调用耗费的点数可以设置不同，比如GPT4是GPT3.5的10倍\r\n4. 功能新增：新增系统配置关闭 AI 模型的函数功能\r\n5. 功能优化：优化 MidJourney 专业绘画页面图片预览样式\r\n\r\n## v3.1.6\r\n\r\n1. 功能新增：新增AI 绘画照片墙功能页面，供用户查看所有的 AI 绘画作品\r\n2. 功能新增：新增 AI 角色应用功能页面，用户可以添加自己感兴趣的应用\r\n3. 功能优化：优化瀑布流组件的页面布局\r\n4. 功能优化：新注册用户成功之后自动登录\r\n5. 功能优化：优化更新对话标题的操作体验，绑定回车事件\r\n\r\n## v3.1.5\r\n\r\n1. 功能新增：新增百度文心一言大模型 API 接入支持\r\n2. 功能新增：新增科大讯飞星火大模型 API 接入支持\r\n3. 功能重构：将 chat_handler 的所有功能实现放入单独的包中\r\n4. 功能新增：新增系统配置 `enabled_function` 用于启用和关闭函数功能\r\n5. Bug修复：修复管理后台更新 API Key 失败的 Bug\r\n6. Bug修复：修复新建的对话无法更新对话标题的 Bug\r\n7. 功能优化：其他一些小的体验优化工作\r\n\r\n## v3.1.4\r\n\r\n1. 功能新增：新增阿里云 OSS 图片上传实现，目前已支持本地存储，七牛云，Minio和阿里云 OSS 四种存储介质。\r\n2. 功能新增：**增加 Stable Diffusion 绘画功能页面**。\r\n3. 功能重构：将 [chatgpt-plus-exts](https://github.com/yangjian102621/chatgpt-plus-exts) 合并到本项目，部署更加简单，无需部署两个项目了。\r\n4. Bug修复：修复[用户注册报错BUG #37](https://github.com/yangjian102621/chatgpt-plus/issues/37)。\r\n5. Bug修复：修复 MidJourney API 接口升级导致图片文保存失败的 Bug。\r\n6. 功能优化：增加阿里云短信服务配置项 `Sign` 和 `CodeTempId` 用来配置自己的短信签名和短信验证码模版 ID。\r\n7. 功能优化：添加系统配置用来设置自定义的众筹微信收款二维码。\r\n8. 功能优化：优化绘画页面的弹窗样式和页面布局。\r\n\r\n## v3.1.3\r\n\r\n1. 页面重构：重后 Home 页面，拆分成聊天，MJ绘画，SD 绘画，应用广场等多个功能菜单。\r\n2. 功能新增：新增 MidJourney 专业绘画页面，开放更高级的 MJ 绘画姿势。\r\n3. 功能优化：采用队列的方式控制绘画任务并发，简化任务回调通知逻辑，给任务回调加锁。\r\n4. 功能优化：精简用户表字段，删除用户名和昵称，只保留手机号。\r\n5. 功能优化：优化文件上传服务工厂实现，只创建激活的 Uploader 服务，节省资源。\r\n6. Bug修复：修复 JWT token 有效期计算错误的 Bug。\r\n\r\n## v3.1.2\r\n\r\n1. 功能新增：新增七牛云 OSS 实现，目前已支持三种文件上传服务：Local, Minio, QiNiu OSS。\r\n2. 功能新增：新增桌面版，使用 electron 套壳网页版。\r\n3. Bug修复：自动去除众筹核销时候转账单号中的空格，防止复制的时候多复制了空格。\r\n4. 功能优化：ChatPlus.vue 页面支持通过 chat_id path variable 来定位到指定的聊天。\r\n5. 功能优化：取消导出聊天页面的授权验证\r\n6. 功能优化：所有路由跳转都使用绝对路径\r\n\r\n## v3.1.1\r\n\r\n紧急修复版本，采用弹窗的方式显示验证码，解决验证码在低分辨率下被掩盖的Bug\r\n\r\n## v3.1.0(大版本更新)\r\n\r\n1. 功能重构：将聊天模型独立拆分，以便支持多平台模型，目前已经内置支持 OPenAI，Azure 以及\r\n   ChatGLM，用户可以在这两个平台的模型中随意切换，体验不同的模型聊天。\r\n2. 功能重构：重写系统 API 授权机制，使用 JWT 替换传统的 session 会话授权，使得 API 授权变得更加灵活。\r\n3. 功能重构：重构文件夹上传服务，支持多种文件上传存储handler，目前已经实现本地存储和 minio oss 存储。\r\n4. 功能优化：更新头像自动删除旧的图片资源。\r\n5. 功能优化：将应用日志在终端输出的同时存盘，方便 docker 部署查看日志。\r\n6. 功能新增：允许用户配置自己的 OPenAI，Azure 以及 ChatGLM API KEY。\r\n7. 功能优化：优化移动版的行为验证码样式，修复低分辨率显示器验证码被遮挡的 Bug\r\n8. 升级 gin, element-plus，redis 组件到最新版本。\r\n9. Bug修复：修复若干已知的的 Bug\r\n\r\n## v3.0.7\r\n\r\n1. 聊天主界面：新增聊天引导页面，介绍产品功能\r\n2. 功能重构：拆分项目，将函数插件以及微信机器人，MidJourney 机器人等功能拆分新项目独立部署。\r\n3. 功能新增：新增 MidJourney AI 绘画支持，当识别到用户的绘画需求时，自动调用 MidJourney 绘画函数进行绘画。\r\n4. 功能新增：支持导出聊天记录为 PDF 文件。\r\n5. 功能优化：在后台 dashboard 页面新增统计今日众筹收入。\r\n6. 功能优化：支持用户设置默认的 GPT 模型\r\n7. Bug修复：修复若干已知的的 Bug\r\n\r\n## v3.0.6\r\n\r\n1. 管理后台：新增用户名和手机号码搜索功能\r\n2. 管理后台：新增重置用户密码功能\r\n3. 管理后台：支持关闭注册功能，新增添加用户功能，适用于内部使用场景\r\n4. 管理后台：新增仪表盘页面，统计当天的新增用户，新增会话数据，以及 Token 消耗\r\n5. Bug修复：修复注册页面验证码不显示 Bug\r\n6. Bug修复：优化上下文 Token 计算算法，修复聊天上下文超出限制时循环发送消息的 Bug\r\n7. 功能修正：允许用户使用手机号码登录\r\n8. 功能优化：更新系统配置后同步更新服务端内存变量数据\r\n9. 功能优化：优化打包脚本，减少容器镜像大小\r\n\r\n## v3.0.5\r\n\r\n重磅功能更新！！！ 新增函数插件支持，可以轻松地接入你的第三方插件服务，ChatGPT 自动帮您调用对应的函数完成任务。\r\n\r\n1. 新增函数功能支持，全球早报，今日头条和微博热搜等插件服务，您也可以接入自己的第三方服务。\r\n2. 集成微信机器人模块，可以通过微信个人收款码来完成充值，无需接入微信支付功能也可以完成收款功能。\r\n3. 用户注册添加短信验证码功能，引入交互安全认证服务，有效防刷短信。\r\n4. 支持配置聊天上下文深度，精确统计每轮对话所消耗的总 TOKEN 数量。\r\n5. 修复已知的 Bug。\r\n\r\n## v3.0.4\r\n\r\n1. 调整项目目录结构，移除其他语言 API 目录\r\n2. 修复 nodejs apple M1 跨平台打包，运行报错 exec format error\r\n3. 增加用户 token 消耗统计功能\r\n\r\n## v3.0.3\r\n\r\n1. 优化启动参数接收处理，支持环境变量传参\r\n2. 修复 PC 端聊天界面出现滚动条的 Bug\r\n3. 修正前端 user_init_call 字段错误和用户注册初始化头像路径问题\r\n4. 更改 docker 构建镜像的基础镜像，改用作者的阿里云镜像，这样打包更快一些。\r\n\r\n## v3.0.2\r\n\r\n1. Feat：新增移动端的聊天和用户设置功能\r\n2. Fix: 修复 markdown 换行符解析的 Bug\r\n3. Feat: 新增头像上传功能\r\n4. Docs: 增加容器部署支持，支持 docker-compose 一键部署\r\n5. Fix: 增加全局错误处理 handler，修复业务处理异常导致服务退出的 Bug\r\n\r\n## v3.0.1\r\n\r\n1. 紧急修复前端 Home 组件路由被后台管理 Home 组件路由覆盖的 Bug。\r\n2. 增加 docker-compose 部署脚本\r\n\r\n## v3.0.0\r\n\r\n全新的重构版本！！！\r\n新版的系统前后端都进行大改动的重构，后端还是用的 Gin Web 框架，但是作者整合了 fx 自动注入框架，整个后端应用结构非常简洁，特别适合二次开发。\r\n另外，数据存储用 MySQL 替换了 leveldb, 因为要对 C 端，后期会涉及到很多业务数据查询统计，leveldb 已经完全不够用了。\r\n前后台技术架构还是基于 `Vue3 + Element-Plus` ，但是页面风格已经全部变了，几乎所有页面样式代码都重写了，希望会你是希望的风格！\r\n\r\n此次重构改版主要是为了后面功能的扩展准备了。\r\n\r\n新版本已经实现的功能如下：\r\n\r\n1. 引入用户体系，新增用户注册和登录功能。\r\n2. 聊天页面改版，实现了跟 ChatGPT 官方版本一致的聊天体验。\r\n3. 创建会话的时候可以选择聊天角色和模型。\r\n4. 新增聊天设置功能，用户可以导入自己的 API KEY\r\n5. 保存聊天记录，支持聊天上下文。\r\n6. 重构后台管理模块，更友好，扩展性更好的后台管理系统。\r\n7. 引入 ip2region 组件，记录用户的登录IP和地址。\r\n8. 支持会话搜索过滤。"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.287109375,
          "content": "                                 Apache License\r\n                           Version 2.0, January 2004\r\n                        http://www.apache.org/licenses/\r\n\r\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\r\n\r\n   1. Definitions.\r\n\r\n      \"License\" shall mean the terms and conditions for use, reproduction,\r\n      and distribution as defined by Sections 1 through 9 of this document.\r\n\r\n      \"Licensor\" shall mean the copyright owner or entity authorized by\r\n      the copyright owner that is granting the License.\r\n\r\n      \"Legal Entity\" shall mean the union of the acting entity and all\r\n      other entities that control, are controlled by, or are under common\r\n      control with that entity. For the purposes of this definition,\r\n      \"control\" means (i) the power, direct or indirect, to cause the\r\n      direction or management of such entity, whether by contract or\r\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\r\n      outstanding shares, or (iii) beneficial ownership of such entity.\r\n\r\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\r\n      exercising permissions granted by this License.\r\n\r\n      \"Source\" form shall mean the preferred form for making modifications,\r\n      including but not limited to software source code, documentation\r\n      source, and configuration files.\r\n\r\n      \"Object\" form shall mean any form resulting from mechanical\r\n      transformation or translation of a Source form, including but\r\n      not limited to compiled object code, generated documentation,\r\n      and conversions to other media types.\r\n\r\n      \"Work\" shall mean the work of authorship, whether in Source or\r\n      Object form, made available under the License, as indicated by a\r\n      copyright notice that is included in or attached to the work\r\n      (an example is provided in the Appendix below).\r\n\r\n      \"Derivative Works\" shall mean any work, whether in Source or Object\r\n      form, that is based on (or derived from) the Work and for which the\r\n      editorial revisions, annotations, elaborations, or other modifications\r\n      represent, as a whole, an original work of authorship. For the purposes\r\n      of this License, Derivative Works shall not include works that remain\r\n      separable from, or merely link (or bind by name) to the interfaces of,\r\n      the Work and Derivative Works thereof.\r\n\r\n      \"Contribution\" shall mean any work of authorship, including\r\n      the original version of the Work and any modifications or additions\r\n      to that Work or Derivative Works thereof, that is intentionally\r\n      submitted to Licensor for inclusion in the Work by the copyright owner\r\n      or by an individual or Legal Entity authorized to submit on behalf of\r\n      the copyright owner. For the purposes of this definition, \"submitted\"\r\n      means any form of electronic, verbal, or written communication sent\r\n      to the Licensor or its representatives, including but not limited to\r\n      communication on electronic mailing lists, source code control systems,\r\n      and issue tracking systems that are managed by, or on behalf of, the\r\n      Licensor for the purpose of discussing and improving the Work, but\r\n      excluding communication that is conspicuously marked or otherwise\r\n      designated in writing by the copyright owner as \"Not a Contribution.\"\r\n\r\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\r\n      on behalf of whom a Contribution has been received by Licensor and\r\n      subsequently incorporated within the Work.\r\n\r\n   2. Grant of Copyright License. Subject to the terms and conditions of\r\n      this License, each Contributor hereby grants to You a perpetual,\r\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\r\n      copyright license to reproduce, prepare Derivative Works of,\r\n      publicly display, publicly perform, sublicense, and distribute the\r\n      Work and such Derivative Works in Source or Object form.\r\n\r\n   3. Grant of Patent License. Subject to the terms and conditions of\r\n      this License, each Contributor hereby grants to You a perpetual,\r\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\r\n      (except as stated in this section) patent license to make, have made,\r\n      use, offer to sell, sell, import, and otherwise transfer the Work,\r\n      where such license applies only to those patent claims licensable\r\n      by such Contributor that are necessarily infringed by their\r\n      Contribution(s) alone or by combination of their Contribution(s)\r\n      with the Work to which such Contribution(s) was submitted. If You\r\n      institute patent litigation against any entity (including a\r\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\r\n      or a Contribution incorporated within the Work constitutes direct\r\n      or contributory patent infringement, then any patent licenses\r\n      granted to You under this License for that Work shall terminate\r\n      as of the date such litigation is filed.\r\n\r\n   4. Redistribution. You may reproduce and distribute copies of the\r\n      Work or Derivative Works thereof in any medium, with or without\r\n      modifications, and in Source or Object form, provided that You\r\n      meet the following conditions:\r\n\r\n      (a) You must give any other recipients of the Work or\r\n          Derivative Works a copy of this License; and\r\n\r\n      (b) You must cause any modified files to carry prominent notices\r\n          stating that You changed the files; and\r\n\r\n      (c) You must retain, in the Source form of any Derivative Works\r\n          that You distribute, all copyright, patent, trademark, and\r\n          attribution notices from the Source form of the Work,\r\n          excluding those notices that do not pertain to any part of\r\n          the Derivative Works; and\r\n\r\n      (d) If the Work includes a \"NOTICE\" text file as part of its\r\n          distribution, then any Derivative Works that You distribute must\r\n          include a readable copy of the attribution notices contained\r\n          within such NOTICE file, excluding those notices that do not\r\n          pertain to any part of the Derivative Works, in at least one\r\n          of the following places: within a NOTICE text file distributed\r\n          as part of the Derivative Works; within the Source form or\r\n          documentation, if provided along with the Derivative Works; or,\r\n          within a display generated by the Derivative Works, if and\r\n          wherever such third-party notices normally appear. The contents\r\n          of the NOTICE file are for informational purposes only and\r\n          do not modify the License. You may add Your own attribution\r\n          notices within Derivative Works that You distribute, alongside\r\n          or as an addendum to the NOTICE text from the Work, provided\r\n          that such additional attribution notices cannot be construed\r\n          as modifying the License.\r\n\r\n      You may add Your own copyright statement to Your modifications and\r\n      may provide additional or different license terms and conditions\r\n      for use, reproduction, or distribution of Your modifications, or\r\n      for any such Derivative Works as a whole, provided Your use,\r\n      reproduction, and distribution of the Work otherwise complies with\r\n      the conditions stated in this License.\r\n\r\n   5. Submission of Contributions. Unless You explicitly state otherwise,\r\n      any Contribution intentionally submitted for inclusion in the Work\r\n      by You to the Licensor shall be under the terms and conditions of\r\n      this License, without any additional terms or conditions.\r\n      Notwithstanding the above, nothing herein shall supersede or modify\r\n      the terms of any separate license agreement you may have executed\r\n      with Licensor regarding such Contributions.\r\n\r\n   6. Trademarks. This License does not grant permission to use the trade\r\n      names, trademarks, service marks, or product names of the Licensor,\r\n      except as required for reasonable and customary use in describing the\r\n      origin of the Work and reproducing the content of the NOTICE file.\r\n\r\n   7. Disclaimer of Warranty. Unless required by applicable law or\r\n      agreed to in writing, Licensor provides the Work (and each\r\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\r\n      implied, including, without limitation, any warranties or conditions\r\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\r\n      PARTICULAR PURPOSE. You are solely responsible for determining the\r\n      appropriateness of using or redistributing the Work and assume any\r\n      risks associated with Your exercise of permissions under this License.\r\n\r\n   8. Limitation of Liability. In no event and under no legal theory,\r\n      whether in tort (including negligence), contract, or otherwise,\r\n      unless required by applicable law (such as deliberate and grossly\r\n      negligent acts) or agreed to in writing, shall any Contributor be\r\n      liable to You for damages, including any direct, indirect, special,\r\n      incidental, or consequential damages of any character arising as a\r\n      result of this License or out of the use or inability to use the\r\n      Work (including but not limited to damages for loss of goodwill,\r\n      work stoppage, computer failure or malfunction, or any and all\r\n      other commercial damages or losses), even if such Contributor\r\n      has been advised of the possibility of such damages.\r\n\r\n   9. Accepting Warranty or Additional Liability. While redistributing\r\n      the Work or Derivative Works thereof, You may choose to offer,\r\n      and charge a fee for, acceptance of support, warranty, indemnity,\r\n      or other liability obligations and/or rights consistent with this\r\n      License. However, in accepting such obligations, You may act only\r\n      on Your own behalf and on Your sole responsibility, not on behalf\r\n      of any other Contributor, and only if You agree to indemnify,\r\n      defend, and hold each Contributor harmless for any liability\r\n      incurred by, or claims asserted against, such Contributor by reason\r\n      of your accepting any such warranty or additional liability.\r\n\r\n   END OF TERMS AND CONDITIONS\r\n\r\n   APPENDIX: How to apply the Apache License to your work.\r\n\r\n      To apply the Apache License to your work, attach the following\r\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\r\n      replaced with your own identifying information. (Don't include\r\n      the brackets!)  The text should be enclosed in the appropriate\r\n      comment syntax for the file format. We also recommend that a\r\n      file or class name and description of purpose be included on the\r\n      same \"printed page\" as the copyright notice for easier\r\n      identification within third-party archives.\r\n\r\n   Copyright [yyyy] [name of copyright owner]\r\n\r\n   Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   you may not use this file except in compliance with the License.\r\n   You may obtain a copy of the License at\r\n\r\n       http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   Unless required by applicable law or agreed to in writing, software\r\n   distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   See the License for the specific language governing permissions and\r\n   limitations under the License.\r\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.1328125,
          "content": "# GeekAI\n> 根据[《生成式人工智能服务管理暂行办法》](https://www.cac.gov.cn/2023-07/13/c_1690898327029107.htm)的要求，请勿对中国地区公众提供一切未经备案的生成式人工智能服务。\n\n**GeekAI** 基于 AI 大语言模型 API 实现的 AI 助手全套开源解决方案，自带运营管理后台，开箱即用。集成了 OpenAI, Claude, 通义千问，Kimi，DeepSeek，Gitee AI 等多个平台的大语言模型。集成了 MidJourney 和 Stable Diffusion AI绘画功能。\n\n主要特性：\n\n- 完整的开源系统，前端应用和后台管理系统皆可开箱即用。\n- 基于 Websocket 实现，完美的打字机体验。\n- 内置了各种预训练好的角色应用，比如小红书写手，英语翻译大师，苏格拉底，孔子，乔布斯，周报助手等。轻松满足你的各种聊天和应用需求。\n- 支持 OpenAI, Claude, 通义千问，Kimi，DeepSeek等多个大语言模型，**支持 Gitee AI Serverless 大模型 API**。 \n- 支持 Suno 文生音乐\n- 支持 MidJourney / Stable Diffusion AI 绘画集成，文生图，图生图，换脸，融图。开箱即用。\n- 支持使用个人微信二维码作为充值收费的支付渠道，无需企业支付通道。\n- 已集成支付宝支付功能，微信支付，支持多种会员套餐和点卡购买功能。\n- 集成插件 API 功能，可结合大语言模型的 function 功能开发各种强大的插件，已内置实现了微博热搜，今日头条，今日早报和 AI\n  绘画函数插件。\n\n### 🚀 更多功能请查看 [GeekAI-PLUS](https://github.com/yangjian102621/geekai-plus)\n\n- [x] 更友好的 UI 界面\n- [x] 支持 Dall-E 文生图功能\n- [x] 支持文生思维导图\n- [x] 支持为模型绑定指定的 API KEY，支持为角色绑定指定的模型等功能\n- [x] 支持网站 Logo 版权等信息的修改\n\n## 功能截图\n请参考 [GeekAI 项目介绍](https://docs.geekai.me/info/)。\n\n### 体验地址\n\n> 免费体验地址：[https://chat.geekai.me](https://chat.geekai.me) <br/>\n> **注意：请合法使用，禁止输出任何敏感、不友好或违规的内容！！！**\n\n## 快速部署\n\n请参考文档 [**GeekAI 快速部署**](https://docs.geekai.me/install/)。\n\n## 使用须知\n\n1. 本项目基于 Apache2.0 协议，免费开放全部源代码，可以作为个人学习使用或者商用。\n2. 如需商用必须保留版权信息，请自觉遵守。确保合法合规使用，在运营过程中产生的一切任何后果自负，与作者无关。\n\n## 项目地址\n\n* Github 地址：https://github.com/yangjian102621/geekai\n* 码云地址：https://gitee.com/blackfox/geekai\n\n## 客户端下载\n\n目前已经支持 Win/Linux/Mac/Android 客户端，下载地址为：https://github.com/yangjian102621/geekai/releases/tag/v3.1.2\n\n## TODOLIST\n\n* [ ] 支持基于知识库的 AI 问答\n* [ ] 文生视频，文生歌曲功能\n* [ ] 微信支付功能\n\n## 项目文档\n\n最新的部署视频教程：[https://www.bilibili.com/video/BV1Cc411t7CX/](https://www.bilibili.com/video/BV1Cc411t7CX/)\n\n详细的部署和开发文档请参考 [**GeekAI 文档**](https://docs.geekai.me)。\n\n加微信进入微信讨论群可获取 **一键部署脚本（添加好友时请注明来自Github!!!）。**\n\n![微信名片](docs/imgs/wx.png)\n\n## 参与贡献\n\n个人的力量始终有限，任何形式的贡献都是欢迎的，包括但不限于贡献代码，优化文档，提交 issue 和 PR 等。\n\n#### 特此声明：由于个人时间有限，不接受在微信或者微信群给开发者提 Bug，有问题或者优化建议请提交 Issue 和 PR。非常感谢您的配合！\n\n### Commit 类型\n\n* feat: 新特性或功能\n* fix: 缺陷修复\n* docs: 文档更新\n* style: 代码风格或者组件样式更新\n* refactor: 代码重构，不引入新功能和缺陷修复\n* opt: 性能优化\n* chore: 一些不涉及到功能变动的小提交，比如修改文字表述，修改注释等\n\n## 打赏\n\n如果你觉得这个项目对你有帮助，并且情况允许的话，可以请作者喝杯咖啡，非常感谢你的支持～\n\n![打赏](docs/imgs/donate.png)\n\n![Star History Chart](https://api.star-history.com/svg?repos=yangjian102621/geekai&type=Date)\n"
        },
        {
          "name": "api",
          "type": "tree",
          "content": null
        },
        {
          "name": "build",
          "type": "tree",
          "content": null
        },
        {
          "name": "database",
          "type": "tree",
          "content": null
        },
        {
          "name": "deploy",
          "type": "tree",
          "content": null
        },
        {
          "name": "desktop",
          "type": "tree",
          "content": null
        },
        {
          "name": "web",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}