{
  "metadata": {
    "timestamp": 1736709067647,
    "page": 193,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjIwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "kube-rs/kube",
      "stars": 3127,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".devcontainer",
          "type": "tree",
          "content": null
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1611328125,
          "content": ".vscode/\n.idea/\n/target\n**/*.rs.bk\nCargo.lock\ne2e/boot\ne2e/job\nexamples/admission-controller-tls*\nexamples/admission_extfile.cnf\nexamples/ca.*\ntarpaulin-report.html\n"
        },
        {
          "name": ".mailmap",
          "type": "blob",
          "size": 0.048828125,
          "content": "Eirik A <sszynrae@gmail.com> <sszynrae@gmail.com>\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 132.82421875,
          "content": "<!-- NOTICE this is mostly generated from releases - ONLY ADD NEWS here now -->\n<!-- Anything added in the UNRELEASE'D section will be prepended to the autogenerated release -->\n<!-- You do NOT have to create links to issues yourself:  hashNUMBER will be linked by automation -->\n<!-- DO NOT touch the headers, UNRELEAS'D line, or compare url manually - they are sed'd -->\n<!-- next-header -->\nUNRELEASED\n===================\n * see https://github.com/kube-rs/kube/compare/0.98.0...main\n\n[0.98.0](https://github.com/kube-rs/kube/releases/tag/0.98.0) / 2024-12-23\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.98.0 -->\n\n## Highlights\n\n- [Kubernetes `v1_32`](https://kubernetes.io/blog/2024/12/11/kubernetes-v1-32-release/) support via `k8s-openapi` [0.24](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.24.0)\n  * Please [upgrade k8s-openapi along with kube](https://kube.rs/upgrading/) to avoid conflicts.\n  * New minimum versions: [MSRV](https://kube.rs/rust-version/) 1.81.0, [MK8SV](https://kube.rs/kubernetes-version/): 1.28\n- `kube-derive` additions:\n  * A [`CELSchema`](https://docs.rs/kube/latest/kube/derive.CELSchema.html) derive macro wrapper around [`JsonSchema`](https://docs.rs/schemars/latest/schemars/trait.JsonSchema.html) for injecting [cel validations](https://kubernetes.io/docs/reference/using-api/cel/) into the schema [#1649](https://github.com/kube-rs/kube/pull/1649)\n  * Allow overriding `served` and `storage` booleans for [multiple versions](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/#specify-multiple-versions) of [`CustomResource`](https://docs.rs/kube/latest/kube/derive.CustomResource.html) derives: [#1644](https://github.com/kube-rs/kube/pull/1644)\n- `kube-runtime` event [`Recorder`](https://docs.rs/kube/latest/kube/runtime/events/struct.Recorder.html) now aggregates repeat events [#1655](https://github.com/kube-rs/kube/pull/1655) (some breaking changes, see [controller-rs#116](https://github.com/kube-rs/controller-rs/pull/116))\n- `kube-client` UTF-16 edge case handling for windows [#1654](https://github.com/kube-rs/kube/pull/1654)\n\n## What's Changed\n### Added\n* Add `storage` and `served` argument to derive macro by @Techassi in https://github.com/kube-rs/kube/pull/1644\n* Implement  `derive(CELSchema)` macro for generating cel validation on CRDs by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1649\n### Changed\n* Add series implementation for `runtime` event recorder by @pando85 in https://github.com/kube-rs/kube/pull/1655\n* Bump `k8s-openapi` for Kubernetes `v1_32` support and MSRV by @clux in https://github.com/kube-rs/kube/pull/1671\n* Update tokio-tungstenite requirement from 0.24.0 to 0.25.0 by @dependabot in https://github.com/kube-rs/kube/pull/1666\n### Fixed\n* Add support for UTF-16 encoded kubeconfig files by @goenning in https://github.com/kube-rs/kube/pull/1654\n\n[0.97.0](https://github.com/kube-rs/kube/releases/tag/0.97.0) / 2024-11-20\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.97.0 -->\n\n## Highlights\n\n- [`CustomResource`](https://docs.rs/kube/latest/kube/derive.CustomResource.html) derive added features for crd yaml output:\n  * selectable fields [#1605](https://github.com/kube-rs/kube/issues/1605) + [#1610](https://github.com/kube-rs/kube/issues/1610)\n  * annotations and labels [#1631](https://github.com/kube-rs/kube/issues/1631)\n- Configuration edge cases:\n  * Avoid double installations of `aws-lc-rs` (rustls crypto) provider [#1617](https://github.com/kube-rs/kube/issues/1617)\n  * Kubeconfig fix for `null` user; [#1608](https://github.com/kube-rs/kube/issues/1608)\n  * Default runtime watcher backoff alignment with `client-go` [#1603](https://github.com/kube-rs/kube/issues/1603)\n- Feature use:\n  *  Client proxy feature-set misuse prevention [#1626](https://github.com/kube-rs/kube/issues/1626)\n  * Allow disabling `gzip` via `Config` [#1627](https://github.com/kube-rs/kube/issues/1627)\n- Depedency minors: `thiserror`, `hashbrown`, `jsonptr`, `json-patch`. Killed `lazy_static` / `once_cell`\n\n## What's Changed\n### Added\n* Feature: Allow to pass selectableFields for CRD definition by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1605\n* add support for CRD annotations and labels in kube-derive by @verokarhu in https://github.com/kube-rs/kube/pull/1631\n* Feature: Add config setting to disable gzip compression [#1627](https://github.com/kube-rs/kube/issues/1627) by @markdingram in https://github.com/kube-rs/kube/pull/1628\n### Changed\n* upgrade to hashbrown 0.15.0 by @rorosen in https://github.com/kube-rs/kube/pull/1599\n* update jsonptr + json-patch by @aviramha in https://github.com/kube-rs/kube/pull/1600\n### Fixed\n* fix(kube-runtime): setup backoff with builder pattern by @tiagolobocastro in https://github.com/kube-rs/kube/pull/1603\n* allow null user in kubeconfig's context by @aviramha in https://github.com/kube-rs/kube/pull/1608\n* Gauge SelectableField by k8s 1.30 version by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1610\n* Add a compile_error if setting selectable fields on K8s < 1.30 by @clux in https://github.com/kube-rs/kube/pull/1612\n* conditionally install `aws-lc-rs` by @goenning in https://github.com/kube-rs/kube/pull/1617\n* Warn when trying to use an unsupported proxy protocol by @nightkr in https://github.com/kube-rs/kube/pull/1626\n\n[0.96.0](https://github.com/kube-rs/kube/releases/tag/0.96.0) / 2024-10-09\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.96.0 -->\n## Highlights\n- **[Features](https://kube.rs/features/)**: `webpki-roots` added [#1323](https://github.com/kube-rs/kube/issues/1323), and [predicates](https://docs.rs/kube/latest/kube/runtime/utils/predicates/index.html) no longer require `unstable-runtime` [#1578](https://github.com/kube-rs/kube/issues/1578)\n- **Local auth**: improve leniency/kubectl-alignment [#1595](https://github.com/kube-rs/kube/issues/1595), remove http proxy vars [#1520](https://github.com/kube-rs/kube/issues/1520)\n- **Dependencies**: upgrades to `tower` and `secrecy`, and `derivative` swapped for `educe`\n\n## What's Changed\n### Added\n* rustls: optionally use WebPKI roots to avoid panicking on Android & iOS by @ewilken in https://github.com/kube-rs/kube/pull/1323\n* Stabilise runtime predicates by @clux in https://github.com/kube-rs/kube/pull/1578\n* Add `ObjectRef::from` as alias for `::from_obj` by @nightkr in https://github.com/kube-rs/kube/pull/1598\n### Changed\n* Bump `secrecy` to 0.10 by @clux in https://github.com/kube-rs/kube/pull/1588\n* Upgrades `tower` to 0.5.1 by @markdingram in https://github.com/kube-rs/kube/pull/1589\n* runtime: rename references from Flatten to Decode by @clux in https://github.com/kube-rs/kube/pull/1520\n### Removed\n* remove using HTTP PROXY from environment variable by @aviramha in https://github.com/kube-rs/kube/pull/1587\n### Fixed\n* replace derivative dependency with educe by @rorosen in https://github.com/kube-rs/kube/pull/1585\n* change auth behavior to match upstream on unknown/empty user - use null auth by @aviramha in https://github.com/kube-rs/kube/pull/1595\n\n[0.95.0](https://github.com/kube-rs/kube/releases/tag/0.95.0) / 2024-09-16\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.95.0 -->\n## Kubernetes `v1_31` support via `k8s-openapi` [0.23](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.23.0)\nPlease [upgrade k8s-openapi along with kube](https://kube.rs/upgrading/) to avoid conflicts.\n\nNew minimum versions: [MSRV](https://kube.rs/rust-version/) 1.77.2, [MK8SV](https://kube.rs/kubernetes-version/): 1.26\n\n## What's Changed\n### Changed\n* Update tokio-tungstenite requirement from 0.23.0 to 0.24.0 by @dependabot in https://github.com/kube-rs/kube/pull/1579\n* Bump `k8s-openapi` to 0.23 for Kubernetes 1.31 support by @clux in https://github.com/kube-rs/kube/pull/1581\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.94.2...0.95.0\n[0.94.2](https://github.com/kube-rs/kube/releases/tag/0.94.2) / 2024-09-13\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.94.2 -->\n\n## What's Changed\nFixes a runtime regression in [`watch_object`](https://docs.rs/kube/latest/kube/runtime/watcher/fn.watch_object.html).\n\n### Fixed\n* Ensure `watch_object` handles objects removed before init by @markdingram in https://github.com/kube-rs/kube/pull/1577\n\n[0.94.1](https://github.com/kube-rs/kube/releases/tag/0.94.1) / 2024-09-09\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.94.1 -->\n\n## What's Changed\nConvenience release. Adjusted a version bound to avoid possibility of running into version compatibility errors with `hyper-rustls`.\n\n### Fixed\n* Update hyper-rustls minimum version by @divergentdave in https://github.com/kube-rs/kube/pull/1575\n\n[0.94.0](https://github.com/kube-rs/kube/releases/tag/0.94.0) / 2024-09-09\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.94.0 -->\n## Highlights\nSupport for `rustls`'s [aws-lc-rs](https://aws.amazon.com/blogs/opensource/introducing-aws-libcrypto-for-rust-an-open-source-cryptographic-library-for-rust/) is available under a new `kube/aws-lc-rs` feature. Via https://github.com/kube-rs/kube/pull/1568 for https://github.com/kube-rs/kube/issues/1562\n\nFurthermore, there are improvements to [partial typing](https://kube.rs/controllers/object/#partially-typed-resource):\n\n1. Added a [`DeserializeGuard`](https://docs.rs/kube/latest/kube/core/struct.DeserializeGuard.html) safety wrapper to lift deserialisation errors (to e.g. not break watchers). See the [errorbound example](https://github.com/kube-rs/kube/blob/main/examples/errorbounded_configmap_watcher.rs) and [core module](https://docs.rs/kube/latest/kube/core/error_boundary/index.html) module.  Wrapped type be used with e.g. `Api::<DeserializeGuard<CaConfigMap>>`. Via https://github.com/kube-rs/kube/pull/1556\n2. A derive macro for [`Resource`](https://docs.rs/kube/latest/kube/trait.Resource.html); [`#[derive(Resource)]`](https://docs.rs/kube/latest/kube/derive.Resource.html) allows inheriting existing `k8s-openapi` resource implementations to avoid stepping down to the dynamic api. See the [cert check example](https://github.com/kube-rs/kube/blob/main/examples/cert_check.rs) for usage. Via https://github.com/kube-rs/kube/pull/1565\n\n## What's Changed\n### Added\n* Add error boundary wrapper type by @nightkr in https://github.com/kube-rs/kube/pull/1556\n* Implement Error for error_boundary::InvalidObject by @nightkr in https://github.com/kube-rs/kube/pull/1558\n* Add finalizers predicate filter by @ivan-kiselev in https://github.com/kube-rs/kube/pull/1560\n* optional feature to use `aws-lc-rs` rustls feature by @mcluseau in https://github.com/kube-rs/kube/pull/1568\n* Add `Resource` derive macro by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1565\n### Changed\n* Make implicitly dependent feature explicitly depend on each other by @clux in https://github.com/kube-rs/kube/pull/1551\n\n[0.93.1](https://github.com/kube-rs/kube/releases/tag/0.93.1) / 2024-07-23\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.93.1 -->\n\n## What's Changed\n### Fixed\n* add missing feature gate on ConfigExt for no-features build by @HoKim98 in https://github.com/kube-rs/kube/pull/1549\n\n[0.93.0](https://github.com/kube-rs/kube/releases/tag/0.93.0) / 2024-07-22\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.93.0 -->\n\n## Highlights\nBetter [query validation](https://github.com/kube-rs/kube/pull/1541), better [client header customisation](https://github.com/kube-rs/kube/pull/1523), and two new modules:\n\n1. [`core::labels`](https://docs.rs/kube/latest/kube/core/labels/index.html) module for creating typed label selectors for  [`ListParams`](https://docs.rs/kube/latest/kube/core/params/struct.ListParams.html#method.labels_from) or [`WatchParams`](https://docs.rs/kube/latest/kube/core/params/struct.WatchParams.html#method.labels_from). Can be constructed from a native [`LabelSelector`](https://docs.rs/k8s-openapi/latest/k8s_openapi/apimachinery/pkg/apis/meta/v1/struct.LabelSelector.html), or directly from a [`Selector`](https://docs.rs/kube/latest/kube/core/struct.Selector.html) of [`Expression`](https://docs.rs/kube/latest/kube/core/enum.Expression.html)s. [PR](https://github.com/kube-rs/kube/pull/1539).\n2.  [`prelude`](https://docs.rs/kube/latest/kube/prelude/index.html) to simplify imports of extension traits. [PR](https://github.com/kube-rs/kube/pull/1539).\n\nA big thank you to everyone who contributed to this release!\n\n## What's Changed\n### Added\n* add option to provide headers to send as client by @aviramha in https://github.com/kube-rs/kube/pull/1523\n* Add prelude for blanket and extension traits across sub-crates by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1527\n* Label selector support by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1539\n### Changed\n* Update garde requirement from 0.19.0 to 0.20.0 by @dependabot in https://github.com/kube-rs/kube/pull/1535\n### Removed\n* runtime: remove deprecated default_backoff by @clux in https://github.com/kube-rs/kube/pull/1518\n### Fixed\n* Fix watcher not fully paginating on Init by @clux in https://github.com/kube-rs/kube/pull/1525 (ported to 0.92.1)\n* Prevent empty string object name requests from being sent to the apiserver by @xMAC94x in https://github.com/kube-rs/kube/pull/1541\n\n[0.92.1](https://github.com/kube-rs/kube/releases/tag/0.92.1) / 2024-06-19\n===================\n## Bugfix Release\nThis release fixes [#1524](https://github.com/kube-rs/kube/issues/1524); a regression from [0.92.0](https://github.com/kube-rs/kube/releases/tag/0.92.0) causing `watcher` to skip pages on initial list. See [#1525](https://github.com/kube-rs/kube/pull/1525).\n\nIt is recommended to upgrade from 0.92.0.\n\n## What's Changed\n### Fixed\n* Fix watcher not fully paginating on Init by @clux in https://github.com/kube-rs/kube/pull/1525\n\n[0.92.0](https://github.com/kube-rs/kube/releases/tag/0.92.0) / 2024-06-12\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.92.0 -->\n## Runtime: Decreased Memory Usage from `watcher`\nBuffering of [initial pages](https://kubernetes.io/docs/reference/using-api/api-concepts/#retrieving-large-results-sets-in-chunks) / [init streams](https://kubernetes.io/docs/reference/using-api/api-concepts/#streaming-lists) is no longer a mandatory process with [`watcher::Event`](https://docs.rs/kube/latest/kube/runtime/watcher/enum.Event.html) gaining new `Init`, `InitApply`, and `InitDone` events. These events are read on the [store side](https://github.com/kube-rs/kube/blob/0f6cb6f0ac695444f6789f98fa07073f4980a127/kube-runtime/src/reflector/store.rs#L99-L134) maintaining the atomicity/completeness guarantees for `reflector` and `Store` users.\n\nThis constitutes a significant memory decrease for all `watcher` users, and it has more details in a new [kube.rs/blog post](https://kube.rs/blog/2024/06/11/watcher-memory-improvements/).\n\nThe downside is a **breaking change** to [`watcher::Event`](https://docs.rs/kube/latest/kube/runtime/watcher/enum.Event.html). Plain usage of `watcher` / `reflector` / `Controller` should generally not need to change anything, but custom stores / matches on `watcher::Event` will [need an update](https://kube.rs/blog/2024/06/11/watcher-memory-improvements/#breaking-change). If you are writing custom stores, the new signals should be helpful for improved caching.\n\nThanks to @fabriziosestito via [Kubewarden](https://www.kubewarden.io/) for https://github.com/kube-rs/kube/pull/1494 . Follow-ups for this feature: https://github.com/kube-rs/kube/pull/1499 and https://github.com/kube-rs/kube/pull/1504.\n\n## Client: HTTP Proxy Support\nSupport is now introduced under the `http-proxy` [feature](https://kube.rs/features) pulling in [hyper-http-proxy](https://crates.io/crates/hyper-http-proxy) complementing the already existing `socks5` proxy feature.\n\nThanks to @aviramha via [MetalBear](https://metalbear.co/) for the support in https://github.com/kube-rs/kube/pull/1496, with follow-ups https://github.com/kube-rs/kube/pull/1501 + https://github.com/kube-rs/kube/pull/1502\n\n## What's Changed\n### Added\n* Added support for HTTP proxy with hyper-proxy2 by @aviramha in https://github.com/kube-rs/kube/pull/1496\n* Implement client native object reference fetching by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1511\n### Changed\n* Reduce buffering between watcher and Store by @fabriziosestito in https://github.com/kube-rs/kube/pull/1494\n* Rename new watcher Event names and remove one that cannot happen by @clux in https://github.com/kube-rs/kube/pull/1499\n* Update `tokio-tungstenite` to 0.23 by @Toasterson in https://github.com/kube-rs/kube/pull/1509\n* Align `watcher::Event` init/page variants by @clux in https://github.com/kube-rs/kube/pull/1504\n* Update json-patch to 2.0.0 by @bobsongplus in https://github.com/kube-rs/kube/pull/1507\n### Fixed\n* Fix potentially panicing unchecked duration adds in runtime by @clux in https://github.com/kube-rs/kube/pull/1489\n* ObjectList now accepts null metadata like upstream k8s does by @aviramha in https://github.com/kube-rs/kube/pull/1492\n* rename http_proxy feature to http-proxy and add it to the umbrella crate by @aviramha in https://github.com/kube-rs/kube/pull/1501\n* move from `hyper-proxy2` to `hyper-http-proxy` by @aviramha in https://github.com/kube-rs/kube/pull/1502\n\n[0.91.0](https://github.com/kube-rs/kube/releases/tag/0.91.0) / 2024-05-06\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.91.0 -->\n## Kubernetes `v1_30` support via `k8s-openapi` [0.22](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.22.0)\nPlease [upgrade k8s-openapi along with kube](https://kube.rs/upgrading/) to avoid conflicts.\n\n## Unstable Stream Sharing\nA more complete implementation that allows sharing `watcher` streams between multiple `Controller`s (for https://github.com/kube-rs/kube/issues/1080) has been added under the `unstable-runtime` [feature-flag](https://kube.rs/stability/#unstable-features) in [#1449](https://github.com/kube-rs/kube/issues/1449) and [#1483](https://github.com/kube-rs/kube/issues/1483) by @mateiidavid. This represents the first usable implementation of shared streams (and replaces the older prototype part in [#1470](https://github.com/kube-rs/kube/issues/1470)). While some changes are expected, you can check the [shared_stream_controller example](https://github.com/kube-rs/kube/blob/main/examples/shared_stream_controllers.rs) for a high-level overview.\n\n## What's Changed\n### Added\n* Add shared stream interfaces by @mateiidavid in https://github.com/kube-rs/kube/pull/1449\n* Allow to create non-controller owner reference for resource by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1475\n* feat(runtime): support for owned shared streams by @mateiidavid in https://github.com/kube-rs/kube/pull/1483\n### Changed\n* Upgrade `k8s-openapi` to 0.22 and bump MK8SV to 1.25 by @clux in https://github.com/kube-rs/kube/pull/1485\n### Removed\n* Remove abandoned `StreamSubscribe` implementation by @clux in https://github.com/kube-rs/kube/pull/1470\n### Fixed\n* Include inner error message in Display for SerdeError by @XAMPPRocky in https://github.com/kube-rs/kube/pull/1481\n* Remove invalid `uniqueItems` property from CRDs when Sets are used  by @sbernauer in https://github.com/kube-rs/kube/pull/1484\n\n[0.90.0](https://github.com/kube-rs/kube/releases/tag/0.90.0) / 2024-04-03\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.90.0 -->\n## Highlights\n### [`kube::client::Body`](https://docs.rs/kube/latest/kube/client/struct.Body.html) Improvements\n- Unit testing helpers [#1444](https://github.com/kube-rs/kube/issues/1444) + [#1445](https://github.com/kube-rs/kube/issues/1445),\n- Accuracy; `size_hint` and `is_end_stream` implemented in [#1452](https://github.com/kube-rs/kube/issues/1452) + internal cleanups [#1453](https://github.com/kube-rs/kube/issues/1453) and [#1455](https://github.com/kube-rs/kube/issues/1455)\n\n### Dependency Cleanups\n- `rustls` to 0.23 in [#1457](https://github.com/kube-rs/kube/issues/1457)\n- `once_cell` removed in [#1447](https://github.com/kube-rs/kube/issues/1447) (no longer needed)\n- `futures` feature prune in [#1442](https://github.com/kube-rs/kube/issues/1442)\n- `chrono` features prune in [#1448](https://github.com/kube-rs/kube/issues/1448), and bump its min version pin in [#1458](https://github.com/kube-rs/kube/issues/1458)\n\n## What's Changed\n### Added\n* Add proxy `Body::collect_bytes` for easier unit tests by @clux in https://github.com/kube-rs/kube/pull/1445\n### Changed\n* update to `rustls` 0.23 by @tottoto in https://github.com/kube-rs/kube/pull/1457\n### Fixed\n* disable unused `futures` feature by @tottoto in https://github.com/kube-rs/kube/pull/1442\n* Expose `Body::empty` for easier tests by @clux in https://github.com/kube-rs/kube/pull/1444\n* replace `once_cell` Lazy with ordinary static by @tottoto in https://github.com/kube-rs/kube/pull/1447\n* replace `chrono` feature `clock` with `now` by @tottoto in https://github.com/kube-rs/kube/pull/1448\n* implement `http_body` trait method by @tottoto in https://github.com/kube-rs/kube/pull/1452\n* Fix examples for custom clients not authenticating by @clux in https://github.com/kube-rs/kube/pull/1450\n* Set a compatible minimum `chrono` version by @clux in https://github.com/kube-rs/kube/pull/1458\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.89.0...0.90.0\n[0.89.0](https://github.com/kube-rs/kube/releases/tag/0.89.0) / 2024-03-26\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.89.0 -->\n\n## Upgrading `hyper` and `http` to 1.0 and MSRV to `1.75.0`\nThis release completes the hyper & http ecosystem upgrade [#1351](https://github.com/kube-rs/kube/issues/1351) via [#1438](https://github.com/kube-rs/kube/pull/1438). In particular, this change includes upgrades to `http`, `http-body`, `tower-http`, `hyper`, `hyper-openssl`, `hyper-rustls`, `hyper-socks2`, `hyper-timeout`, `tame-oauth`, `tokio-tungstenite`, `tower-http`, `rustls`, `rustls-pemfile`, as well as adopting the new `hyper_util` and `http_body_util` to make the change.\n\nWhile this change constitutes significant internal churn (and a new [`kube::client::Body`](https://docs.rs/kube/latest/kube/client/struct.Body.html)), our external api remains largely unchanged. Some minor changes are necessary for custom clients, and for integration testing using `tower_mock`. See the [controller-rs upgrade pr](https://github.com/kube-rs/controller-rs/pull/68) or the [examples folder in this commit](https://github.com/kube-rs/kube/commit/aeb4d3f62052c2072ebf6fa0a88083761b0f2404#diff-3f490bad6c4ca7e0e16f45f7be079809683095339108cec9affc94a508700bd9) for details.\n\n## What's Changed\n### Added\n* client_ext for `Client::get` and `Client::list` by @clux in https://github.com/kube-rs/kube/pull/1375\n* direct node access logs/portforward/exec/attach via kubelet debug interface by @XciD in https://github.com/kube-rs/kube/pull/1428\n### Changed\n* Bump MSRV to `1.75.0` by @clux in https://github.com/kube-rs/kube/pull/1408\n* Ease the bound for `reflector` to only request identifying metadata by @SOF3 in https://github.com/kube-rs/kube/pull/1393\n* Update base64 requirement from 0.21.4 to 0.22.0 by @dependabot in https://github.com/kube-rs/kube/pull/1422\n* upgrade `jsonpath-rust` to 0.5.0 by @clux in https://github.com/kube-rs/kube/pull/1429\n* update to hyper 1 by @tottoto in https://github.com/kube-rs/kube/pull/1438\n### Fixed\n* Serialize TerminalSize fields as PascalCase by @nightkr in https://github.com/kube-rs/kube/pull/1407\n* `Kubeconfig` allow `certificate_authority_data` not present in `ExecAuthCluster` by @ljun20160606 in https://github.com/kube-rs/kube/pull/1432\n* fix: check err on `Client::request_stream` by @XciD in https://github.com/kube-rs/kube/pull/1433\n\n[0.88.1](https://github.com/kube-rs/kube/releases/tag/0.88.1) / 2024-01-26\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.88.1 -->\n\n## What's Changed\nThis is a bug fix release for a deserialization issue introduced in 0.88.0.\n\n### Fixed\n* Minor fixes to `ObjectList` by @flavio in https://github.com/kube-rs/kube/pull/1398\n\n[0.88.0](https://github.com/kube-rs/kube/releases/tag/0.88.0) / 2024-01-21\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.88.0 -->\n\n## Kubernetes `v1_29` support via `k8s-openapi` [0.21](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.21.0)\nPlease [upgrade k8s-openapi along with kube](https://kube.rs/upgrading/) to avoid conflicts.\n\n## What's Changed\n### Added\n* Add type meta data for list types by @Danil-Grigorev in https://github.com/kube-rs/kube/pull/1380\n### Changed\n* Bump MSRV to 1.70 by @clux in https://github.com/kube-rs/kube/pull/1384\n* Upgrade `k8s-openapi` for Kubernetes `v1_29` support by @clux in https://github.com/kube-rs/kube/pull/1394\n\n[0.87.2](https://github.com/kube-rs/kube/releases/tag/0.87.2) / 2023-12-22\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.87.2 -->\n\n## What's Changed\n### Added\n* Add support for `LogParams::since_time` by @clux in https://github.com/kube-rs/kube/pull/1342\n* Provide cluster info to exec plugins by @aviramha in https://github.com/kube-rs/kube/pull/1331\n* Allow setting a description on a derived CRD by @sbernauer in https://github.com/kube-rs/kube/pull/1359\n### Changed\n* Bump MSRV from 1.64 to 1.65 by @clux in https://github.com/kube-rs/kube/pull/1353\n* Switch from `jsonpath_lib` to `jsonpath-rust` by @ilya-bobyr in https://github.com/kube-rs/kube/pull/1345\n\n[0.87.1](https://github.com/kube-rs/kube/releases/tag/0.87.1) / 2023-11-01\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.87.1 -->\n## Headlines\n- fixed a `Controller` issue with reconciliation requests disappearing when using `concurrency` [#1324](https://github.com/kube-rs/kube/issues/1324)\n- improved `Client` with better exec auth behaviour [#1320](https://github.com/kube-rs/kube/issues/1320), timeout control [#1314](https://github.com/kube-rs/kube/issues/1314), and socks5 proxy handling [#1311](https://github.com/kube-rs/kube/issues/1311)\n- small changes to an unstable streams feature [#1304](https://github.com/kube-rs/kube/issues/1304), and a a derive property that is now illegal with `syn` 2 [#1307](https://github.com/kube-rs/kube/issues/1307)\n\nBig thanks to everyone involved ðŸŽƒ\n\n## What's Changed\n### Added\n* Feature-flagged support for `socks5` proxy in `Client` by @Razz4780 in https://github.com/kube-rs/kube/pull/1311\n* Add example for raw API Server requests by @mateiidavid in https://github.com/kube-rs/kube/pull/1330\n### Changed\n* Document `Controller::reconcile_on`  and remove `Err` input requirement by @clux in https://github.com/kube-rs/kube/pull/1304\n* Bump `base64` to `0.21` by @clux in https://github.com/kube-rs/kube/pull/1308\n* Upgrade `darling` and `syn` and rename `#[kube(struct)]` by @clux in https://github.com/kube-rs/kube/pull/1307\n### Fixed\n* Fixed `KUBERNETES_EXEC_INFO` environment variable passed to auth plugins by @Razz4780 in https://github.com/kube-rs/kube/pull/1320\n* Fix `Controller`: pending messages are stuck in the `scheduled` map by @co42 in https://github.com/kube-rs/kube/pull/1324\n* Set a default write timeout by @alex-hunt-materialize in https://github.com/kube-rs/kube/pull/1314\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.86.0...0.87.1\n[0.86.0](https://github.com/kube-rs/kube/releases/tag/0.86.0) / 2023-09-08\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.86.0 -->\n\n## Headlines\n### k8s-openapi 0.20 for Kubernetes `v1_28`\n**Please note [upstream api removals](https://github.com/Arnavion/k8s-openapi/issues/149)**.\nAs usual, [upgrade k8s-openapi along with kube](https://kube.rs/upgrading/) to avoid issues.\n\n### Default TLS stack changed to `rustls`\nWith last year's upstream changes from rustls (closing all our existing rustls issues - see https://github.com/kube-rs/kube/issues/1192), this is now the better choice for security, features, and ease of building. The previous default openssl stack can still be used with `default-features = false` plus the `openssl-tls` feature.\n\n### Controller Configuration\nA controller [`Config`](https://docs.rs/kube/latest/kube/runtime/struct.Config.html) has been added to allow tweaking two behaviour parameters (debouncing  in [#1265](https://github.com/kube-rs/kube/issues/1265) and concurrency limits in [#1277](https://github.com/kube-rs/kube/issues/1277)) of the `Controller`. Huge thanks to @aryan9600 for his work.\n\n### Streaming Lists\nThe `sendInitialEvents` [alpha feature](https://kubernetes.io/docs/reference/using-api/api-concepts/#streaming-lists) is now [supported](https://docs.rs/kube/latest/kube/runtime/watcher/struct.Config.html#structfield.initial_list_strategy), and is quickly testable in the [pod_watcher example](https://github.com/kube-rs/kube/blob/c8e98285362e1d0739c56baf27aaab703051dcd4/examples/pod_watcher.rs#L15-L21) when using the [feature gate](https://github.com/kube-rs/kube/blob/c8e98285362e1d0739c56baf27aaab703051dcd4/justfile#L91). This will help [optimise](https://kube.rs/controllers/optimization/) the memory profile of controllers when the feature becomes generally available. Amazing work by first time contributor @casualjim.\n\n## What's Changed\n### Added\n* add `controller::Config` and debounce period to scheduler by @aryan9600 in https://github.com/kube-rs/kube/pull/1265\n* adds watch-list implementation without breaking changes by @casualjim in https://github.com/kube-rs/kube/pull/1255\n* allow configuring controller's concurrency by @aryan9600 in https://github.com/kube-rs/kube/pull/1277\n### Changed\n* Change default TLS stack to `rustls-tls` by @clux in https://github.com/kube-rs/kube/pull/1261\n* Bump k8s-openapi to 0.20.0 by @clux in https://github.com/kube-rs/kube/pull/1291\n### Fixed\n* `core`: omit invalid resource version parameters when doing paged requests by @goenning in https://github.com/kube-rs/kube/pull/1281\n\n[0.85.0](https://github.com/kube-rs/kube/releases/tag/0.85.0) / 2023-08-06\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.85.0 -->\n\n## What's Changed\n### Added\n* Add `WatchStreamExt::reflect` to allow chaining on a reflector  by @clux in https://github.com/kube-rs/kube/pull/1252\n* Implement ephemeral containers subresource by @jmintb in https://github.com/kube-rs/kube/pull/1153\n### Changed\n* Swap `dirs-next` dependency to cargo-team maintained `home` crate by @utkarshgupta137 in https://github.com/kube-rs/kube/pull/1207\n* Upgrade `k8s-openapi` to `0.19.0` for `v1_27` support by @clux in https://github.com/kube-rs/kube/pull/1271\n### Fixed\n* `watcher`: return `NoResourceVersion` error if resource version is empty by @aryan9600 in https://github.com/kube-rs/kube/pull/1259\n* Update the `scheduler` message when preponing by @nightkr in https://github.com/kube-rs/kube/pull/1260\n\n[0.84.0](https://github.com/kube-rs/kube/releases/tag/0.84.0) / 2023-07-14\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.84.0 -->\n\n## Highlights\n### Stream Improvements\nOn the `runtime` side, the `Controller` now delays reconciles until the main `Store` is ready (via a [new `Store` helper](https://docs.rs/kube/0.84.0/kube/runtime/reflector/struct.Store.html#method.wait_until_ready) from [#1243](https://github.com/kube-rs/kube/issues/1243)). The stream selection for owned resources is more efficient (#1240), and the underlying `watcher` streams now all paginate (#1249). There are also many new  [`WatchStreamExt`](https://docs.rs/kube/0.84.0/kube/runtime/trait.WatchStreamExt.html) helpers ( [#1246](https://github.com/kube-rs/kube/issues/1246) + [#1228](https://github.com/kube-rs/kube/issues/1228) + [#1232](https://github.com/kube-rs/kube/issues/1232)) as a continued work towards the more customisable streams-api (#1080).\n\nOn the client-side; streaming logs are now easier to deal with as an `AsyncBufRead` [#1235](https://github.com/kube-rs/kube/issues/1235).\n\n### OIDC Refresh\nOptional OIDC refreshable token support was introduced in [#1229](https://github.com/kube-rs/kube/issues/1229) under `kube/oidc` for out-of-cluster `Client` configuration. Previously, refresh support was limited to non-OIDC tokens from the `GcpOuth` provider (`kube/oauth`) or through arbitrary `exec` calls / `TokenFile` loading.\n\n## What's Changed\n### Added\n* Add `Predicate` trait to allow combination + fallbacks by @clux in https://github.com/kube-rs/kube/pull/1228\n* Added refreshing OIDC ID token as an optional feature by @Razz4780 in https://github.com/kube-rs/kube/pull/1229\n* Add `WatchStreamExt::default_backoff` shorthand by @clux in https://github.com/kube-rs/kube/pull/1232\n* Derive `PartialEq` on `core` params structs by @danrspencer in https://github.com/kube-rs/kube/pull/1237\n* Track store readiness by @nightkr in https://github.com/kube-rs/kube/pull/1243\n* Add `WatchStreamExt::modify()` to modify events by @aryan9600 in https://github.com/kube-rs/kube/pull/1246\n* Add default pagination to `watcher` by @clux in https://github.com/kube-rs/kube/pull/1249\n### Changed\n* Bump MSRV from 1.63 to 1.64 by @clux in https://github.com/kube-rs/kube/pull/1233\n* Change `Api::log_stream` to return `AsyncBufRead` by @aryan9600 in https://github.com/kube-rs/kube/pull/1235\n### Fixed\n* Make `Controller::owns` use `metadata_watcher` internally by @clux in https://github.com/kube-rs/kube/pull/1240\n\n[0.83.0](https://github.com/kube-rs/kube/releases/tag/0.83.0) / 2023-06-05\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.83.0 -->\n\n## What's Changed\n### Added\n* Add `Controller::reconcile_on` by @co42 in https://github.com/kube-rs/kube/pull/1163\n* Add `predicates::resource_version` by @clux in https://github.com/kube-rs/kube/pull/1221\n* add `Duration` to `kube-core` by @hawkw in https://github.com/kube-rs/kube/pull/1224\n### Changed\n* Introduce `GetParams` support by @mateiidavid in https://github.com/kube-rs/kube/pull/1214\n### Fixed\n* Swap `validator` for `garde` by @mateiidavid in https://github.com/kube-rs/kube/pull/1212\n* fix: `#[kube(crates(serde = \"some_crate::serde\"))]` was not working by @chubei in https://github.com/kube-rs/kube/pull/1215\n\n[0.82.2](https://github.com/kube-rs/kube/releases/tag/0.82.2) / 2023-04-19\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.82.2 -->\n## Watcher Fixes\nTwo fixes to allow `watcher::Config` to function as intended.\n\n## What's Changed\n### Fixed\n* `runtime::watcher`: only set rv if semantic is any by @goenning in https://github.com/kube-rs/kube/pull/1204\n* `watcher::Config`: Derive `Clone` + `Debug` + `PartialEq` by @clux in https://github.com/kube-rs/kube/pull/1206\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.82.1...0.82.2\n[0.82.1](https://github.com/kube-rs/kube/releases/tag/0.82.1) / 2023-04-14\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.82.1 -->\n## Bugfix Release\n\n[`nullable`](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#defaulting-and-nullable) is re-instated on `Option` types from [`CustomResource`](https://docs.rs/kube/latest/kube/derive.CustomResource.html) generated schemas, due to unintended errors removing it caused on `Api::patch` calls on `None` members that were not setting [`#[serde(skip_serializing_if = \"Option::is_none\")]`](https://serde.rs/attr-skip-serializing.html). This only affected 0.81 and 0.82 from last week, and does not require user action regardless of where you are upgrading from.\n\nThis release also fixes a [`metadata_watcher`](https://docs.rs/kube/latest/kube/runtime/fn.metadata_watcher.html) triggering deserialization error from doing `Api::list_metadata` on an empty set.\n\n## What's Changed\n### Fixed\n* Fix `WatchParams` bookmarks for `watch_metadata` by @clux in https://github.com/kube-rs/kube/pull/1193\n* Fix `ObjectList` not deserializing `items: null` by @suryapandian in https://github.com/kube-rs/kube/pull/1199\n* Revert \"kube-derive: Disable `option_nullable` for CRD generation\" by @Dav1dde in https://github.com/kube-rs/kube/pull/1201\n\n[0.82.0](https://github.com/kube-rs/kube/releases/tag/0.82.0) / 2023-04-08\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.82.0 -->\n\n## Dependency Updates\n\nThis release brings in the new [`k8s-openapi` release](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.18.0).\nBe sure to upgrade `k8s-openapi` and `kube` **simultaneously** to avoid multiple version errors:\n\n```sh\ncargo upgrade -p k8s-openapi -p kube -i\n```\n\n## What's Changed\n### Changed\n* Bump `serde_yaml` to 0.9 by @clux in https://github.com/kube-rs/kube/pull/1188\n* Bump `k8s-openapi` to 0.18.0 by @clux in https://github.com/kube-rs/kube/pull/1190\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.81.0...0.82.0\n[0.81.0](https://github.com/kube-rs/kube/releases/tag/0.81.0) / 2023-04-07\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.81.0 -->\n## Highlights\n### List/Watch Changes\nOne big change is the splitting of `ListParams` into `ListParams` and `WatchParams` in [#1162](https://github.com/kube-rs/kube/issues/1162) and [#1171](https://github.com/kube-rs/kube/issues/1171). If you were using `api.list` directly, this should not affect you, but `api.watch` calls will need a replace of `ListParams` to `WatchParams`. Apart from the resulting field splitting, the two structs still have a mostly compatible api.\n\nIf you were passing `ListParams` to `watcher`, you can change this for a new `watcher::Config` with a mostly compatible interface:\n\n```diff\n-    let stream = watcher(api, ListParams::default());\n+    let stream = watcher(api, watcher::Config::default());\n```\n\nThe reason for this change has been to add support for specific [version match strategies](https://kubernetes.io/docs/reference/using-api/api-concepts/#semantics-for-get-and-list) and has new builders on both `ListParams` and `watcher::Config` to control the strategy. Using the new `VersionMatch::NotOlderThan` can reduce strain on the apiserver for individual `api.list` calls. Watchers will benefit the most from this, and **should consider** using the semantic `Any` strategy (= `NotOlderThan` with version \"0\") on all relists by setting `watcher::Config::any_semantic()`.\n\n### rustls\nThis release closes [all our rustls issues](https://github.com/kube-rs/kube/labels/rustls) as a consequence of the long standing IP address incompatibility (#153) having been resolved upstream. All `rustls` specific overrides (such as using the deprecated `incluster_dns` strategy for configuration [#1184](https://github.com/kube-rs/kube/issues/1184)) have been removed as a result.\n\n### Controller streams\nMultiple new `runtime` features have been added to be able to more precisely control the input streams used by `Controller` a starting step towards stream sharing (#1080) and as a way to reduce excess input events. Because these interfaces are likely to remain in flux for some time, these are only available under [unstable feature flags](https://github.com/kube-rs/kube/blob/main/kube-runtime/Cargo.toml#L17-L21).\n\n## What's Changed\n### Added\n* Add `predicates` to allow filtering `watcher` streams by @clux in https://github.com/kube-rs/kube/pull/911\n* Add `Controller::owns_stream` by @Dav1dde in https://github.com/kube-rs/kube/pull/1173\n* Add `Controller::for_stream` + `Controller::watches_stream` by @clux in https://github.com/kube-rs/kube/pull/1187\n### Changed\n* Split `ListParams` and `WatchParams` by @nabokihms in https://github.com/kube-rs/kube/pull/1162\n* Make `VersionMatch` follow upstream + configure list semantics in `watcher::Config` by @clux in https://github.com/kube-rs/kube/pull/1171\n* kube-derive: Disable `option_nullable` for CRD generation by @Dav1dde in https://github.com/kube-rs/kube/pull/1079\n### Fixed\n* Run `rustls` CI against IP cluster address by @clux in https://github.com/kube-rs/kube/pull/1183\n* Fix:  tower buffer's worker closed unexpectedly by @divinerapier in https://github.com/kube-rs/kube/pull/1185\n* Avoid special `Config::incluster` behavior for `rustls` by @clux in https://github.com/kube-rs/kube/pull/1184\n\n[0.80.0](https://github.com/kube-rs/kube/releases/tag/0.80.0) / 2023-03-02\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.80.0 -->\n## Notes\n\nThe `PartialObjectMeta` struct has been changed to allow static dispatch through a new generic parameter. It comes with a new `PartialObjectMetaExt` trait to help construct it.\n\nEarly release for the above change to the new metadata api, plus a trigger for our currently broken docs.rs.\n\n## What's Changed\n### Changed\n* Genericize `PartialObjectMeta` over the underlying `Resource` by @clux in https://github.com/kube-rs/kube/pull/1152\n### Fixed\n* Bypass nightly ICE in docs build by @clux in https://github.com/kube-rs/kube/pull/1155\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.79.0...0.80.0\n[0.79.0](https://github.com/kube-rs/kube/releases/tag/0.79.0) / 2023-02-23\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.79.0 -->\n## Watch Improvements\nA big feature this time around is the added support for the metadata api via [#1137](https://github.com/kube-rs/kube/issues/1137). This is a variant api that **only** returns the `ObjectMeta` and `TypeMeta` to reduce network load, and has a low-level watch analogue available at `Api::watch_metadata`. Most users will generally want an infinite watch stream rather than the low-level method, so `kube::runtime::metadata_watcher` has been added as a direct analogue of `watcher` via [#1145](https://github.com/kube-rs/kube/issues/1145). The [dynamic_watcher example](https://github.com/kube-rs/kube/blob/0f632eaa88b8eef2a232ca7c7dd1f841d32f6454/examples/dynamic_watcher.rs#L33-L54) shows how to switch between the two to get up and running.\n\nThe `watcher` also [emits warnings](https://github.com/kube-rs/kube/pull/1134/files#diff-5078d84d257800c4fba86a30c501afa5fd4612473832bce7a02cd95099b1b474) now when HTTP `403`s are encountered from Kubernetes, as this usually indicates a non-transient misconfiguration that must be fixed on the administrator side with RBAC.\n\nFinally, there is work in progress on shared streams via `WatchStreamExt` from [#1131](https://github.com/kube-rs/kube/issues/1131) under an unstable feature.\n\n## What's Changed\n### Added\n* Client: expose `default_namespace()` by @jpmcb in https://github.com/kube-rs/kube/pull/1123\n* Add support for metadata API by @mateiidavid in https://github.com/kube-rs/kube/pull/1137\n* Runtime: Add `WatchStreamExt::subscribe` by @danrspencer in https://github.com/kube-rs/kube/pull/1131\n* Introduce support for persistent metadata watches by @mateiidavid in https://github.com/kube-rs/kube/pull/1145\n### Changed\n* Bump Rust MSRV to 1.63.0 by @mateiidavid in https://github.com/kube-rs/kube/pull/1146\n### Fixed\n* `Config`: make cluster/users/clusters optional by @goenning in https://github.com/kube-rs/kube/pull/1120\n* Add better logging for watcher errors by @clux in https://github.com/kube-rs/kube/pull/1134\n* kubeconfig: deserialize null vectors as default by @goenning in https://github.com/kube-rs/kube/pull/1142\n\n[0.78.0](https://github.com/kube-rs/kube/releases/tag/0.78.0) / 2023-01-06\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.78.0 -->\n\n## Kubernetes Bump\n\nThis release brings in the new [`k8s-openapi` release](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.17.0) for `1.26` structs, and sets our [MK8SV](https://kube.rs/kubernetes-version/) to `1.21`.\nBe sure to upgrade `k8s-openapi` and `kube` **simultaneously** to avoid multiple version errors:\n\n```sh\ncargo upgrade -p k8s-openapi -p kube -i\n```\n\n## What's Changed\n### Added\n* reflector: add helper function to the `Store` by @eliad-wiz in https://github.com/kube-rs/kube/pull/1111\n### Changed\n* Bump `k8s-openapi@0.17.0` and MK8SV by @clux in https://github.com/kube-rs/kube/pull/1116\n### Removed\n* Remove deprecated `Config::timeout` by @clux in https://github.com/kube-rs/kube/pull/1113\n### Fixed\n* fix shell exec exiting message loop when terminalSizeReceiver is dropped by @erebe in https://github.com/kube-rs/kube/pull/1112\n\n[0.77.0](https://github.com/kube-rs/kube/releases/tag/0.77.0) / 2022-12-15\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.77.0 -->\n## Highlights\n\nThis release saw numerous improvements across various parts of the codebase with lots of help from external contributors. Look for improvements in error handling, client exec behaviour, dynamic object conversion, certificate handling, and last, but not least; lots of enhancements in the `config` module. Huge thanks to everyone who contributed!\n\n### `Config` Enhancements\nKubeconfigs relying on [`ExecConfig`](https://docs.rs/kube/0.77.0/kube/config/struct.ExecConfig.html) for auth should now work with a lot more cases (with improvements to script interactivity, cert passing, env-drop, and windows behaviour). We further aligned our [`Kubeconfig`](https://docs.rs/kube/0.77.0/kube/config/struct.Kubeconfig.html) parsing with client-go's behaviour, and also exposed [`Kubeconfig::merge`](https://docs.rs/kube/0.77.0/kube/config/struct.Kubeconfig.html#method.merge). Finally, we now pass [`Config::tls_server_name`](https://docs.rs/kube/0.77.0/kube/struct.Config.html#structfield.tls_server_name) through to the `Client`, which has let us include [a better **rustls** workaround](https://docs.rs/kube/0.77.0/kube/struct.Config.html#method.incluster) for the long-standing ip issue (enabled by default).\n\n## What's Changed\n### Added\n* Add `DynamicObjects::try_parse` for typed object conversion by @jmintb in https://github.com/kube-rs/kube/pull/1061\n* Add `ExecConfig::drop_env` to filter host evars for auth providers by @aviramha in https://github.com/kube-rs/kube/pull/1062\n* Add support for terminal size when executing command inside a container by @armandpicard in https://github.com/kube-rs/kube/pull/983\n* add cmd-drop-env to AuthProviderConfig by @aviramha in https://github.com/kube-rs/kube/pull/1074\n* Check for client cert with exec by @rcanderson23 in https://github.com/kube-rs/kube/pull/1089\n* Change `Kubeconfig::merge` fn to public. by @goenning in https://github.com/kube-rs/kube/pull/1100\n* Fix interactivity in auth exec by @armandpicard in https://github.com/kube-rs/kube/pull/1083\n### Changed\n* [windows] skip window creation on auth exec by @goenning in https://github.com/kube-rs/kube/pull/1095\n* Add `Config::tls_server_name` and validate when using rustls by @clux in https://github.com/kube-rs/kube/pull/1104\n### Removed\n* Remove deprecated `ResourceExt::name` by @clux in https://github.com/kube-rs/kube/pull/1105\n### Fixed\n* Bump tracing dependency to 0.1.36 by @teozkr in https://github.com/kube-rs/kube/pull/1070\n* Improve error message on azure auth not being supported by @goenning in https://github.com/kube-rs/kube/pull/1082\n* exec: ensure certs always end with a new line by @goenning in https://github.com/kube-rs/kube/pull/1096\n* fix: align kube-rs with client-go config parsing by @goenning in https://github.com/kube-rs/kube/pull/1077\n* Return error from `watcher` when kinds do not support watch by @clux in https://github.com/kube-rs/kube/pull/1101\n\n[0.76.0](https://github.com/kube-rs/kube/releases/tag/0.76.0) / 2022-10-28\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.76.0 -->\n\n## Highlights\n\n### [`#[derive(CustomResource)]` now supports schemas with untagged enums](https://github.com/kube-rs/kube/pull/1028)\n\nExpanding on our existing support for storing Rust's struct enums in CRDs, Kube will now try to convert `#[serde(untagged)]` enums as well. Note that if the same field is present in multiple untagged variants then they must all have the same shape.\n\n### [Removed deprecated `try_flatten_*` functions](https://github.com/kube-rs/kube/pull/1019)\n\nThese have been deprecated since 0.72, and are replaced by the equivalent `WatchStreamExt` methods.\n\n## What's Changed\n### Added\n* Adds example to `Controller::watches` by @Dav1dde in https://github.com/kube-rs/kube/pull/1026\n* Discovery: Add `ApiGroup::resources_by_stability` by @imuxin in https://github.com/kube-rs/kube/pull/1022\n* Add support for untagged enums in CRDs by @sbernauer in https://github.com/kube-rs/kube/pull/1028\n* Derive PartialEq for DynamicObject by @pbzweihander in https://github.com/kube-rs/kube/pull/1048\n### Removed\n* Runtime: Remove deprecated util `try_flatten_` helpers by @clux in https://github.com/kube-rs/kube/pull/1019\n* Remove `native-tls` feature by @kazk in https://github.com/kube-rs/kube/pull/1044\n### Fixed\n* add fieldManager querystring to all operations by @goenning in https://github.com/kube-rs/kube/pull/1031\n* Add verify_tls1x_signature for NoCertVerification by @rvql in https://github.com/kube-rs/kube/pull/1034\n* Fix compatibility with schemars' preserve_order feature by @teozkr in https://github.com/kube-rs/kube/pull/1050\n* Hoist enum values from subschemas by @teozkr in https://github.com/kube-rs/kube/pull/1051\n\n[0.75.0](https://github.com/kube-rs/kube/releases/tag/0.75.0) / 2022-09-21\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.75.0 -->\n\n## Highlights\n\n### [Upgrade `k8s-openapi` to 0.16 for Kubernetes 1.25](https://github.com/kube-rs/kube/pull/1008)\n\nThe update to [k8s-openapi@0.16.0](https://github.com/Arnavion/k8s-openapi/blob/master/CHANGELOG.md#v0160-2022-09-15) makes this the first release with **tentative** Kubernetes 1.25 support.\nWhile the new structs and apis now exist, we **recommend holding off** on using 1.25 until a [deserialization bug in the apiserver](https://github.com/kubernetes/kubernetes/issues/111985) is resolved upstream. See [#997](https://github.com/kube-rs/kube/issues/997) / [#1008](https://github.com/kube-rs/kube/issues/1008) for details.\n\nTo upgrade, ensure you bump both `kube` and `k8s-openapi`:\n\n```sh\ncargo upgrade kube k8s-openapi\n```\n\n### [New/Old `Config::incluster` default to connect in cluster](https://github.com/kube-rs/kube/pull/1001)\n\nOur previous default of connecting to the Kubernetes apiserver via `kubernetes.default.svc` has been reverted back to use the old environment variables after [Kubernetes updated](https://github.com/kubernetes/kubernetes/issues/112263) their position that the environment variables are not legacy. This does unfortunately regress on `rustls` support, so for those users we have included a [`Config::incluster_dns`](https://docs.rs/kube/latest/kube/struct.Config.html#method.incluster_dns) to work around the old [rustls issue](https://github.com/kube-rs/kube/issues/153) while it is open.\n\n### [Controller `error_policy` extension](https://github.com/kube-rs/kube/pull/995)\n\nThe `error_policy` fn now has access to the `object` that failed the reconciliation to ease metric creation / failure attribution. The following change is needed on the user side:\n\n```diff\n-fn error_policy(error: &Error, ctx: Arc<Data>) -> Action {\n+fn error_policy(_obj: Arc<YourObject>, error: &Error, ctx: Arc<Data>) -> Action {\n```\n\n### Polish / Subresources / Conversion\nThere are also a slew of ergonomics improvements, closing of [gaps in subresources](https://github.com/kube-rs/kube/pull/989), adding [initial support for `ConversionReview`](https://github.com/kube-rs/kube/pull/999), making [`Api::namespaced` impossible to use for non-namepaced resources](https://github.com/kube-rs/kube/pull/956) (a common pitfall), as well as many great fixes to the edge cases in [portforwarding](https://github.com/kube-rs/kube/pull/973) and [finalizers](https://github.com/kube-rs/kube/pull/965). Many of these changes came from first time contributors. A huge thank you to everyone involved.\n\n## What's Changed\n### Added\n* Make `Config::auth_info` public by @danrspencer in https://github.com/kube-rs/kube/pull/959\n* Make raw `Client::send` method public by @tiagolobocastro in https://github.com/kube-rs/kube/pull/972\n* Make `types` on `AdmissionRequest` and `AdmissionResponse` public by @clux in https://github.com/kube-rs/kube/pull/977\n* Add `#[serde(default)]` to metadata field of `DynamicObject` by @pbzweihander in https://github.com/kube-rs/kube/pull/987\n* Add `create_subresource` method to `Api` and `create_token_request` method to `Api<ServiceAccount>` by @pbzweihander in https://github.com/kube-rs/kube/pull/989\n* Controller: impl Eq and PartialEq for `Action` by @Sherlock-Holo in https://github.com/kube-rs/kube/pull/993\n* Add support for CRD `ConversionReview` types by @MikailBag in https://github.com/kube-rs/kube/pull/999\n### Changed\n* Constrain Resource trait and Api::namespaced by Scope by @clux in https://github.com/kube-rs/kube/pull/956\n* Add connect/read/write timeouts to `Config` by @goenning in https://github.com/kube-rs/kube/pull/971\n* Controller: Include the object being reconciled in the `error_policy` by @felipesere in https://github.com/kube-rs/kube/pull/995\n* `Config`: New `incluster` and `incluster_dns` constructors by @olix0r in https://github.com/kube-rs/kube/pull/1001\n* Upgrade `k8s-openapi` to 0.16 by @clux in https://github.com/kube-rs/kube/pull/1008\n### Fixed\n* Remove `tracing::instrument` from `apply_debug_overrides` by @kazk in https://github.com/kube-rs/kube/pull/958\n* fix duplicate finalizers race condition by @alex-hunt-materialize in https://github.com/kube-rs/kube/pull/965\n* fix: portforward connection cleanup by @tiagolobocastro in https://github.com/kube-rs/kube/pull/973\n\n[0.74.0](https://github.com/kube-rs/kube/releases/tag/0.74.0) / 2022-07-09\n===================\n<!-- Release notes generated using configuration in .github/release.yml at 0.74.0 -->\n\n## Highlights\n\n### Polish, bug fixes, guidelines, ci improvements, and new contributors\nThis release features smaller improvements/additions/cleanups/fixes, many of which are from new first-time contributors! Thank you everyone!\nThe listed [deadlock fix](https://github.com/kube-rs/kube/pull/925) was backported to 0.73.1.\n\nWe have also been trying to clarify and **prove** a lot more of our external-facing guarantees, and as a result:\n\n - We have codified our [Kubernetes versioning policy](https://kube.rs/kubernetes-version/) \n - The [Rust version policy](https://kube.rs/rust-version/) has extended its support range\n - Our [CI has been extended](https://github.com/kube-rs/kube/pull/924)\n\n### [`ResourceExt::name` deprecation](https://github.com/kube-rs/kube/pull/945)\n\nA consequence of all the policy writing and the improved clarity we have decided to deprecate the common [`ResourceExt::name`](https://docs.rs/kube/0.74.0/kube/trait.ResourceExt.html#tymethod.name) helper.\n\nThis method could panic and it is unexpected for the users and bad for our consistency. To get the old functionality, you can replace any `.name()` call on a Kubernetes resources with [`.name_unchecked()`](https://docs.rs/kube/0.74.0/kube/trait.ResourceExt.html#tymethod.name_unchecked); but as the name implies, it can panic (in a local setting, or during admission). We recommend you replace it with the new [`ResourceExt::name_any`](https://docs.rs/kube/0.74.0/kube/trait.ResourceExt.html#tymethod.name_any) for a general identifier:\n\n```diff\n-pod.name()\n+pod.name_any()\n```\n\n## What's Changed\n### Added\n* Add support for passing the `fieldValidation` query parameter on patch by @phroggyy in https://github.com/kube-rs/kube/pull/929\n* Add `conditions::is_job_completed` by @clux in https://github.com/kube-rs/kube/pull/935\n### Changed\n* Deprecate `ResourceExt::name` in favour of safe name_* alternatives by @clux in https://github.com/kube-rs/kube/pull/945\n### Removed\n* Remove `#[kube(apiextensions)]` flag from `kube-derive` by @clux in https://github.com/kube-rs/kube/pull/920\n### Fixed\n* Document every public derived fn from kube-derive by @clux in https://github.com/kube-rs/kube/pull/919\n* fix applier hangs which can happen with many watched objects by @moustafab in https://github.com/kube-rs/kube/pull/925\n* Applier: Improve reconciler reschedule context to avoid deadlocking on full channel by @teozkr in https://github.com/kube-rs/kube/pull/932\n* Fix deserialization issue in AdmissionResponse by @clux in https://github.com/kube-rs/kube/pull/939\n* Admission controller example fixes by @Alibirb in https://github.com/kube-rs/kube/pull/950\n\n[0.73.1](https://github.com/kube-rs/kube/releases/tag/0.73.1) / 2022-06-03\n===================\n## Highlights\n\nThis patch release fixes a bug causing `applier` and `Controller` to deadlock when too many Kubernetes object change events were ingested at once. All users of `applier` and `Controller` are encouraged to upgrade as quickly as possible. Older versions are also affected, this bug is believed to have existed since the original release of `kube_runtime`.\n\n<!-- Release notes generated using configuration in .github/release.yml at 0.73.1 -->\n\n## What's Changed\n### Fixed\n* [0.73 backport] fix applier hangs which can happen with many watched objects (#925) by @moustafab (backported by @teozkr) in https://github.com/kube-rs/kube/pull/927\n\n\n**Full Changelog**: https://github.com/kube-rs/kube/compare/0.73.0...0.73.1\n[0.73.0](https://github.com/kube-rs/kube/releases/tag/0.73.0) / 2022-05-23\n===================\n\n## Highlights\n\n### [New `k8s-openapi` version and MSRV](https://github.com/kube-rs/kube/pull/916)\n\nSupport added for Kubernetes `v1_24` support via the [new `k8s-openapi` version](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.15.0). Please also run `cargo upgrade --workspace k8s-openapi` when upgrading `kube`.\n\nThis also bumps our [MSRV](https://rust-lang.github.io/rfcs/2495-min-rust-version.html) to [`1.60.0`](https://blog.rust-lang.org/2022/04/07/Rust-1.60.0.html).\n\n### [Reconciler change](https://github.com/kube-rs/kube/pull/910)\nA small ergonomic change in the `reconcile` signature has removed the need for the `Context` object. This has been replaced by an [`Arc`](https://doc.rust-lang.org/std/sync/struct.Arc.html). The following change is needed in your controller:\n\n```diff\n-async fn reconcile(doc: Arc<MyObject>, context: Context<Data>) -> Result<Action, Error>\n+async fn reconcile(doc: Arc<MyObject>, context: Arc<Data>) -> Result<Action, Error>\n```\n\nThis will simplify the usage of the `context` argument. You should no longer need to pass `.get_ref()` on its every use.\nSee the [controller-rs upgrade change for details](https://github.com/kube-rs/controller-rs/commit/2976e046409ec033b86dfe8d60173ebc2b4e5dbf#diff-7143adb2b6aaf4eac74de6b133c6a9cf6d2d34bf6929972361f93100abdfc074).\n\n## What's Changed\n### Added\n* Add Discovery::groups_alphabetical following kubectl sort order by @clux in https://github.com/kube-rs/kube/pull/887\n### Changed\n* Replace runtime::controller::Context with Arc by @teozkr in https://github.com/kube-rs/kube/pull/910\n* runtime: Return the object from `await_condition` by @olix0r in https://github.com/kube-rs/kube/pull/877\n* Bump k8s-openapi to 0.15 for kubernetes v1_24 and bump MSRV to 1.60 by @clux in https://github.com/kube-rs/kube/pull/916\n\n[0.72.0](https://github.com/kube-rs/kube/releases/tag/0.72.0) / 2022-05-13\n===================\n\n## Highlights\n### Ergonomics improvements\nA new [`runtime::WatchSteamExt`](https://docs.rs/kube/latest/kube/runtime/trait.WatchStreamExt.html) ([#899](https://github.com/kube-rs/kube/pull/899) + [#906](https://github.com/kube-rs/kube/pull/906)) allows for simpler setups for streams from [`watcher`](https://docs.rs/kube/latest/kube/runtime/fn.watcher.html) or [`reflector`](https://docs.rs/kube/latest/kube/runtime/fn.reflector.html).\n\n```diff\n- let stream = utils::try_flatten_applied(StreamBackoff::new(watcher(api, lp), b));\n+ let stream = watcher(api, lp).backoff(b).applied_objects();\n```\n\nThe `util::try_flatten_*` helpers have been marked as deprecated since they are not used by the stream impls.\n\nA new [`reflector:store()`](https://docs.rs/kube/latest/kube/runtime/reflector/fn.store.html) fn allows simpler reflector setups [#907](https://github.com/kube-rs/kube/pull/907):\n\n```diff\n- let store = reflector::store::Writer::<Node>::default();\n- let reader = store.as_reader();\n+ let (reader, writer) = reflector::store();\n```\n\nAdditional conveniences getters/settes to [`ResourceExt`](https://docs.rs/kube/latest/kube/trait.ResourceExt.html) for manged_fields and creation_timestamp [#888](https://github.com/kube-rs/kube/pull/888) + [#898](https://github.com/kube-rs/kube/pull/898), plus a [`GroupVersion::with_kind`](https://docs.rs/kube/latest/kube/core/struct.GroupVersion.html#method.with_kind) path to a GVK, and a [`TryFrom<TypeMeta> for GroupVersionKind`](https://docs.rs/kube/latest/kube/core/struct.GroupVersionKind.html#impl-TryFrom%3CTypeMeta%3E) in [#896](https://github.com/kube-rs/kube/pull/896).\n\n### CRD Version Selection\nManaging multiple [version in CustomResourceDefinitions](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/) can be pretty complicated, but we now have helpers and docs on how to tackle it.\n\nA new function [`kube::core::crd::merge_crds`](https://docs.rs/kube/latest/kube/core/crd/fn.merge_crds.html) have been added (in [#889](https://github.com/kube-rs/kube/pull/889)) to help push crd schemas generated by kube-derived crds with different `#[kube(version)]` properties. See the [kube-derive#version](https://docs.rs/kube/latest/kube/derive.CustomResource.html#versioning) documentation for details.\n\nA new example showcases [how one can manage two or more versions of a crd](https://github.com/kube-rs/kube/blob/7715cabd4d1976493e6b8949471f283df927a79e/examples/crd_derive_multi.rs#L12-L31) and what the expected truncation outcomes are when moving between versions.\n\n### Examples\nExamples now have moved to `tracing` for its logging, respects `RUST_LOG`, and namespace selection via the kubeconfig context. There is also a [larger kubectl example](https://github.com/kube-rs/kube/blob/main/examples/kubectl.rs) showcasing [`kubectl apply -f yaml`](https://github.com/kube-rs/kube/blob/7715cabd4d1976493e6b8949471f283df927a79e/examples/kubectl.rs#L149-L170) as well as `kubectl {edit,delete,get,watch}` via [#885](https://github.com/kube-rs/kube/pull/885) + [#897](https://github.com/kube-rs/kube/pull/897).\n\n## What's Changed\n### Added\n* Allow merging multi-version CRDs into a single schema by @clux in https://github.com/kube-rs/kube/pull/889\n* Add GroupVersion::with_kind and TypeMeta -> GroupVersionKind converters by @clux in https://github.com/kube-rs/kube/pull/896\n* Add managed_fields accessors to ResourceExt by @clux in https://github.com/kube-rs/kube/pull/898\n* Add ResourceExt::creation_timestamp by @clux in https://github.com/kube-rs/kube/pull/888\n* Support lowercase http_proxy & https_proxy evars by @DevineLiu in https://github.com/kube-rs/kube/pull/892\n* Add a WatchStreamExt trait for stream chaining by @clux in https://github.com/kube-rs/kube/pull/899\n* Add Event::modify + reflector::store helpers by @clux in https://github.com/kube-rs/kube/pull/907\n### Changed\n* Switch to kubernetes cluster dns for incluster url everywhere by @clux in https://github.com/kube-rs/kube/pull/876\n* Update tower-http requirement from 0.2.0 to 0.3.2 by @dependabot in https://github.com/kube-rs/kube/pull/893\n### Removed\n* Remove deprecated legacy crd v1beta1 by @clux in https://github.com/kube-rs/kube/pull/890\n\n\n[0.71.0](https://github.com/kube-rs/kube/releases/tag/0.71.0) / 2022-04-12\n===================\n\n## Highlights\nSeveral quality of life changes and improvement this release for port-forwarding, a new `ClientBuilder`, better handling of `kube-derive` edge-cases.\n\nWe highlight some **changes** here that you should be especially aware of.\n\n### [events::Recorder publishing to `kube-system` for cluster scoped resources](https://github.com/kube-rs/kube/pull/871)\nPublishing events via [Recorder](https://docs.rs/kube/latest/kube/runtime/events/struct.Recorder.html) for cluster scoped resources (supported since `0.70.0`) now publish to `kube-system` rather than `default`, as all but the newest clusters struggle with publishing events in the `default` namespace.\n\n### [Default TLS stack set to OpenSSL](https://github.com/kube-rs/kube/pull/863)\nThe previous `native-tls` default  was there because we used to depend on `reqwest`, but because we depended on openssl anyway the feature does not make much sense. Changing to `openssl-tls` also improves the situation on macOS where the Security Framework struggles with PKCS#12 certs from OpenSSL v3.  The `native-tls` feature will still be available in this release in case of issues, but the plan is to decommission it shortly. Of course, we all ideally want to move to rustls, but we are still blocked by [#153](https://github.com/kube-rs/kube/issues/153).\n\n## What's Changed\n### Added\n* Add `ClientBuilder` that lets users add custom middleware without full stack replacement by @teozkr in https://github.com/kube-rs/kube/pull/855\n* Support top-level enums in CRDs by @sbernauer in https://github.com/kube-rs/kube/pull/856\n### Changed\n* portforward: Improve API and support background task cancelation by @olix0r in https://github.com/kube-rs/kube/pull/854\n* Make remote commands cancellable and remove panics by @kazk in https://github.com/kube-rs/kube/pull/861\n* Change the default TLS to OpenSSL by @kazk in https://github.com/kube-rs/kube/pull/863\n* change event recorder cluster namespace to kube-system by @clux in https://github.com/kube-rs/kube/pull/871\n### Fixed\n* Fix schemas containing both properties and additionalProperties by @jcaesar in https://github.com/kube-rs/kube/pull/845\n* Make dependency pins between sibling crates stricter by @clux in https://github.com/kube-rs/kube/pull/864\n* Fix in-cluster kube_host_port generation for IPv6 by @somnusfish in https://github.com/kube-rs/kube/pull/875\n\n[0.70.0](https://github.com/kube-rs/kube/releases/tag/0.70.0) / 2022-03-20\n===================\n## Highlights\n\n### [Support for EC keys with rustls](https://github.com/kube-rs/kube/pull/804)\n\nThis was one of the big blockers for using `rustls` against clusters like `k3d` or `k3s`\nWhile __not sufficient__ to fix using those clusters out of the box, it is now __possible__ to use them [with a workarodund](https://github.com/kube-rs/kube/issues/153)\n\n### [More ergonomic reconciler](https://github.com/kube-rs/kube/pull/851)\nThe signature and end the `Ok` action in `reconcile` fns has been simplified slightly, and requires the following user updates:\n\n```diff\n-async fn reconcile(obj: Arc<MyObject>, ctx: Context<Data>) -> Result<ReconcilerAction, Error> {\n-    ...\n-    Ok(ReconcilerAction {\n-        requeue_after: Some(Duration::from_secs(300)),\n-    })\n+async fn reconcile(obj: Arc<MyObject>, ctx: Context<Data>) -> Result<Action, Error> {\n+    ...\n+    Ok(Action::requeue(Duration::from_secs(300)))\n```\n\nThe `Action` import lives in the same place as the old `ReconcilerAction`.\n\n## What's Changed\n### Added\n* Add support for EC private keys by @farcaller in https://github.com/kube-rs/kube/pull/804\n* Add helper for creating a controller owner_ref on Resource by @clux in https://github.com/kube-rs/kube/pull/850\n### Changed\n* Remove `scheduler::Error` by @teozkr in https://github.com/kube-rs/kube/pull/827\n* Bump parking_lot to 0.12, but allow dep duplicates by @clux in https://github.com/kube-rs/kube/pull/836\n* Update tokio-tungstenite requirement from 0.16.1 to 0.17.1 by @dependabot in https://github.com/kube-rs/kube/pull/841\n* Let OccupiedEntry::commit take PostParams by @teozkr in https://github.com/kube-rs/kube/pull/842\n* Change ReconcileAction to Action and add associated ctors by @clux in https://github.com/kube-rs/kube/pull/851\n### Fixed\n* Token reloading with RwLock by @kazk in https://github.com/kube-rs/kube/pull/835\n* Fix event publishing for cluster scoped crds by @zhrebicek in https://github.com/kube-rs/kube/pull/847\n* Fix invalid CRD when Enum variants have descriptions by @sbernauer in https://github.com/kube-rs/kube/pull/852\n\n[0.69.1](https://github.com/kube-rs/kube/releases/tag/0.69.1) / 2022-02-16\n===================\n## Highlights\n\nThis is an emergency patch release fixing a bug in 0.69.0 where a `kube::Client` would deadlock after running inside a cluster for about a minute (#829).\n\nAll users of 0.69.0 are encouraged to upgrade immediately. 0.68.x and below are not affected.\n\n<!-- Release notes generated using configuration in .github/release.yml at 0.69.1 -->\n\n## What's Changed\n### Fixed\n* [0.69.x] Fix deadlock in token reloading by @clux (backported by @teozkr) in https://github.com/kube-rs/kube/pull/831\n\n[0.69.0](https://github.com/kube-rs/kube/releases/tag/0.69.0) / 2022-02-14\n===================\n## Highlights\n### Ergonomic Additions to Api\n\nTwo new methods have been added to the client `Api` this release to reduce the amount of boiler-plate needed for common patterns.\n\n- [`Api::entry`](https://docs.rs/kube/latest/kube/struct.Api.html#method.entry) via [811](https://github.com/kube-rs/kube/pull/811) - to aid idempotent crud operation flows (following the style of [`Map::Entry`](https://doc.rust-lang.org/std/collections/struct.BTreeMap.html#method.entry))\n- [`Api::get_opt`](https://docs.rs/kube/latest/kube/struct.Api.html#method.get_opt) via [809](https://github.com/kube-rs/kube/pull/809) - to aid dealing with the `NotFound` type error via a returned `Option`\n\n### [In-cluster Token reloading](https://github.com/kube-rs/kube/pull/768)\n\nFollowing a requirement for Kubernetes clients against versions `>= 1.22.0`, our bundled [`AuthLayer`](https://docs.rs/kube/0.69.0/kube/client/middleware/struct.AuthLayer.html) will reload tokens every minute when deployed in-cluster.\n\n<!-- Release notes generated using configuration in .github/release.yml at 0.69.0 -->\n\n## What's Changed\n### Added\n* Add conversion for `ObjectRef<K>` to `ObjectReference` by @teozkr in https://github.com/kube-rs/kube/pull/815\n* Add `Api::get_opt` for better existence handling by @teozkr in https://github.com/kube-rs/kube/pull/809\n* Entry API by @teozkr in https://github.com/kube-rs/kube/pull/811\n### Changed\n* Reload token file at least once a minute by @kazk in https://github.com/kube-rs/kube/pull/768\n* Prefer kubeconfig over in-cluster config by @teozkr in https://github.com/kube-rs/kube/pull/823\n### Fixed\n* Disable CSR utilities on K8s <1.19 by @teozkr in https://github.com/kube-rs/kube/pull/817\n\n[0.68.0](https://github.com/kube-rs/kube/releases/tag/0.68.0) / 2022-02-01\n===================\n\n### Interface Changes\n\nTo reduce the amount of allocation done inside the `runtime` by reflectors and controllers, the following change via [#786](https://github.com/kube-rs/kube/issues/786) is needed on the signature of your `reconcile` functions:\n\n```diff\n-async fn reconcile(myobj: MyK, ctx: Context<Data>) -> Result<ReconcilerAction>\n+async fn reconcile(myobj: Arc<MyK>, ctx: Context<Data>) -> Result<ReconcilerAction>\n```\n\nThis also affects the [finalizer helper](https://github.com/kube-rs/kube/pull/792).\n\n### [Port-forwarding](https://github.com/kube-rs/kube/pull/446)\n\nAs one of the last steps toward [gold level client requirements](https://github.com/kubernetes/design-proposals-archive/blob/main/api-machinery/csi-new-client-library-procedure.md#client-capabilities), port-forwarding landed in [#446](https://github.com/kube-rs/kube/issues/446). There are 3 new [examples](https://github.com/kube-rs/kube/tree/main/examples) (`port_forward*.rs`) that showcases how to use this websocket based functionality.\n\n## [What's Changed](https://github.com/kube-rs/kube/releases/tag/0.68.0)\n### Added\n* Add a VS Code devcontainer configuration by @olix0r in https://github.com/kube-rs/kube/pull/788\n* Add support for user impersonation by @teozkr in https://github.com/kube-rs/kube/pull/797\n* Add port forward by @kazk in https://github.com/kube-rs/kube/pull/446\n### Changed\n* runtime: Store resources in an `Arc` by @olix0r in https://github.com/kube-rs/kube/pull/786\n* Propagate Arc through the finalizer reconciler helper by @teozkr in https://github.com/kube-rs/kube/pull/792\n* Disable unused default features of chrono crate by @dreamer in https://github.com/kube-rs/kube/pull/801\n### Fixed\n* Use absolute path to Result in derives by @teozkr in https://github.com/kube-rs/kube/pull/795\n* core: add missing reason to Display on Error::Validation in Request by @clux in https://github.com/kube-rs/kube/pull/798\n\n[0.67.0](https://github.com/kube-rs/kube/releases/tag/0.67.0) / 2022-01-25\n===================\n### Changed\n\n* runtime: Replace `DashMap` with a locked `AHashMap` by @olix0r in https://github.com/kube-rs/kube/pull/785\n* update k8s-openapi for kubernetes 1.23 support by @clux in https://github.com/kube-rs/kube/pull/789\n\n[0.66.0](https://github.com/kube-rs/kube/releases/tag/0.66.0) / 2022-01-15\n===================\n\nTons of ergonomics improvements, and 3 new contributors.\nHighlighted first is the 3 **most discussed** changes:\n\n### [Support for auto-generating schemas for enums in `kube-derive`](https://github.com/kube-rs/kube/issues/779)\n\nIt is now possible to **embed complex enums** inside structs that use `#[derive(CustomResource)]`.\n\nThis has been a [highly requested feature](https://github.com/kube-rs/kube/issues/648) since the inception of auto-generated schemas. It does [not work for all cases](https://docs.rs/kube/latest/kube/derive.CustomResource.html#enums), and has [certain ergonomics caveats](https://docs.rs/kube/0.66.0/kube/core/schema/struct.StructuralSchemaRewriter.html#method.visit_schema_object), but represents a huge step forwards.\n\nNote that **if** you depend on `kube-derive` directly rather than via `kube` then you **must** now add the `schema` feature to `kube-core`\n\n### [New `StreamBackoff` mechanism in `kube-runtime`](https://github.com/kube-rs/kube/issues/703)\n\nTo avoid spamming the apiserver when on certain watch errors cases, it's now possible to [stream wrap](https://docs.rs/kube/0.66.0/kube/runtime/utils/struct.StreamBackoff.html) the `watcher` to set backoffs. The new [`default_backoff`](https://docs.rs/kube/0.66.0/kube/runtime/watcher/fn.default_backoff.html) follows existing `client-go` conventions of being kind to the apiserver.\n\nInitially, this is **default-enabled** in `Controller` watches (configurable via [`Controller::trigger_backoff`](https://docs.rs/kube/latest/kube/runtime/struct.Controller.html#method.trigger_backoff)) and avoids spam errors when crds are not installed.\n\n### [New version priority parser in `kube-core`](https://github.com/kube-rs/kube/issues/764)\n\nTo aid users picking the most appropriate version of a `kind` from [api discovery](https://docs.rs/kube/0.66.0/kube/discovery/index.html) or [through a CRD](https://github.com/kube-rs/kopium/), two new sort orders have been exposed on the new [`kube_core::Version`](https://docs.rs/kube/latest/kube/core/enum.Version.html)\n\n- [`Version::priority`](https://docs.rs/kube/0.66.0/kube/core/enum.Version.html#method.priority) implementing [kubernetes version priority](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/#version-priority)\n- [`Version::generation`](https://docs.rs/kube/0.66.0/kube/core/enum.Version.html#method.generation) implementing a more traditional; generational sort (highest version)\n\n## Changes\nMerged PRs from [github release](https://github.com/kube-rs/kube/releases/tag/0.66.0).\n### Added\n* Add `DeleteParams` constructors for easily setting `PropagationPolicy` by @kate-goldenring in https://github.com/kube-rs/kube/pull/757\n* Add Serialize to ObjecList and add field-selector and jsonpath example by @ChinYing-Li in https://github.com/kube-rs/kube/pull/760\n* Implement cordon/uncordon for Node by @ChinYing-Li in https://github.com/kube-rs/kube/pull/762\n* Export Version priority parser with Ord impls in kube_core by @clux in https://github.com/kube-rs/kube/pull/764\n* Add Api fns for arbitrary subresources and approval subresource for CertificateSigningRequest by @ChinYing-Li in https://github.com/kube-rs/kube/pull/773\n\n### Changed\n* Add backoff handling for watcher and Controller by @clux in https://github.com/kube-rs/kube/pull/703\n* Remove crate private `identity_pem` field from `Config` by @kazk in https://github.com/kube-rs/kube/pull/771\n* Use SecretString in AuthInfo to avoid credential leaking by @ChinYing-Li in https://github.com/kube-rs/kube/pull/766\n\n[0.65.0](https://github.com/kube-rs/kube/releases/tag/0.65.0) / 2021-12-10\n===================\n\n * BREAKING: Removed `kube::Error::OpenSslError` - [#716](https://github.com/kube-rs/kube/issues/716)\n * BREAKING: Removed `kube::Error::SslError` - [#704](https://github.com/kube-rs/kube/issues/704) and [#716](https://github.com/kube-rs/kube/issues/716)\n * BREAKING: Added `kube::Error::NativeTls(kube::client::NativeTlsError)` for errors from Native TLS - [#716](https://github.com/kube-rs/kube/issues/716)\n * BREAKING: Added `kube::Error::RustlsTls(kube::client::RustlsTlsError)` for errors from Rustls TLS - [#704](https://github.com/kube-rs/kube/issues/704)\n * Modified `Kubeconfig` parsing - allow empty kubeconfigs as per kubectl - [#721](https://github.com/kube-rs/kube/issues/721)\n * Added `Kubeconfig::from_yaml` - [#718](https://github.com/kube-rs/kube/issues/718) via [#719](https://github.com/kube-rs/kube/issues/719)\n * Updated `rustls` to 0.20.1 - [#704](https://github.com/kube-rs/kube/issues/704)\n * BREAKING: Added `ObjectRef` to the object that failed to be reconciled to `kube::runtime::controller::Error::ReconcileFailed` - [#733](https://github.com/kube-rs/kube/issues/733)\n * BREAKING: Removed `api_version` and `kind` fields from `kind` structs generated by `kube::CustomResource` - [#739](https://github.com/kube-rs/kube/issues/739)\n * Updated `tokio-tungstenite` to 0.16 - [#750](https://github.com/kube-rs/kube/issues/750)\n * Updated `tower-http` to 0.2.0 - [#748](https://github.com/kube-rs/kube/issues/748)\n * BREAKING: `kube-client`: replace `RefreshTokenLayer` with `AsyncFilterLayer` in `AuthLayer` - [#752](https://github.com/kube-rs/kube/issues/752)\n\n[0.64.0](https://github.com/kube-rs/kube/releases/tag/0.64.0) / 2021-11-16\n===================\n\n * BREAKING: Replaced feature `kube-derive/schema` with attribute `#[kube(schema)]` - [#690](https://github.com/kube-rs/kube/issues/690)\n   - If you currently disable default `kube-derive` default features to avoid automatic schema generation, add `#[kube(schema = \"disabled\")]` to your spec struct instead\n * BREAKING: Moved `CustomResource` derive crate overrides into subattribute `#[kube(crates(...))]` - [#690](https://github.com/kube-rs/kube/issues/690)\n   - Replace `#[kube(kube_core = .., k8s_openapi = .., schema = .., serde = .., serde_json = ..)]` with `#[kube(crates(kube_core = .., k8s_openapi = .., schema = .., serde = .., serde_json = ..))]`\n * Added `openssl-tls` feature to use `openssl` for TLS on all platforms. Note that, even though `native-tls` uses a platform specific TLS, `kube` requires `openssl` on all platforms because `native-tls` only allows PKCS12 input to load certificates and private key at the moment, and creating PKCS12 requires `openssl`. - [#700](https://github.com/kube-rs/kube/issues/700)\n * BREAKING: Changed to fail loading configurations with PEM-encoded certificates containing invalid sections instead of ignoring them. Updated `pem` to 1.0.1. - [#702](https://github.com/kube-rs/kube/issues/702)\n * `oauth`: Updated `tame-oauth` to [0.6.0](https://github.com/EmbarkStudios/tame-oauth/blob/main/CHANGELOG.md#060---2021-08-07) which supports the same default credentials flow as the Go `oauth2` for Google OAuth. In addition to reading the service account information from JSON file specified with `GOOGLE_APPLICATION_CREDENTIALS` environment variable, [Application Default Credentials](https://cloud.google.com/sdk/gcloud/reference/auth/application-default) from `gcloud`, and obtaining OAuth tokens from local metadata server when running inside GCP are now supported. - [#701](https://github.com/kube-rs/kube/issues/701)\n\n### Refining Errors\n\nWe started working on improving error ergonomics. See the tracking issue [#688](https://github.com/kube-rs/kube/issues/688) for more details.\n\nThe following is the summary of changes to `kube::Error` included in this release:\n\n* Added `Error::Auth(kube::client::AuthError)` (errors related to client auth, some of them were previously in `Error::Kubeconfig`)\n* Added `Error::BuildRequest(kube::core::request::Error)` (errors building request from `kube::core`)\n* Added `Error::InferConfig(kube::config::InferConfigError)` (for `Client::try_default`)\n* Added `Error::OpensslTls(kube::client::OpensslTlsError)` (new `openssl-tls` feature) - [#700](https://github.com/kube-rs/kube/issues/700)\n* Added `Error::UpgradeConnection(kube::client::UpgradeConnectinError)` (`ws` feature, errors from upgrading a connection)\n* Removed `Error::Connection` (was unused)\n* Removed `Error::RequestBuild` (was unused)\n* Removed `Error::RequestSend` (was unused)\n* Removed `Error::RequestParse` (was unused)\n* Removed `Error::InvalidUri` (replaced by variants of errors in `kube::config` errors)\n* Removed `Error::RequestValidation` (replaced by a variant of `Error::BuildRequest`)\n* Removed `Error::Kubeconfig` (replaced by `Error::InferConfig`, and `Error::Auth`)\n* Removed `Error::ProtocolSwitch` (`ws` only, replaced by `Error::UpgradeConnection`)\n* Removed `Error::MissingUpgradeWebSocketHeader` (`ws` only, replaced by `Error::UpgradeConnection`)\n* Removed `Error::MissingConnectionUpgradeHeader` (`ws` only, replaced by `Error::UpgradeConnection`)\n* Removed `Error::SecWebSocketAcceptKeyMismatch` (`ws` only, replaced by `Error::UpgradeConnection`)\n* Removed `Error::SecWebSocketProtocolMismatch` (`ws` only, replaced by `Error::UpgradeConnection`)\n* Removed `impl From<T> for Error`\n\n<details>\n<summary>Expand for more details</summary>\n\nThe following breaking changes were made as a part of an effort to refine errors (the list is large, but most of them are lower level, and shouldn't require much change in most cases):\n\n* Removed `impl From<E> for kube::Error` - [#686](https://github.com/kube-rs/kube/issues/686)\n* Removed unused error variants in `kube::Error`: `Connection`, `RequestBuild`, `RequestSend`, `RequestParse` - [#689](https://github.com/kube-rs/kube/issues/689)\n* Removed unused error variant `kube::error::ConfigError::LoadConfigFile` - [#689](https://github.com/kube-rs/kube/issues/689)\n* Changed `kube::Error::RequestValidation(String)` to `kube::Error::BuildRequest(kube::core::request::Error)`. Includes possible errors from building an HTTP request, and contains some errors from `kube::core` that was previously grouped under `kube::Error::SerdeError` and `kube::Error::HttpError`. `kube::core::request::Error` is described below. - [#686](https://github.com/kube-rs/kube/issues/686)\n* Removed `kube::core::Error` and `kube::core::Result`. `kube::core::Error` was replaced by more specific errors. - [#686](https://github.com/kube-rs/kube/issues/686)\n  - Replaced `kube::core::Error::InvalidGroupVersion` with `kube::core::gvk::ParseGroupVersionError`\n  - Changed the error returned from `kube::core::admission::AdmissionRequest::with_patch` to `kube::core::admission::SerializePatchError` (was `kube::core::Error::SerdeError`)\n  - Changed the error associated with `TryInto<AdmissionRequest<T>>` to `kube::core::admission::ConvertAdmissionReviewError` (was `kube::core::Error::RequestValidation`)\n  - Changed the error returned from methods of `kube::core::Request` to `kube::core::request::Error` (was `kube::core::Error`). `kube::core::request::Error` represents possible errors when building an HTTP request. The removed `kube::core::Error` had `RequestValidation(String)`, `SerdeError(serde_json::Error)`, and `HttpError(http::Error)` variants. They are now `Validation(String)`, `SerializeBody(serde_json::Error)`, and  `BuildRequest(http::Error)` respectively in `kube::core::request::Error`.\n* Changed variants of error enums in `kube::runtime` to tuples. Replaced `snafu` with `thiserror`. - [#686](https://github.com/kube-rs/kube/issues/686)\n* Removed `kube::error::ConfigError` and `kube::Error::Kubeconfig(ConfigError)` - [#696](https://github.com/kube-rs/kube/issues/696)\n  - Error variants related to client auth were moved to a new error `kube::client::AuthError` as described below\n  - Remaining variants were split into `kube::config::{InferConfigError, InClusterError, KubeconfigError}` as described below\n* Added `kube::client::AuthError` by extracting error variants related to client auth from `kube::ConfigError` and adding more variants to preserve context - [#696](https://github.com/kube-rs/kube/issues/696)\n* Moved `kube::error::OAuthError` to `kube::client::OAuthError` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Changed all errors in `kube::client::auth` to `kube::client::AuthError` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Added `kube::Error::Auth(kube::client::AuthError)` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Added `kube::config::InferConfigError` which is an error from `Config::infer()` and `kube::Error::InferConfig(kube::config::InferConfigError)` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Added `kube::config::InClusterError` for errors related to loading in-cluster configuration by splitting `kube::ConfigError` and adding more variants to preserve context. - [#696](https://github.com/kube-rs/kube/issues/696)\n* Added `kube::config::KubeconfigError` for errors related to loading kubeconfig by splitting `kube::ConfigError` and adding more variants to preserve context. - [#696](https://github.com/kube-rs/kube/issues/696)\n* Changed methods of `kube::Config` to return these erorrs instead of `kube::Error` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Removed `kube::Error::InvalidUri` which was replaced by error variants preserving context, such as `KubeconfigError::ParseProxyUrl` - [#696](https://github.com/kube-rs/kube/issues/696)\n* Moved all errors from upgrading to a WebSocket connection into `kube::Error::UpgradeConnection(kube::client::UpgradeConnectionError)` - [#696](https://github.com/kube-rs/kube/issues/696)\n\n</details>\n\n[0.63.2](https://github.com/kube-rs/kube/releases/tag/0.63.2) / 2021-10-28\n===================\n* `kube::runtime::events`: fix build and hide module on kubernetes < 1.19 (events/v1 missing there) - [#685](https://github.com/kube-rs/kube/issues/685)\n\n[0.63.1](https://github.com/kube-rs/kube/releases/tag/0.63.1) / 2021-10-26\n===================\n * `kube::runtime::wait::Condition` added boolean combinators (`not`/`and`/`or`) - [#678](https://github.com/kube-rs/kube/issues/678)\n * `kube`: fix docs.rs build - [#681](https://github.com/kube-rs/kube/issues/681) via [#682](https://github.com/kube-rs/kube/pull/682)\n\n[0.63.0](https://github.com/kube-rs/kube/releases/tag/0.63.0) / 2021-10-26\n===================\n * rust `edition` bumped to `2021` - [#664](https://github.com/kube-rs/kube/pull/664/), [#666](https://github.com/kube-rs/kube/pull/666), [#667](https://github.com/kube-rs/kube/pull/667)\n * `kube::CustomResource` derive can now take arbitrary `#[kube(k8s_openapi)]` style-paths for `k8s_openapi`, `schemars`, `serde`, and `serde_json` - [#675](https://github.com/kube-rs/kube/pull/675)\n * `kube`: fix `native-tls` included when only `rustls-tls` feature is selected - [#673](https://github.com/kube-rs/kube/issues/673) via [#674](https://github.com/kube-rs/kube/pull/674)\n\n[0.62.0](https://github.com/kube-rs/kube/releases/tag/0.62.0) / 2021-10-22\n===================\n * `kube` now re-exports `kube-runtime` under `runtime` feature - [#651](https://github.com/kube-rs/kube/issues/651) via [#652](https://github.com/kube-rs/kube/issues/652)\n  - no need to keep both `kube` and `kube_runtime` in `Cargo.toml` anymore\n  - fixes issues with dependabot / lock-step upgrading\n  - change `kube_runtime::X` import paths to `kube::runtime::X` when moving to the feature\n * `kube::runtime` added `events` module with an event `Recorder` - [#249](https://github.com/kube-rs/kube/issues/249) via [#653](https://github.com/kube-rs/kube/issues/653) + [#662](https://github.com/kube-rs/kube/issues/662) + [#663](https://github.com/kube-rs/kube/issues/663)\n * `kube::runtime::wait::conditions` added `is_crd_established` helper - [#659](https://github.com/kube-rs/kube/issues/659)\n * `kube::CustomResource` derive can now take an arbitrary `#[kube(kube_core)]` path for `kube::core` - [#658](https://github.com/kube-rs/kube/issues/658)\n * `kube::core` consistently re-exported across crates\n * docs: major overhaul + [architecture.md](https://kube.rs/architecture/) - [#416](https://github.com/kube-rs/kube/issues/416) via [#652](https://github.com/kube-rs/kube/issues/652)\n\n[0.61.0](https://github.com/kube-rs/kube/releases/tag/0.61.0) / 2021-10-09\n===================\n * `kube-core`: BREAKING: extend `CustomResourceExt` trait with `::shortnames` method (impl in `kube-derive`) - [#641](https://github.com/kube-rs/kube/issues/641)\n * `kube-runtime`: add `wait` module to `await_condition`, and added `watch_object` to watcher - [#632](https://github.com/kube-rs/kube/issues/632) via [#633](https://github.com/kube-rs/kube/issues/633)\n * `kube`: add `Restart` marker trait to allow `Api::restart` on core workloads - [#630](https://github.com/kube-rs/kube/issues/630) via [#635](https://github.com/kube-rs/kube/issues/635)\n * bump dependencies: `tokio-tungstenite`, `k8s-openapi`, `schemars`, `tokio` in particular - [#643](https://github.com/kube-rs/kube/issues/643) + [#645](https://github.com/kube-rs/kube/issues/645)\n\n[0.60.0](https://github.com/kube-rs/kube/releases/tag/0.60.0) / 2021-09-02\n===================\n * `kube`: support `k8s-openapi` with `v1_22` features - [#621](https://github.com/kube-rs/kube/issues/621) via [#622](https://github.com/kube-rs/kube/issues/622)\n * `kube`: `BREAKING`: support for `CustomResourceDefinition` at `v1beta1` now requires an opt-in `deprecated-crd-v1beta1` feature - [#622](https://github.com/kube-rs/kube/issues/622)\n * `kube-core`: add content-type header to requests with body - [#626](https://github.com/kube-rs/kube/issues/626) via [#627](https://github.com/kube-rs/kube/issues/627)\n\n[0.59.0](https://github.com/kube-rs/kube/releases/tag/0.59.0) / 2021-08-09\n===================\n * `BREAKING`: bumped `k8s-openapi` to [0.13.0](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.13.0) - [#581](https://github.com/kube-rs/kube/issues/581) via [#616](https://github.com/kube-rs/kube/issues/616)\n * `kube` connects to kubernetes via cluster dns when using `rustls` - [#587](https://github.com/kube-rs/kube/issues/587) via [#597](https://github.com/kube-rs/kube/issues/597)\n   - client now works with `rustls` feature __in-cluster__ - [#153](https://github.com/kube-rs/kube/issues/153) via [#597](https://github.com/kube-rs/kube/issues/597)\n * `kube` nicer serialization of `Kubeconfig` - [#613](https://github.com/kube-rs/kube/issues/613)\n * `kube-core` added serde traits for `ApiResource` - [#590](https://github.com/kube-rs/kube/issues/590)\n * `kube-core` added `CrdExtensions::crd_name` method (implemented by `kube-derive`) - [#583](https://github.com/kube-rs/kube/issues/583)\n * `kube-core` added the `HasSpec` and `HasStatus` traits - [#605](https://github.com/kube-rs/kube/issues/605)\n * `kube-derive` added support to automatically implement the `HasSpec` and `HasStatus` traits - [#605](https://github.com/kube-rs/kube/issues/605)\n* `kube-runtime` fix tracing span hierarchy from applier - [#600](https://github.com/kube-rs/kube/issues/600)\n\n[0.58.1](https://github.com/kube-rs/kube/releases/tag/0.58.1) / 2021-07-06\n===================\n * `kube-runtime`: fix non-unix builds - [#582](https://github.com/kube-rs/kube/issues/582)\n\n[0.58.0](https://github.com/kube-rs/kube/releases/tag/0.58.0) / 2021-07-05\n===================\n * `kube`: `BREAKING`: subresource marker traits renamed conjugation: `Log`, `Execute`, `Attach`, `Evict` (previously `Logging`, `Executable`, `Attachable`, `Evictable`) - [#536](https://github.com/kube-rs/kube/issues/536) via [#560](https://github.com/kube-rs/kube/issues/560)\n * `kube-derive` added `#[kube(category)]` attr to set [CRD categories](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#categories) - [#559](https://github.com/kube-rs/kube/issues/559)\n * `kube-runtime` added `finalizer` helper [#291](https://github.com/kube-rs/kube/issues/291) via [#475](https://github.com/kube-rs/kube/issues/475)\n * `kube-runtime` added tracing for why reconciliations happened [#457](https://github.com/kube-rs/kube/issues/457) via [#571](https://github.com/kube-rs/kube/issues/571)\n * `kube-runtime` added `Controller::reconcile_all_on` to allow scheduling all objects for reconciliation [#551](https://github.com/kube-rs/kube/issues/551) via [#555](https://github.com/kube-rs/kube/issues/555)\n * `kube-runtime` added `Controller::graceful_shutdown_on` for shutting down the `Controller` while waiting for running reconciliations to finish - [#552](https://github.com/kube-rs/kube/issues/552) via [#573](https://github.com/kube-rs/kube/issues/573)\n  - BREAKING: `controller::applier` now starts a graceful shutdown when the `queue` terminates\n  - BREAKING: `scheduler` now shuts down immediately when `requests` terminates, rather than waiting for the pending reconciliations to drain\n * `kube-runtime` added tracking for reconciliation reason\n  - Added: `Controller::owns_with` and `Controller::watches_with` to pass a `dyntype` argument for dynamic `Api`s - [#575](https://github.com/kube-rs/kube/issues/575)\n  - BREAKING: `Controller::owns` signature changed to not allow `DynamicType`s\n  - BREAKING: `controller::trigger_*` now returns a `ReconcileRequest` rather than `ObjectRef`. The `ObjectRef` can be accessed via the `obj_ref` field\n\n### Known Issues\n- Api::replace can fail to unset list values with k8s-openapi 0.12 [#581](https://github.com/kube-rs/kube/issues/581)\n\n0.57.0 / 2021-06-16\n===================\n * `kube`: custom clients now respect default namespaces - fixes [#534](https://github.com/kube-rs/kube/issues/534) via [#544](https://github.com/kube-rs/kube/issues/544)\n  - BREAKING: custom clients via `Client::new` must pass `config.default_namespace` as 2nd arg\n * `kube`: Added `CustomResourceExt` trait for `kube-derive` - [#497](https://github.com/kube-rs/kube/issues/497) via [#545](https://github.com/kube-rs/kube/issues/545)\n  - BREAKING: `kube-derive` users must import `kube::CustomResourceExt` (or `kube::core::crd::v1beta1::CustomResourceExt` if using legacy `#[kube(apiextensions = \"v1beta1\")]`) to use generated methods `Foo::crd` or `Foo::api_resource`\n  - BREAKING: `k8s_openapi` bumped to [0.12.0](https://github.com/Arnavion/k8s-openapi/releases/tag/v0.12.0) - [#531](https://github.com/kube-rs/kube/pull/531)\n    * Generated structs simplified + `Resource` trait expanded\n    * Adds support for kubernetes `v1_21`\n    * Contains bugfix for [kubernetes#102159](https://github.com/kubernetes/kubernetes/pull/102159)\n * `kube` resource plurals is no longer inferred from `k8s-openapi` structs - [#284](https://github.com/kube-rs/kube/issues/284) via [#556](https://github.com/kube-rs/kube/issues/556)\n  - BREAKING: `kube::Resource` trait now requires a `plural` implementation\n\n### Known Issues\n- Api::replace can fail to unset list values with k8s-openapi 0.12 [#581](https://github.com/kube-rs/kube/issues/581)\n\n0.56.0 / 2021-06-05\n===================\n * `kube`: added `Api::default_namespaced` - [#209](https://github.com/kube-rs/kube/issues/209) via [#534](https://github.com/kube-rs/kube/issues/534)\n * `kube`: added `config` feature - [#533](https://github.com/kube-rs/kube/issues/533) via [#535](https://github.com/kube-rs/kube/issues/535)\n * `kube`: BREAKING: moved `client::discovery` module to `kube::discovery` and rewritten module [#538](https://github.com/kube-rs/kube/issues/538)\n  - `discovery`: added `oneshot` helpers for quick selection of recommended resources / kinds [#538](https://github.com/kube-rs/kube/issues/538)\n  - `discovery`: moved `ApiResource` and `ApiCapabilities` (result of discovery) to `kube_core::discovery`\n  - BREAKING: removed internal `ApiResource::from_apiresource`\n\n * `kube::Client` is now configurable with layers using `tower-http` [#539](https://github.com/kube-rs/kube/issues/539) via [#540](https://github.com/kube-rs/kube/issues/540)\n  - three new examples added: [`custom_client`](./examples/custom_client.rs), [`custom_client_tls`](./examples/custom_client_tls.rs) and [`custom_client_trace`](./examples/custom_client_trace.rs)\n  - Big feature streamlining, big service and layer restructuring, dependency restructurings\n  - Changes can hit advanced users, but unlikely to hit base use cases with `Api` and `Client`.\n  - In depth changes broken down below:\n\n### TLS Enhancements\n\n- Add `kube::client::ConfigExt` extending `Config` for custom `Client`. This includes methods to configure TLS connection when building a custom client [#539](https://github.com/kube-rs/kube/issues/539)\n  - `native-tls`: `Config::native_tls_https_connector` and `Config::native_tls_connector`\n  - `rustls-tls`: `Config::rustls_https_connector` and `Config::rustls_client_config`\n- Remove the requirement of having `native-tls` or `rustls-tls` enabled when `client` is enabled. Allow one, both or none.\n  - When both, the default Service will use `native-tls` because of [#153](https://github.com/kube-rs/kube/issues/153). `rustls` can be still used with a custom client. Users will have an option to configure TLS at runtime.\n  - When none, HTTP connector is used.\n- Remove TLS features from `kube-runtime`\n  - **BREAKING**: Features must be removed if specified\n- Remove `client` feature from `native-tls` and `rust-tls` features\n  - `config` + `native-tls`/`rustls-tls` can be used independently, e.g., to create a simple HTTP client\n  - **BREAKING**: `client` feature must be added if `default-features = false`\n\n### Layers\n- `ConfigExt::base_uri_layer` (`BaseUriLayer`) to set cluster URL (#539)\n- `ConfigExt::auth_layer` that returns optional layer to manage `Authorization` header (#539)\n- `gzip`: Replaced custom decompression module with [`DecompressionLayer`](https://docs.rs/tower-http/0.1.0/tower_http/decompression/index.html) from `tower-http` (#539)\n- Replaced custom `LogRequest` with [`TraceLayer`](https://docs.rs/tower-http/0.1.0/tower_http/trace/index.html) from `tower-http` (#539)\n  - Request body is no longer shown\n- Basic and Bearer authentication using `AddAuthorizationLayer` (borrowing from https://github.com/tower-rs/tower-http/pull/95 until released)\n- **BREAKING**: Remove `headers` from `Config`. Injecting arbitrary headers is now done with a layer on a custom client.\n\n### Dependency Changes\n\n- Remove `static_assertions` since it's no longer used\n- Replace `tokio_rustls` with `rustls` and `webpki` since we're not using `tokio_rustls` directly\n- Replace uses of `rustls::internal::pemfile` with `rustls-pemfile`\n- Remove `url` and always use `http::Uri`\n  - **BREAKING**: `Config::cluster_url` is now `http::Uri`\n  - **BREAKING**: `Error::InternalUrlError(url::ParseError)` and `Error::MalformedUrl(url::ParseError)` replaced by `Error::InvalidUri(http::uri::InvalidUri)`\n\n\n0.55.0 / 2021-05-21\n===================\n * `kube`: `client` feature added (default-enabled) - [#528](https://github.com/kube-rs/kube/issues/528)\n * `kube`: `PatchParams` force now only works with `Patch::Apply` [#528](https://github.com/kube-rs/kube/issues/528)\n * `kube`: `api` `discovery` module now uses a new `ApiResource` struct [#495](https://github.com/kube-rs/kube/issues/495) + [#482](https://github.com/kube-rs/kube/issues/482)\n * `kube`: `api` BREAKING: `DynamicObject` + `Object` now takes an `ApiResource` rather than a `GroupVersionKind`\n * `kube`: `api` BREAKING: `discovery` module's `Group` renamed to `ApiGroup`\n * `kube`: `client` BREAKING: `kube::client::Status` moved to `kube::core::Status` (accidental, re-adding in 0.56)\n * `kube-core` crate factored out of `kube` to reduce dependencies - [#516](https://github.com/kube-rs/kube/issues/516) via [#517](https://github.com/kube-rs/kube/issues/517) + [#519](https://github.com/kube-rs/kube/issues/519) + [#522](https://github.com/kube-rs/kube/issues/522) + [#528](https://github.com/kube-rs/kube/issues/528) + [#530](https://github.com/kube-rs/kube/issues/530)\n * `kube`: `kube::Service` removed to allow `kube::Client` to take an abritrary `Service<http::Request<hyper::Body>>` - [#532](https://github.com/kube-rs/kube/issues/532)\n\n0.54.0 / 2021-05-19\n===================\n * yanked 30 minutes after release due to [#525](https://github.com/kube-rs/kube/issues/525)\n * changes lifted to 0.55.0\n\n0.53.0 / 2021-05-15\n===================\n * `kube`: `admission` controller module added under feature - [#477](https://github.com/kube-rs/kube/issues/477) via [#484](https://github.com/kube-rs/kube/issues/484) + fixes in [#488](https://github.com/kube-rs/kube/issues/488) [#498](https://github.com/kube-rs/kube/issues/498) [#499](https://github.com/kube-rs/kube/issues/499) + [#507](https://github.com/kube-rs/kube/issues/507) + [#509](https://github.com/kube-rs/kube/issues/509)\n * `kube`: `config` parsing of pem blobs now resilient against missing newlines - [#504](https://github.com/kube-rs/kube/issues/504) via [#505](https://github.com/kube-rs/kube/issues/505)\n * `kube`: `discovery` module added to simplify dynamic api usage - [#491](https://github.com/kube-rs/kube/issues/491)\n * `kube`: `api` BREAKING: `DynamicObject::namespace` renamed to `::within` - [#502](https://github.com/kube-rs/kube/issues/502)\n * `kube`: `api` BREAKING: added `ResourceExt` trait moving the getters from `Resource` trait - [#486](https://github.com/kube-rs/kube/issues/486)\n * `kube`: `api` added a generic interface for subresources via `Request` - [#487](https://github.com/kube-rs/kube/issues/487)\n * `kube`: `api` fix bug in `PatchParams::dry_run` not being serialized correctly - [#511](https://github.com/kube-rs/kube/issues/511)\n\n### 0.53.0 Migration Guide\nThe most likely issue you'll run into is from `kube` when using `Resource` trait which has been split:\n\n```diff\n+use kube::api::ResouceExt;\n-    let name = Resource::name(&foo);\n-    let ns = Resource::namespace(&foo).expect(\"foo is namespaced\");\n+    let name = ResourceExt::name(&foo);\n+    let ns = ResourceExt::namespace(&foo).expect(\"foo is namespaced\");\n```\n\n0.52.0 / 2021-03-31\n===================\n * `kube-derive`: allow overriding `#[kube(plural)]` and `#[kube(singular)]` - [#458](https://github.com/kube-rs/kube/issues/458) via [#463](https://github.com/kube-rs/kube/issues/463)\n * `kube`: added tracing instrumentation for io operations in `kube::Api` - [#455](https://github.com/kube-rs/kube/issues/455)\n * `kube`: `DeleteParams`'s `Preconditions` is now public - [#459](https://github.com/kube-rs/kube/issues/459) via [#460](https://github.com/kube-rs/kube/issues/460)\n * `kube`: remove dependency on duplicate `derive_accept_key` for `ws` - [#452](https://github.com/kube-rs/kube/issues/452)\n * `kube`: Properly verify websocket keys in `ws` handshake - [#447](https://github.com/kube-rs/kube/issues/447)\n * `kube`: BREAKING: removed optional, and deprecated `runtime` module - [#454](https://github.com/kube-rs/kube/issues/454)\n * `kube`: BREAKING: `ListParams` bookmarks default enabled - [#226](https://github.com/kube-rs/kube/issues/226) via [#445](https://github.com/kube-rs/kube/issues/445)\n   - renames member `::allow_bookmarks` to `::bookmarks`\n   - `::default()` sets `bookmark` to `true` to avoid bad bad defaults [#219](https://github.com/kube-rs/kube/issues/219)\n   - method `::allow_bookmarks()` replaced by `::disable_bookmarks()`\n * `kube`: `DynamicObject` and `GroupVersionKind` introduced for full dynamic object support\n * `kube-runtime`: watchers/reflectors/controllers can be used with dynamic objects from api discovery\n * `kube`: Pluralisation now only happens for `k8s_openapi` objects by default [#481](https://github.com/kube-rs/kube/issues/481)\n   - inflector dependency removed [#471](https://github.com/kube-rs/kube/issues/471)\n   - added internal pluralisation helper for `k8s_openapi` objects\n * `kube`: BREAKING: Restructuring of low level `Resource` request builder [#474](https://github.com/kube-rs/kube/issues/474)\n   - `Resource` renamed to `Request` and requires only a `path_url` to construct\n * `kube`: BREAKING: Mostly internal `Meta` trait revamped to support dynamic types\n   - `Meta` renamed to `kube::Resource` to mimic `k8s_openapi::Resource` [#478](https://github.com/kube-rs/kube/issues/478)\n   - The trait now takes an optional associated type for runtime type info: `DynamicType` [#385](https://github.com/kube-rs/kube/issues/385)\n   - `Api::all_with` + `Api::namespaced_with` added for querying with dynamic families\n   - see `dynamic_watcher` + `dynamic_api` for example usage\n * `kube-runtime`: BREAKING: lower level interface changes as a result of `kube::api::Meta` trait:\n  - THESE SHOULD NOT AFFECT YOU UNLESS YOU ARE IMPLEMENTING / CUSTOMISING LOW LEVEL TYPES DIRECTLY\n  - `ObjectRef` now generic over `kube::Resource` rather than `RuntimeResource`\n  - `reflector::{Writer, Store}` takes a `kube::Resource` rather than a `k8s_openapi::Resource`\n * `kube-derive`: BREAKING: Generated type no longer generates `k8s-openapi` traits\n  - This allows correct pluralisation via `#[kube(plural = \"mycustomplurals\")]` [#467](https://github.com/kube-rs/kube/issues/467) via [#481](https://github.com/kube-rs/kube/issues/481)\n\n### 0.52.0 Migration Guide\nWhile we had a few breaking changes. Most are to low level internal interfaces and should not change much, but some changes you might need to make:\n\n#### kube\n- if using the old, low-level `kube::api::Resource`, please consider the easier `kube::Api`, or look at tests in `request.rs` or `typed.rs` if you need the low level interface\n- search replace `kube::api::Meta` with `kube::Resource` if used - trait was renamed\n- if implementing the trait, add `type DynamicType = ();` to the impl\n- remove calls to `ListParams::allow_bookmarks` (allow default)\n- handle `WatchEvent::Bookmark` or set `ListParams::disable_bookmarks()`\n- look at examples if replacing the long deprecated legacy runtime\n\n#### kube-derive\nThe following constants from `k8s_openapi::Resource` no longer exist. Please `use kube::Resource` and:\n- replace `Foo::KIND` with `Foo::kind(&())`\n- replace `Foo::GROUP` with `Foo::group(&())`\n- replace `Foo::VERSION` with `Foo::version(&())`\n- replace `Foo::API_VERSION` with `Foo::api_version(&())`\n\n0.51.0 / 2021-02-28\n===================\n * `kube` `Config` now allows arbirary extension objects - [#425](https://github.com/kube-rs/kube/issues/425)\n * `kube` `Config` now allows multiple yaml documents per kubeconfig - [#440](https://github.com/kube-rs/kube/issues/440) via [#441](https://github.com/kube-rs/kube/issues/441)\n * `kube-derive` now more robust and is using `darling` - [#435](https://github.com/kube-rs/kube/issues/435)\n * docs improvements to patch + runtime\n\n0.50.1 / 2021-02-17\n===================\n * bug: fix oidc auth provider - [#424](https://github.com/kube-rs/kube/issues/424) via [#419](https://github.com/kube-rs/kube/issues/419)\n\n0.50.0 / 2021-02-10\n===================\n * feat: added support for stacked kubeconfigs - [#132](https://github.com/kube-rs/kube/issues/132) via [#411](https://github.com/kube-rs/kube/issues/411)\n * refactor: authentication logic moved out of `kube::config` and into into `kube::service` - [#409](https://github.com/kube-rs/kube/issues/409)\n  - BREAKING: `Config::get_auth_header` removed\n * refactor: remove `hyper` dependency from `kube::api` - [#410](https://github.com/kube-rs/kube/issues/410)\n * refactor: `kube::Service` simpler auth and gzip handling - [#405](https://github.com/kube-rs/kube/issues/405) + [#408](https://github.com/kube-rs/kube/issues/408)\n\n0.49.0 / 2021-02-08\n===================\n * dependency on `reqwest` + removed in favour of `hyper` + `tower` [#394](https://github.com/kube-rs/kube/pull/394)\n   - refactor: `kube::Client` now uses `kube::Service` (a `tower::Service<http::Request<hyper::Body>>`) instead of `reqwest::Client` to handle all requests\n   - refactor: `kube::Client` now uses a `tokio_util::codec` for internal buffering\n   - refactor: `async-tungstenite` ws feature dependency replaced with `tokio-tungstenite`. `WebSocketStream` is now created from a connection upgraded with `hyper`\n   - refactor: `oauth2` module for GCP OAuth replaced with optional `tame-oauth` dependency\n   - BREAKING: GCP OAuth is now opt-in (`oauth` feature). Note that GCP provider with command based token source is supported by default.\n   - BREAKING: Gzip decompression is now opt-in (`gzip` feature) because Kubernetes does not have compression enabled by default yet and this feature requires extra dependencies. [#399](https://github.com/kube-rs/kube/pull/399)\n   - BREAKING: `Client::new` now takes a `Service` instead of `Config` [#400](https://github.com/kube-rs/kube/pull/400). Allows custom service for features not supported out of the box and testing. To create a `Client` from `Config`, use `Client::try_from` instead.\n   - BREAKING: Removed `Config::proxy`. Proxy is no longer supported out of the box, but it should be possible by using a custom Service.\n   - fix: Refreshable token from auth provider not refreshing\n   - fix: Panic when loading config with non-GCP provider [#238](https://github.com/kube-rs/kube/issues/238)\n * feat: subresource support added for `Evictable` types (marked for `Pod`) - [#393](https://github.com/kube-rs/kube/pull/393)\n * `kube`: subresource marker traits renamed to `Loggable`, `Executable`, `Attachable` (previously `LoggingObject`, `ExecutingObject`, `AttachableObject`) - [#395](https://github.com/kube-rs/kube/pull/395)\n * `examples` showcasing `kubectl cp` like behaviour [#381](https://github.com/kube-rs/kube/issues/381) via [#392](https://github.com/kube-rs/kube/pull/392)\n\n0.48.0 / 2021-01-23\n===================\n  * bump `k8s-openapi` to `0.11.0` - [#388](https://github.com/kube-rs/kube/pull/388)\n  * breaking: `kube`: no longer necessary to serialize patches yourself - [#386](https://github.com/kube-rs/kube/pull/386)\n    - `PatchParams` removes `PatchStrategy`\n    - `Api::patch*` methods now take an enum `Patch` type\n    - optional `jsonpatch` feature added for `Patch::Json`\n\n0.47.0 / 2021-01-06\n===================\n  * chore: upgrade `tokio` to `1.0` - [#363](https://github.com/kube-rs/kube/pull/363)\n    * BREAKING: This requires the whole application to upgrade to `tokio` 1.0 and `reqwest` to 0.11.0\n  * docs: fix broken documentation in `kube` 0.46.0 [#367](https://github.com/kube-rs/kube/pull/367)\n  * bug: `kube`: removed panics from `ws` features, fix `rustls` support + improve docs [#369](https://github.com/kube-rs/kube/issues/369) via [#370](https://github.com/kube-rs/kube/pull/370) + [#373](https://github.com/kube-rs/kube/pull/373)\n  * bug: `AttachParams` now fixes owned method chaining (slightly breaks from 0.46 if using &mut ref before) - [#364](https://github.com/kube-rs/kube/pull/364)\n  * feat: `AttachParams::interactive_tty` convenience method added - [#364](https://github.com/kube-rs/kube/pull/364)\n  * bug: fix `Runner` (and thus `Controller` and `applier`) not waking correctly when starting new tasks - [#375](https://github.com/kube-rs/kube/pull/375)\n\n0.46.1 / 2021-01-06\n===================\n  * maintenance release for 0.46 (last supported tokio 0.2 release) from `tokio02` branch\n  * bug backport: fix `Runner` (and thus `Controller` and `applier`) not waking correctly when starting new tasks - [#375](https://github.com/kube-rs/kube/pull/375)\n\n0.46.0 / 2021-01-02\n===================\n  * feat: `kube` now has __optional__ websocket support with `async_tungstenite` under `ws` and `ws-*-tls` features [#360](https://github.com/kube-rs/kube/pull/360)\n  * feat: `AttachableObject` marker trait added and implemented for `k8s_openapi::api::core::v1::Pod` [#360](https://github.com/kube-rs/kube/pull/360)\n  * feat: `AttachParams` added for `Api::exec` and `Api::attach` for `AttachableObject`s [#360](https://github.com/kube-rs/kube/pull/360)\n  * examples: `pod_shell`, `pod_attach`, `pod_exec` demonstrating the new features [#360](https://github.com/kube-rs/kube/pull/360)\n\n0.45.0 / 2020-12-26\n===================\n  * feat: `kube-derive` now has a default enabled `schema` feature\n    * allows opting out of `schemars` dependency for handwriting crds - [#355](https://github.com/kube-rs/kube/issues/355)\n  * breaking: `kube-derive` attr `struct_name` renamed to `struct` - [#359](https://github.com/kube-rs/kube/pull/359)\n  * docs: improvements on `kube`, `kube-runtime`, `kube-derive`\n\n0.44.0 / 2020-12-23\n===================\n  * feat: `kube-derive` now generates openapi v3 schemas and is thus usable with v1 `CustomResourceDefinition` - [#129](https://github.com/kube-rs/kube/issues/129) and [#264](https://github.com/kube-rs/kube/issues/264) via [#348](https://github.com/kube-rs/kube/pull/348)\n    * BREAKING: `kube-derive` types now require `JsonSchema` derived via `schemars` libray (not breaking if going to 0.45.0)\n  * feat: `kube_runtime::controller`: now reconciles objects in parallel - [#346](https://github.com/kube-rs/kube/issues/346)\n    * BREAKING: `kube_runtime::controller::applier` now requires that the `reconciler`'s `Future` is `Unpin`,\n                `Box::pin` it or submit it to a runtime if this is not acceptable\n    * BREAKING: `kube_runtime::controller::Controller` now requires that the `reconciler`'s `Future` is `Send + 'static`,\n                use the low-level `applier` interface instead if this is not acceptable\n  * bug: `kube-runtime`: removed accidentally included `k8s-openapi` default features (you have to opt in to them yourself)\n  * feat: `kube`: `TypeMeta` now derives additionally `Debug, Eq, PartialEq, Hash`\n  * bump: `k8s-openapi` to `0.10.0` - [#330](https://github.com/kube-rs/kube/pull/330)\n  * bump: `serde_yaml` - [#349](https://github.com/kube-rs/kube/issues/349)\n  * bump: `dirs` to `dirs-next` - [#340](https://github.com/kube-rs/kube/pull/340)\n\n0.43.0 / 2020-10-08\n===================\n  * bug: `kube-derive` attr `#[kube(shortname)]` now working correctly\n  * bug: `kube-derive` now working with badly cased existing types - [#313](https://github.com/kube-rs/kube/issues/313)\n  * missing: `kube` now correctly exports `config::NamedAuthInfo` - [#323](https://github.com/kube-rs/kube/pull/323)\n  * feat: `kube`: expose `Config::get_auth_header` for istio use cases - [#322](https://github.com/kube-rs/kube/issues/322)\n  * feat: `kube`: local config now tackles gcloud auth exec params - [#328](https://github.com/kube-rs/kube/pull/328) and [#84](https://github.com/kube-rs/kube/issues/84)\n  * `kube-derive` now actually requires GVK (in particular `#[kube(kind = \"Foo\")]` which we sometimes inferred earlier, despite documenting the contrary)\n\n0.42.0 / 2020-09-10\n===================\n  * bug: `kube-derive`'s `Default` derive now sets typemeta correctly - [#315](https://github.com/kube-rs/kube/issues/315)\n  * feat: `ListParams` now supports `continue_token` and `limit` - [#320](https://github.com/kube-rs/kube/pull/320)\n\n0.41.0 / 2020-09-10\n===================\n  * yanked release. failed publish.\n\n0.40.0 / 2020-08-17\n===================\n  * `DynamicResource::from_api_resource` added to allow apiserver returned resources - [#305](https://github.com/kube-rs/kube/pull/305) via [#301](https://github.com/kube-rs/kube/pull/301)\n  * `Client::list_api_groups` added\n  * `Client::list_ap_group_resources` added\n  * `Client::list_core_api_versions` added\n  * `Client::list_core_api_resources` added\n  * `kube::DynamicResource` exposed at top level\n  * Bug: `PatchParams::default_apply()` now requires a manager and renamed to `PatchParams::apply(manager: &str)` for [#300](https://github.com/kube-rs/kube/issues/300)\n  * Bug: `DeleteParams` no longer missing for `Api::delete_collection` - [#53](https://github.com/kube-rs/kube/issues/53)\n  * Removed paramter `ListParams::include_uninitialized` deprecated since 1.14\n  * Added optional `PostParams::field_manager` was missing for `Api::create` case\n\n0.39.0 / 2020-08-05\n===================\n  * Bug: `ObjectRef` tweak in `kube-runtime` to allow controllers triggering across cluster and namespace scopes - [#293](https://github.com/kube-rs/kube/issues/293) via [#294](https://github.com/kube-rs/kube/pull/294)\n  * Feature: `kube` now has a `derive` feature which will re-export `kube::CustomResource` from `kube-derive::CustomResource`.\n  * Examples: revamp examples for `kube-runtime` - [#201](https://github.com/kube-rs/kube/issues/201)\n\n0.38.0 / 2020-07-23\n===================\n  * Marked `kube::runtime` module as deprecated - [#281](https://github.com/kube-rs/kube/issues/281)\n  * `Config::timeout` can now be overridden to `None` (with caveats) [#280](https://github.com/kube-rs/kube/pull/280)\n  * Bug: reflector stores could have multiple copies inside datastore - [#286](https://github.com/kube-rs/kube/issues/286)\n     - `dashmap` backend Store driver downgraded - [#286](https://github.com/kube-rs/kube/issues/286)\n     - `Store::iter` temporarily removed\n  * Bug: Specialize WatchEvent::Bookmark so they can be deserialized - [#285](https://github.com/kube-rs/kube/issues/285)\n  * Docs: Tons of docs for kube-runtime\n\n0.37.0 / 2020-07-20\n===================\n  * Bump `k8s-openapi` to `0.9.0`\n  * All runtime components now require `Sync` objects\n  * reflector/watcher/Controller streams can be shared in threaded environments\n\n0.36.0 / 2020-07-19\n===================\n  * https://gitlab.com/teozkr/kube-rt/ merged in for a new `kube-runtime` crate [#258](https://github.com/kube-rs/kube/pull/258)\n  * `Controller<K>` added ([#148](https://github.com/kube-rs/kube/issues/148) via [#258](https://github.com/kube-rs/kube/pull/258))\n  * `Reflector` api redesigned ([#102](https://github.com/kube-rs/kube/issues/102) via [#258](https://github.com/kube-rs/kube/pull/258))\n  * Migration release for `Informer` -> `watcher` + `Reflector` -> `reflector`\n  * `kube::api::CustomResource` removed in favour of `kube::api::Resource::dynamic`\n  * `CrBuilder` removed in favour of `DynamicResource` (with new error handling)\n  * support level bumped to beta\n\n0.35.1 / 2020-06-18\n===================\n  * Fix in-cluster Client when using having multiple certs in the chain - [#251](https://github.com/kube-rs/kube/issues/251)\n\n0.35.0 / 2020-06-15\n===================\n  * `Config::proxy` support added - [#246](https://github.com/kube-rs/kube/pull/246)\n  * `PartialEq` can be derived with `kube-derive` - [#242](https://github.com/kube-rs/kube/pull/242)\n  * Windows builds no longer clashes with runtime - [#240](https://github.com/kube-rs/kube/pull/240)\n  * Rancher hosts (with path specifiers) now works - [#244](https://github.com/kube-rs/kube/issues/244)\n\n0.34.0 / 2020-05-08\n===================\n  * Bump `k8s-openapi` to `0.8.0`\n  * `Config::from_cluster_env` <- renamed from `Config::new_from_cluster_env`\n  * `Config::from_kubeconfig` <- renamed from `Config::new_from_kubeconfig`\n  * `Config::from_custom_kubeconfig` added - [#236](https://github.com/kube-rs/kube/pull/236)\n  * Majorly overhauled error handlind in config module - [#237](https://github.com/kube-rs/kube/pull/237)\n\n0.33.0 / 2020-04-27\n===================\n  * documentation fixes for `Api::patch`\n  * Config: add automatic token refresh - [#72](https://github.com/kube-rs/kube/issues/72) / [#224](https://github.com/kube-rs/kube/issues/224) / [#234](https://github.com/kube-rs/kube/pull/234)\n\n0.32.1 / 2020-04-15\n===================\n  * add missing tokio `signal` feature as a dependency\n  * upgrade all dependencies, including minor bumps to rustls and base64\n\n0.32.0 / 2020-04-10\n===================\n  * Major `config` + `client` module refactor\n  * `Config` is the new `Configuration` struct\n  * `Client` is now just a configured `reqwest::Client` plus a `reqwest::Url`\n  * implement `From<Config> for reqwest::ClientBuilder`\n  * implement `TryFrom<Config> for Client`\n  * `Client::try_default` or `Client::new` now recommended constructors\n  * People parsing `~/.kube/config` must use the `KubeConfig` struct instead\n  * `Reflector<K>` now only takes an `Api<K>` to construct (.params method)\n  * `Informer<K>` now only takes an `Api<K>` to construct (.params method)\n  * `Informer::init_from` -> `Informer::set_version`\n  * `Reflector` now self-polls [#151](https://github.com/kube-rs/kube/issues/151) + handles signals [#152](https://github.com/kube-rs/kube/issues/152)\n  * `Reflector::poll` made private in favour of `Reflector::run`\n  * `Api::watch` no longer filters out error events (`next` -> `try_next`)\n  * `Api::watch` returns `Result<WatchEvent>` rather than `WatchEvent`\n  * `WatchEvent::Bookmark` added to enum\n  * `ListParams::allow_bookmarks` added\n  * `PatchParams::default_apply` ctor added\n  * `PatchParams` builder mutators: `::force` and `::dry_run` added\n\n0.31.0 / 2020-03-27\n===================\n  * Expose `config::Configuration` at root level\n  * Add `Configuration::infer` as a recommended constructor\n  * Rename `client::APIClient` to `client::Client`\n  * Expose `client::Client` at root level\n  * `Client` now implements `From<Configuration>`\n  * Added comprehensive documentation on `Api`\n  * Rename `config::KubeConfigLoader` -> `config::ConfigLoader`\n  * removed `futures-timer` dependency for `tokio` (feature=timer)\n\n0.30.0 / 2020-03-17\n===================\n  * Fix `#[kube(printcolumn)]` when `#[kube(apiextensions = \"v1beta1\")]`\n  * Fix `#[kube(status)]` causing serializes of empty optional statuses\n\n0.29.0 / 2020-03-12\n===================\n  * `Api::log` -> `Api::logs` (now matches `Resource::logs`)\n  * `Object<FooSpec, FooStatus>` back for ad-hoc ser/de\n  * kube-derive now derives `Debug` (requires `Debug` on spec struct)\n  * kube-derive now allows multiple derives per file\n  * `Api::create` now takes data `K` rather than bytes\n  * `Api::replace` now takes data `K` rather than bytes\n    - (note that `Resource::create` and `Resource::replace` still takes bytes)\n\n0.28.1 / 2020-03-07\n===================\n  * `#[derive(CustomResource)]` now implements `::new` on the generated `Kind`\n  * derived `Kind` now properly contains `TypeMeta` - [#170](https://github.com/kube-rs/kube/issues/170)\n\n0.28.0 / 2020-03-05\n===================\n  * `RawApi` removed -> `Resource` added\n  * `Resource` implements `k8s_openapi::Resource`\n  * **ALL OBJECTS REMOVED** -> Depening on light version of `k8s-openapi` now\n    - NB: should generally just mean a few import changes (+casings / unwraps)\n  * `openapi` feature removed (light dependency mandatory now)\n  * **LIBRARY WORKS WITH ALL `k8s_openapi` KUBERNETES OBJECTS**\n  * `KubeObject` trait removed in favour of `Meta` trait\n  * `Object<FooSpec, FooStatus>` removed -> types implementing `k8s_openapi::Resource` required instead\n  * `kube-derive` crate added to derive this trait + other kubebuilder like codegen\n\n0.27.0 / 2020-02-26\n===================\n * `Reflector` + `Informer` moved from `kube::api` to `kube::runtime`\n * `Informer` now resets the version to 0 rather than dropping events - [#134](https://github.com/kube-rs/kube/issues/134)\n   * Removed `Informer::init`, since it is now a no-op when building the `Informer`\n * Downgrade spurious log message when using service account auth\n\n0.26.0 / 2020-02-25\n===================\n  * Fix a large percentage of EOFs from watches [#146](https://github.com/kube-rs/kube/issues/146)\n  * => default timeout down to 290s from 300s\n  * => `Reflector` now re-lists a lot less [#146](https://github.com/kube-rs/kube/issues/146)\n  * Fix decoder panic with async-compression (probably) [#144](https://github.com/kube-rs/kube/issues/144)\n  * `Informer::poll` can now be used with `TryStream`\n  * Exposed `Config::read` and `Config::read_from` - [#124](https://github.com/kube-rs/kube/issues/124)\n  * Fix typo on `Api::StatefulSet`\n  * Fix typo on `Api::Endpoints`\n  * Add `Api::v1CustomResourceDefinition` when on k8s >= 1.17\n  * Renamed `Void` to `NotUsed`\n\n0.25.0 / 2020-02-09\n===================\n  * initial rustls support [#114](https://github.com/kube-rs/kube/pull/114) (some local kube config issues know [#120](https://github.com/kube-rs/kube/issues/120))\n  * crate does better version checking against openapi features - [#106](https://github.com/kube-rs/kube/issues/106)\n  * initial `log_stream` support - [#109](https://github.com/kube-rs/kube/issues/109)\n\n0.24.0 / 2020-01-26\n===================\n  * Add support for ServiceAccount, Role, ClusterRole, RoleBinding, Endpoint - [#113](https://github.com/kube-rs/kube/pull/113) + [#111](https://github.com/kube-rs/kube/pull/111)\n  * Upgrade k8s-openapi to 0.7 => breaking changes: https://github.com/Arnavion/k8s-openapi/blob/master/CHANGELOG.md#v070-2020-01-23\n\n0.23.0 / 2019-12-31\n===================\n  * Bump tokio and reqwest to 0.2 and 0.10\n  * Fix bug in `log` fetcher - [#107](https://github.com/kube-rs/kube/pull/107)\n  * Temporarily allow invalid certs when testing on macosx - [#105](https://github.com/kube-rs/kube/pull/105)\n\n0.22.2 / 2019-12-04\n===================\n  * Allow sharing Reflectors between threads - [#97](https://github.com/kube-rs/kube/issues/97)\n  * Fix Reflector pararall lock issue (`poll` no longer blocks `state`)\n\n0.22.1 / 2019-11-30\n===================\n  * Improve Reflector reset algorithm (clear history less)\n\n0.22.0 / 2019-11-29\n===================\n  * Default watch timeouts changed to 300s everywhere\n  * This increases efficiency of Informers and Reflectors by keeping the connection open longer.\n  * However, if your Reflector relies on frequent polling you can set `timeout` or hide the `poll()` in a different context so it doesn't block your main work\n  * Internal `RwLock` changed to a `futures::Mutex` for soundness / proper non-blocking - [#94](https://github.com/kube-rs/kube/issues/94)\n  * blocking `Reflector::read()` renamed to `async Reflector::state()`\n  * Expose `metadata.creation_timestamp` and `.deletion_timestamp` (behind openapi flag) - [#93](https://github.com/kube-rs/kube/issues/93)\n\n0.21.0 / 2019-11-29\n===================\n  * All watch calls returns a stream of `WatchEvent` - [#92](https://github.com/kube-rs/kube/pull/92)\n  * `Informer::poll` now returns a stream - [#92](https://github.com/kube-rs/kube/pull/92)\n\n0.20.1 / 2019-11-21\n===================\n  * ObjectList now implements Iterator - [#91](https://github.com/kube-rs/kube/pull/91)\n  * openapi feature no longer accidentally hardcoded to v1.15 feature - [#90](https://github.com/kube-rs/kube/issues/90)\n\n0.19.0 / 2019-11-15\n==================\n  * kube::Error is now a proper error enum and not a Fail impl (thiserror)\n  * soft-tokio dependency removed for futures-timer\n  * gzip re-introduced\n\n0.18.1 / 2019-11-11\n==================\n  * Fix unpinned gzip dependency breakage - [#87](https://github.com/kube-rs/kube/issues/87)\n\n0.18.0 / 2019-11-07\n==================\n  * api converted to use async/await with 1.39.0 (primitively)\n  * hyper upgraded to 0.10-alpha\n  * synchronous sleep replaced with tokio timer\n  * `Log` trait removed in favour of internal marker trait\n\n0.17.0 / 2019-10-22\n==================\n  * Add support for oidc providerss with `auth-provider` w/o `access-token` - [#70](https://github.com/kube-rs/kube/pull/70)\n  * Bump most dependencies to more recent versions\n  * Expose custom client creation\n  * Added support for `v1beta1Ingress`\n  * Expose incluster_config::load_default_ns - [#74](https://github.com/kube-rs/kube/pull/74)\n\n0.16.1 / 2019-08-09\n==================\n  * Add missing `uid` field on `ObjectMeta::ownerReferences`\n\n0.16.0 / 2019-08-09\n==================\n  * Add `Reflector::get` and `Reflector::get_within` as cheaper getters\n  * Add support for OpenShift kube configs with multiple CAs - via [#64](https://github.com/kube-rs/kube/pull/64)\n  * Add missing `ObjectMeta::ownerReferences`\n  * Reduced memory consumption during compile with `k8s-openapi@0.5.1` - [#62](https://github.com/kube-rs/kube/issues/62)\n\n0.15.1 / 2019-08-18\n==================\n  * Fix compile issue on `1.37.0` with `Utc` serialization\n  * Fix `Void` not having `Serialize` derive\n\n0.15.0 / 2019-08-11\n==================\n  * Added support for `v1Job` resources - via [#58](https://github.com/kube-rs/kube/pull/58)\n  * Added support for `v1Namespace`, `v1DaemonSet`, `v1ReplicaSet`, `v1PersistentVolumeClaim`, `v1PersistentVolume`, `v1ResourceQuota`, `v1HorizontalPodAutoscaler` - via [#59](https://github.com/kube-rs/kube/pull/59)\n  * Added support for `v1beta1CronJob`, `v1ReplicationController`, `v1VolumeAttachment`, `v1NetworkPolicy` - via [#60](https://github.com/kube-rs/kube/issues/60)\n  * `k8s-openapi` optional dependency bumped to `0.5.0` (for kube 1.14 structs)\n\n0.14.0 / 2019-08-03\n==================\n  * `Reflector::read` now returns a `Vec<K>`` rather than a `Vec<(name, K)>`:\n    This fixes an unsoundness bug internally - [#56](https://github.com/kube-rs/kube/pull/56) via @gnieto\n\n0.13.0 / 2019-07-22\n==================\n  * Experimental oauth2 support for some providers - via [#44](https://github.com/kube-rs/kube/issues/44) :\n    - a big cherry-pick from various prs upstream originally for GCP\n    - EKS works with setup in https://github.com/kube-rs/kube/pull/20#issuecomment-511767551\n\n0.12.0 / 2019-07-18\n==================\n  * Added support for `Log` subresource - via [#50](https://github.com/kube-rs/kube/pull/50)\n  * Added support for `v1ConfigMap` with example - via [#49](https://github.com/kube-rs/kube/pull/49)\n  * Demoted some spammy info messages from Reflector\n\n0.11.0 / 2019-07-10\n==================\n  * Added `PatchParams` with `PatchStrategy` to allow arbitrary patch types - [#24](https://github.com/kube-rs/kube/issues/24) via @ragne\n  * `Event` renamed to `v1Event` to match non-slowflake type names\n  * `v1Service` support added\n  * Added `v1Secret` snowflake type and a `secret_reflector` example\n\n0.10.0 / 2019-06-03\n==================\n  * `Api<P, U>` is now `Api<K>` for some `KubeObject` K:\n    - Big change to allow snowflake objects ([#35](https://github.com/kube-rs/kube/issues/35)) - but also slightly nicer\n    - You want aliases `type Pod = Object<PodSpec, PodStatus>`\n    - This gives you the required `KubeObject` trait impl for free\n  * Added `Event` native type to prove snowflakes can be handled - [#35](https://github.com/kube-rs/kube/issues/35)\n\n  * `ApiStatus` renamed to `Status` to match kube api conventions [#36](https://github.com/kube-rs/kube/issues/36)\n  * Rename `Metadata` to `ObjectMeta` [#36](https://github.com/kube-rs/kube/issues/36)\n  * Added `ListMeta` for `ObjectList` and `Status` [#36](https://github.com/kube-rs/kube/issues/36)\n  * Added `TypeMeta` object which is flattened onto `Object`, so:\n    - `o.types.kind` rather than `o.kind`\n    - `o.types.version` rather than `o.version`\n\n0.9.0 / 2019-06-02\n==================\n  * Status subresource api commands added to `Api`:\n    - `patch_status`\n    - `get_status`\n    - `replace_status`\n  ^ See `crd_openapi` or `crd_api` examples\n  * Scale subresource commands added to `Api`:\n    - `patch_scale`\n    - `get_scale`\n    - `replace_scale`\n  ^ See `crd_openapi` example\n\n0.8.0 / 2019-05-31\n==================\n  * Typed `Api` variant called `OpenApi` introduced (see crd_openapi example)\n  * Revert `client.request` return type change (back to response only from pre-0.7.0 [#28](https://github.com/kube-rs/kube/issues/28))\n  * `delete` now returns `Either<Object<P, U>, ApiStatus> - for bug[#32](https://github.com/kube-rs/kube/issues/32)\n  * `delete_collection` now returns `Either<ObjectList<Object<P, U>>, ApiStatus> - for bug[#32](https://github.com/kube-rs/kube/issues/32)\n  * `Informer::new` renamed to `Informer::raw`\n  * `Reflector::new` renamed to `Reflector::raw`\n  * `Reflector::new` + `Informer::new` added for \"openapi\" compile time feature (does not require specifying the generic types)\n\n0.7.0 / 2019-05-27\n==================\n  * Expose list/watch parameters [#11](https://github.com/kube-rs/kube/issues/11)\n  * Many API struct renames:\n    - `ResourceMap` -> `Cache`\n    - `Resource` -> `Object`\n    - `ResourceList` -> `ObjectList`\n    - `ApiResource` -> `Api`\n  * `ResourceType` has been removed in favour of `Api::v1Pod()` say\n  * `Object::status` now wrapped in an `Option` (not present everywhere)\n  * `ObjectList` exposed\n  * Major API overhaul to support generic operations on `Object`\n  * Api can be used to perform generic actions on resources:\n    - `create`\n    - `get`\n    - `delete`\n    - `watch`\n    - `list`\n    - `patch`\n    - `replace`\n    - `get_scale` (when scale subresource exists)\n    - `patch_scale` (ditto)\n    - `replace_scale` (ditto)\n    - `get_status` (when status subresource exists)\n    - `patch_status` (ditto)\n    - `replace_status` (ditto)\n  * crd_api example added to track the action api\n  * Bunch of generic parameter structs exposed for common operations:\n    - `ListParams` exposed\n    - `DeleteParams` exposed\n    - `PostParams` exposed\n  * Errors from `Api` exposed in `kube::Error`:\n    - `Error::api_error -> Option<ApiError>` exposed\n    - Various other error types also in there (but awkward setup atm)\n  * `client.request` now returns a tuple `(T, StatusCode)` (before only `T`)\n\n0.6.0 / 2019-05-12\n==================\n  * Expose getter `Informer::version`\n  * Exose ctor `Informer::from_version`\n  * Expose more attributes in `Metadata`\n  * `Informer::reset` convenience method added\n  * `Informer::poll` no longer returns events straight\n  * an `Informer` now caches `WatchEvent` elements into an internal queue\n  * `Informer::pop` pops a single element from its internal queue\n  * `Reflector::refresh` renamed to `Reflector::reset` (matches `Informer`)\n  * `Void` type added so we can use `Reflector<ActualSpec, Void>`\n    - removes need for Spec/Status structs:\n    - `ReflectorSpec`, `ReflectorStatus` removed\n    - `InformerSpec`, `InformerStatus` removed\n    - `ResourceSpecMap`, `ResourceStatusMap` removed\n  * `WatchEvents` removed\n  * `WatchEvent` exposed, and now wraps `Resource<T, U>``\n\n0.5.0 / 2019-05-09\n==================\n  * added `Informer` struct dedicated to handling events\n  * Reflectors no longer cache `events` - see [#6](https://github.com/kube-rs/kube/issues/6)\n\n0.4.0 / 2019-05-09\n==================\n  * ResourceMap now contains the full Resource<T,U> struct rather than a tuple as the value. => `value.metadata` is available in the cache.\n  * Reflectors now also cache `events` to allow apps to handle them\n\n0.3.0 / 2019-05-09\n==================\n  * `Named` trait removed (inferring from metadata.name now)\n  * Reflectors now take two type parameters (unless you use `ReflectorSpec` or `ReflectorStatus`) - see examples for usage\n  * Native kube types supported via `ApiResource`\n  * Some native kube resources have easy converters to `ApiResource`\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 5.2294921875,
          "content": "# Contributing Guide\n\nThis document describes the requirements for committing to this repository.\n\n## Developer Certificate of Origin (DCO)\n\nIn order to contribute to this project, you must sign each of your commits to attest that you have the right to contribute that code.\nThis is done with the `-s`/`--signoff` flag on `git commit`.\nMore information about `DCO` can be found [here](https://developercertificate.org/)\n\n## Pull Request Management\n\nAll code that is contributed to kube-rs must go through the Pull Request (PR) process.\nTo contribute a PR, fork this project, create a new branch, make changes on that branch, and then use GitHub to open a pull request with your changes.\n\nEvery PR must be reviewed by at least one [Maintainer](https://kube.rs/maintainers/) of the project.\nOnce a PR has been marked \"Approved\" by a Maintainer (and no other Maintainer has an open \"Rejected\" vote), the PR may be merged.\nWhile it is fine for non-maintainers to contribute their own code reviews, those reviews do not satisfy the above requirement.\n\n## Code of Conduct\n\nThis project has adopted the [CNCF Code of\nConduct](https://github.com/cncf/foundation/blob/master/code-of-conduct.md).\n\n## Rust Guidelines\n\n- **Channel**: Code is built and tested using the **stable** channel of Rust, but documented and formatted with **nightly** <sup>[*](https://github.com/kube-rs/kube/issues/707)</sup>\n- **Formatting**: To format the codebase, run `just fmt`\n- **Documentation** To check documentation, run `just doc`\n- **Testing**: To run tests, run `just test` and see below.\n\nFor a list of tooling that we glue together everything see [TOOLS.md](https://kube.rs/tools/).\n\n## Testing\n\nWe have 3 classes of tests.\n\n- Unit tests & Documentation Tests\n- Integration tests (requires Kubernetes)\n- End to End tests (requires Kubernetes)\n\nThe last two will try to access the Kubernetes cluster that is your `current-context`; i.e. via your local `KUBECONFIG` evar or `~/.kube/config` file.\n\nThe easiest way set up a minimal Kubernetes cluster for these is with [`k3d`](https://k3d.io/) (`just k3d`).\n\n### Unit Tests & Documentation Tests\n\nUnit and doc tests are run against a particular crate with `cargo test -p KUBECRATE --lib --doc`, but because of feature-sets, you will need a couple of extra flags and invocations to replicate all our CI conditions.\n\nTo run **all** unit tests, call: `just test`\n\nAll public interfaces must be documented, and most should have minor documentation examples to show usage.\n\n### Integration Tests\n\nSlower set of tests within the crates marked with an **`#[ignore]`** attribute.\n\n:warning: These  **WILL** try to modify resources in your current cluster :warning:\n\nIntegration tests are run against a crate with `cargo test -p KUBECRATE --lib -- --ignored`, but because of feature-sets, you will need a few invocations of these to replicate our CI.\n\nTo run **all** integration tests, call: `just test-integration`\n\n### End to End Tests\n\nWe have a small set of [e2e tests](https://github.com/kube-rs/kube/tree/main/e2e) that tests difference between in-cluster and local configuration.\n\nThese tests are the heaviest tests we have because they require a full `docker build`, image import (or push/pull flow), yaml construction, and `kubectl` usage to verify that the outcome was sufficient.\n\nTo run E2E tests, use (or follow) `just e2e` as appropriate.\n\n### Test Guidelines\n\n#### When to add a test\n\nAll public interfaces should have doc tests with examples for [docs.rs](https://docs.rs/kube).\n\nWhen adding new non-trivial pieces of logic that results in a drop in coverage you should add a test.\n\nCross-reference with the coverage build [![coverage build](https://codecov.io/gh/kube-rs/kube/branch/main/graph/badge.svg?token=9FCqEcyDTZ)](https://app.codecov.io/gh/kube-rs/kube/tree/main) and go to your branch. Coverage can also be run locally with [`cargo tarpaulin`](https://github.com/xd009642/tarpaulin) at project root. This will use our [tarpaulin.toml](https://github.com/kube-rs/kube/blob/main/tarpaulin.toml) config, and **will run both unit and integration** tests.\n\n#### What type of test\n\n- Unit tests **MUST NOT** try to contact a Kubernetes cluster\n- Doc tests **MUST** be marked as `no_run` when they need to contact a Kubernetes cluster\n- Integration tests **MUST NOT** be used when a unit test is sufficient\n- Integration tests **MUST NOT** assume existence of non-standard objects in the cluster\n- Integration tests **MUST NOT** cross-depend on other unit tests completing (and installing what you need)\n- E2E tests **MUST NOT** be used where an integration test is sufficient\n\nIn general: **use the least powerful method** of testing available to you:\n\n- use unit tests in `kube-core`\n- use unit tests in `kube-client` (and in rare cases integration tests)\n- use unit tests in `kube-runtime` (and occassionally integration tests)\n- use e2e tests when testing differences between in-cluster and local configuration\n\n## Support\n### Documentation\nThe [high-level architecture document](https://kube.rs/architecture/) is written for contributors.\n\n### Contact\nYou can ask general questions / share ideas / query the community at the [kube-rs discussions forum](https://github.com/kube-rs/kube/discussions).\nYou can reach the maintainers of this project at [#kube](https://discord.gg/tokio) channel on the Tokio discord.\n"
        },
        {
          "name": "Cargo.toml",
          "type": "blob",
          "size": 2.044921875,
          "content": "[workspace]\ndefault-members = [\"kube\"]\nresolver = \"1\"\nmembers = [\n  \"kube\",\n  \"kube-client\",\n  \"kube-core\",\n  \"kube-derive\",\n  \"kube-runtime\",\n\n  # internal\n  \"e2e\",\n  \"examples\",\n]\n\n[workspace.package]\nversion = \"0.98.0\"\nauthors = [\n  \"clux <sszynrae@gmail.com>\",\n  \"Natalie Klestrup RÃ¶ijezon <nat@nullable.se>\",\n  \"kazk <kazk.dev@gmail.com>\",\n]\nrepository = \"https://github.com/kube-rs/kube\"\nreadme = \"README.md\"\nlicense = \"Apache-2.0\"\nedition = \"2021\"\nrust-version = \"1.81.0\"\n\n[workspace.lints.rust]\nunsafe_code = \"forbid\"\nmissing_docs = \"deny\"\n\n[workspace.dependencies]\nahash = \"0.8\"\nanyhow = \"1.0.71\"\nassert-json-diff = \"2.0.2\"\nasync-broadcast = \"0.7.0\"\nasync-stream = \"0.3.5\"\nasync-trait = \"0.1.64\"\nbackoff = \"0.4.0\"\nbase64 = \"0.22.1\"\nbytes = \"1.1.0\"\nchrono = { version = \"0.4.34\", default-features = false }\ndarling = \"0.20.3\"\neduce = { version = \"0.6.0\", default-features = false }\neither = \"1.6.1\"\nform_urlencoded = \"1.2.0\"\nfutures = { version = \"0.3.17\", default-features = false }\nhashbrown = \"0.15.0\"\nhome = \"0.5.4\"\nhostname = \"0.4\"\nhttp = \"1.1.0\"\nhttp-body = \"1.0.1\"\nhttp-body-util = \"0.1.2\"\nhyper = \"1.2.0\"\nhyper-openssl = \"0.10.2\"\nhyper-rustls = { version = \"0.27.1\", default-features = false }\nhyper-socks2 = { version = \"0.9.0\", default-features = false }\nhyper-timeout = \"0.5.1\"\nhyper-util = \"0.1.9\"\njson-patch = \"3\"\njsonpath-rust = \"0.7.3\"\njsonptr = \"0.6\"\nk8s-openapi = { version = \"0.24.0\", default-features = false }\nopenssl = \"0.10.36\"\nparking_lot = \"0.12.0\"\npem = \"3.0.1\"\npin-project = \"1.0.4\"\nproc-macro2 = \"1.0.29\"\nquote = \"1.0.10\"\nrand = \"0.8.3\"\nrustls = { version = \"0.23.16\", default-features = false }\nrustls-pemfile = \"2.0.0\"\nschemars = \"0.8.6\"\nsecrecy = \"0.10.2\"\nserde = \"1.0.130\"\nserde_json = \"1.0.68\"\nserde_yaml = \"0.9.19\"\nserde-value = \"0.7.0\"\nsyn = \"2.0.38\"\ntame-oauth = \"0.10.0\"\ntempfile = \"3.1.0\"\nthiserror = \"2.0.3\"\ntokio = \"1.14.0\"\ntokio-test = \"0.4.0\"\ntokio-tungstenite = \"0.26.1\"\ntokio-util = \"0.7.0\"\ntower = \"0.5.1\"\ntower-http = \"0.6.1\"\ntower-test = \"0.4.0\"\ntracing = \"0.1.36\"\ntracing-subscriber = \"0.3.17\"\ntrybuild = \"1.0.48\"\nprettyplease = \"0.2.25\"\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0849609375,
          "content": "\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright 2018 The kube-rs Authors.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 8.0244140625,
          "content": "# kube-rs\n\n[![Crates.io](https://img.shields.io/crates/v/kube.svg)](https://crates.io/crates/kube)\n[![Rust 1.81](https://img.shields.io/badge/MSRV-1.81-dea584.svg)](https://github.com/rust-lang/rust/releases/tag/1.81.0)\n[![Tested against Kubernetes v1.28 and above](https://img.shields.io/badge/MK8SV-v1.28-326ce5.svg)](https://kube.rs/kubernetes-version)\n[![Best Practices](https://bestpractices.coreinfrastructure.org/projects/5413/badge)](https://bestpractices.coreinfrastructure.org/projects/5413)\n[![Discord chat](https://img.shields.io/discord/500028886025895936.svg?logo=discord&style=plastic)](https://discord.gg/tokio)\n\nA [Rust](https://rust-lang.org/) client for [Kubernetes](http://kubernetes.io) in the style of a more generic [client-go](https://github.com/kubernetes/client-go), a runtime abstraction inspired by [controller-runtime](https://github.com/kubernetes-sigs/controller-runtime), and a derive macro for [CRDs](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/) inspired by [kubebuilder](https://book.kubebuilder.io/reference/generating-crd.html). Hosted by [CNCF](https://cncf.io/) as a [Sandbox Project](https://www.cncf.io/sandbox-projects/).\n\nThese crates build upon Kubernetes [apimachinery](https://github.com/kubernetes/apimachinery/blob/master/pkg/apis/meta/v1/types.go) + [api concepts](https://kubernetes.io/docs/reference/using-api/api-concepts/) to enable generic abstractions. These abstractions allow Rust reinterpretations of reflectors, controllers, and custom resource interfaces, so that you can write applications easily.\n\n## Installation\n\nSelect a version of `kube` along with the generated [k8s-openapi](https://github.com/Arnavion/k8s-openapi) structs at your chosen [Kubernetes version](https://kube.rs/kubernetes-version/):\n\n```toml\n[dependencies]\nkube = { version = \"0.98.0\", features = [\"runtime\", \"derive\"] }\nk8s-openapi = { version = \"0.24.0\", features = [\"latest\"] }\n```\n\nSee [features](https://kube.rs/features/) for a quick overview of default-enabled / opt-in functionality.\n\n## Upgrading\n\nSee [kube.rs/upgrading](https://kube.rs/upgrading/).\nNoteworthy changes are highlighted in [releases](https://github.com/kube-rs/kube/releases), and archived in the [changelog](https://kube.rs/changelog/).\n\n## Usage\n\nSee the **[examples directory](https://github.com/kube-rs/kube/blob/main/examples)** for how to use any of these crates.\n\n- **[kube API Docs](https://docs.rs/kube/)**\n- **[kube.rs](https://kube.rs)**\n\nOfficial examples:\n\n- [version-rs](https://github.com/kube-rs/version-rs): lightweight deployment `reflector` using axum\n- [controller-rs](https://github.com/kube-rs/controller-rs): `Controller` of a crd inside actix\n\nFor real world projects see [ADOPTERS](https://kube.rs/adopters/).\n\n## Api\n\nThe [`Api`](https://docs.rs/kube/latest/kube/struct.Api.html) is what interacts with Kubernetes resources, and is generic over [`Resource`](https://docs.rs/kube/latest/kube/trait.Resource.html):\n\n```rust\nuse k8s_openapi::api::core::v1::Pod;\nlet pods: Api<Pod> = Api::default_namespaced(client);\n\nlet pod = pods.get(\"blog\").await?;\nprintln!(\"Got pod: {pod:?}\");\n\nlet patch = json!({\"spec\": {\n    \"activeDeadlineSeconds\": 5\n}});\nlet pp = PatchParams::apply(\"kube\");\nlet patched = pods.patch(\"blog\", &pp, &Patch::Apply(patch)).await?;\nassert_eq!(patched.spec.active_deadline_seconds, Some(5));\n\npods.delete(\"blog\", &DeleteParams::default()).await?;\n```\n\nSee the examples ending in `_api` examples for more detail.\n\n## Custom Resource Definitions\n\nWorking with custom resources uses automatic code-generation via [proc_macros in kube-derive](https://docs.rs/kube/latest/kube/derive.CustomResource.html).\n\nYou need to add `#[derive(CustomResource, JsonSchema)]` and some `#[kube(attrs..)]` on a __spec__ struct:\n\n```rust\n#[derive(CustomResource, Debug, Serialize, Deserialize, Default, Clone, JsonSchema)]\n#[kube(group = \"kube.rs\", version = \"v1\", kind = \"Document\", namespaced)]\npub struct DocumentSpec {\n    title: String,\n    content: String,\n}\n```\n\nThen you can use the generated wrapper struct `Document` as a [`kube::Resource`](https://docs.rs/kube/*/kube/trait.Resource.html):\n\n```rust\nlet docs: Api<Document> = Api::default_namespaced(client);\nlet d = Document::new(\"guide\", DocumentSpec::default());\nprintln!(\"doc: {:?}\", d);\nprintln!(\"crd: {:?}\", serde_yaml::to_string(&Document::crd()));\n```\n\nThere are a ton of kubebuilder-like instructions that you can annotate with here. See the [documentation](https://docs.rs/kube/latest/kube/derive.CustomResource.html) or the `crd_` prefixed [examples](https://github.com/kube-rs/kube/blob/main/examples) for more.\n\n**NB:** `#[derive(CustomResource)]` requires the `derive` feature enabled on `kube`.\n\n## Runtime\n\nThe `runtime` module exports the `kube_runtime` crate and contains higher level abstractions on top of the `Api` and `Resource` types so that you don't have to do all the `watch`/`resourceVersion`/storage book-keeping yourself.\n\n### Watchers\n\nA streaming interface (similar to informers) that presents [`watcher::Event`](https://docs.rs/kube/latest/kube/runtime/watcher/enum.Event.html)s and does automatic relists under the hood.\n\n```rust\nlet api = Api::<Pod>::default_namespaced(client);\nlet stream = watcher(api, Config::default()).default_backoff().applied_objects();\n```\n\nThis now gives a continual stream of events and you do not need to care about the watch having to restart, or connections dropping.\n\n```rust\nwhile let Some(event) = stream.try_next().await? {\n    println!(\"Applied: {}\", event.name_any());\n}\n```\n\n\nNote the base items from a `watcher` stream are an abstraction above the native `WatchEvent` to allow for store buffering. If you are following along to \"see what changed\", you can use utilities from [`WatchStreamExt`](https://docs.rs/kube/latest/kube/runtime/trait.WatchStreamExt.html), such as `applied_objects` to get a more conventional stream.\n\n## Reflectors\n\nA `reflector` is a `watcher` with `Store` on `K`. It acts on all the `Event<K>` exposed by `watcher` to ensure that the state in the `Store` is as accurate as possible.\n\n```rust\nlet nodes: Api<Node> = Api::all(client);\nlet lp = Config::default().labels(\"kubernetes.io/arch=amd64\");\nlet (reader, writer) = reflector::store();\nlet rf = reflector(writer, watcher(nodes, lp));\n```\n\nAt this point you can listen to the `reflector` as if it was a `watcher`, but you can also query the `reader` at any point.\n\n### Controllers\n\nA `Controller` is a `reflector` along with an arbitrary number of watchers that schedule events internally to send events through a reconciler:\n\n```rust\nController::new(root_kind_api, Config::default())\n    .owns(child_kind_api, Config::default())\n    .run(reconcile, error_policy, context)\n    .for_each(|res| async move {\n        match res {\n            Ok(o) => info!(\"reconciled {:?}\", o),\n            Err(e) => warn!(\"reconcile failed: {}\", Report::from(e)),\n        }\n    })\n    .await;\n```\n\nHere `reconcile` and `error_policy` refer to functions you define. The first will be called when the root or child elements change, and the second when the `reconciler` returns an `Err`.\n\nSee the [controller guide](https://kube.rs/controllers/intro/) for how to write these.\n\n## TLS\n\nBy default [rustls](https://github.com/rustls/rustls) is used for TLS, but `openssl` is supported. To switch, turn off `default-features`, and enable the `openssl-tls` feature:\n\n```toml\n[dependencies]\nkube = { version = \"0.98.0\", default-features = false, features = [\"client\", \"openssl-tls\"] }\nk8s-openapi = { version = \"0.24.0\", features = [\"latest\"] }\n```\n\nThis will pull in `openssl` and `hyper-openssl`. If `default-features` is left enabled, you will pull in two TLS stacks, and the default will remain as `rustls`.\n\n## musl-libc\n\nKube will work with [distroless](https://github.com/kube-rs/controller-rs/blob/main/Dockerfile), [scratch](https://github.com/constellation-rs/constellation/blob/27dc89d0d0e34896fd37d638692e7dfe60a904fc/Dockerfile), and `alpine` (it's also possible to use alpine as a builder [with some caveats](https://github.com/kube-rs/kube/issues/331#issuecomment-715962188)).\n\n## License\n\nApache 2.0 licensed. See LICENSE for details.\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 1.6103515625,
          "content": "# Security Policy\n\n## Supported Versions\n\nWe provide security updates for the two most recent minor versions released on `crates.io`.\n\nFor example, if `0.70.1` is the most recent stable version, we will address security updates for `0.69` and later.\nOnce `0.71.1` is released, we will no longer provide updates for `0.69` releases.\n\n## Reporting a Vulnerability\n\nTo report a security problem in Kube-rs, please contact at least two [maintainers](https://kube.rs/maintainers/)\n\nThese people will help diagnose the severity of the issue and determine how to address the issue.\nIssues deemed to be non-critical will be filed as GitHub issues.\nCritical issues will receive immediate attention and be fixed as quickly as possible.\n\n## Security Advisories\n\nWhen serious security problems in Kube-rs are discovered and corrected, we issue a security advisory, describing the problem and containing a pointer to the fix.\n\nThese are announced the [RustSec Advisory Database](https://github.com/rustsec/advisory-db), to our github issues under the label `critical`, as well as discord and other primary communication channels.\n\nSecurity issues are fixed as soon as possible, and the fixes are propagated to the stable branches as fast as possible. However, when a vulnerability is found during a code audit, or when several other issues are likely to be spotted and fixed in the near future, the security team may delay the release of a Security Advisory, so that one unique, comprehensive Security Advisory covering several vulnerabilities can be issued.\nCommunication with vendors and other distributions shipping the same code may also cause these delays.\n"
        },
        {
          "name": "clippy.toml",
          "type": "blob",
          "size": 0.2587890625,
          "content": "disallowed-names = []\ndisallowed-macros = [\n  \"futures::ready\",             # use instead `std::task::ready`\n  \"futures::pin_mut\",           # use instead `std::pin::pin`\n]\ndisallowed-methods = [\n  \"futures::future::ready\",     # use instead `std::future::ready`\n]\n"
        },
        {
          "name": "code-of-conduct.md",
          "type": "blob",
          "size": 0.13671875,
          "content": "# Community Code of Conduct\n\nkube-rs follows the [CNCF Code of Conduct](https://github.com/cncf/foundation/blob/master/code-of-conduct.md).\n"
        },
        {
          "name": "deny.toml",
          "type": "blob",
          "size": 2.9775390625,
          "content": "[graph]\n# examples sometimes lag behind as they use higher level dependencies\n# we exclude these from the check because they are not part of our\n# actual dependency tree\nexclude = [\"kube-examples\"]\n\n[advisories]\ndb-path = \"~/.cargo/advisory-db\"\ndb-urls = [\"https://github.com/rustsec/advisory-db\"]\n# these are deprecated, but not super helpful for us\n# https://embarkstudios.github.io/cargo-deny/checks/advisories/cfg.html#the-version-field-optional\n# remove them when we have to\nyanked = \"warn\"\n\nignore = [\n    \"RUSTSEC-2024-0384\", # instant dep via unmaintained backoff dep\n]\n\n[licenses]\n# See https://spdx.org/licenses/ for list of possible licenses\n# [possible values: any SPDX 3.11 short identifier (+ optional exception)].\nconfidence-threshold = 1.0\n\n# We are beholden to https://github.com/cncf/foundation/blob/master/allowed-third-party-license-policy.md#approved-licenses-for-allowlist\nallow = [\n    \"MIT\",\n    \"Apache-2.0\",\n    \"BSD-3-Clause\",\n    \"ISC\",\n    \"LicenseRef-ring\",\n    # Blanket addition for Unicode-3.0 libs for optional features (affects many deps, but it's a very clean license)\n    # https://github.com/unicode-org/icu4x/blob/main/LICENSE\n    \"Unicode-3.0\",\n    # Pulled in via aws_lc_rs when using rustls-tls and aws-lc-rs features\n    # https://openssl-library.org/source/license/index.html\n    \"OpenSSL\",\n    # Pulled in via hashbrown through its foldhash dependency\n    \"Zlib\",\n]\n\nexceptions = [\n    # The Unicode-DFS--2016 license is necessary for unicode-ident because they\n    # use data from the unicode tables to generate the tables which are\n    # included in the application. We do not distribute those data files so\n    # this is not a problem for us. See https://github.com/dtolnay/unicode-ident/pull/9/files\n    # for more details.\n    { allow = [\"Unicode-DFS-2016\"], name = \"unicode-ident\" },\n    # Pulled in via hyper-rustls when using the webpki-roots feature,\n    # which is off by default.\n    { allow = [\"MPL-2.0\"], name = \"webpki-roots\" },\n]\n\n[[licenses.clarify]]\nname = \"ring\"\nexpression = \"LicenseRef-ring\"\nlicense-files = [\n    { path = \"LICENSE\", hash = 0xbd0eed23 },\n]\n\n[sources]\nunknown-registry = \"deny\"\nunknown-git = \"deny\"\nallow-registry = [\"https://github.com/rust-lang/crates.io-index\"]\nallow-git = [\"https://github.com/tyrone-wu/runtime-macros.git\"]\n\n\n[bans]\nmultiple-versions = \"deny\"\n\n[[bans.skip]]\nname = \"rustls-native-certs\"\n\n[[bans.skip]]\n# base64 did some annoying breaking changes\nname = \"base64\"\n\n[[bans.skip]]\n# latest via openssl->hyper-openssl (we have latest)\n# newer via tower-http (we have latest)\nname = \"bitflags\"\n\n[[bans.skip-tree]]\nname = \"windows-sys\"\n\n[[bans.skip]]\n# different sources of miniz_oxide which users will not generally see\nname = \"miniz_oxide\"\n\n# currently multiple version of thiserror in flight due to its major bump\n[[bans.skip]]\nname = \"thiserror\"\n[[bans.skip]]\nname = \"thiserror-impl\"\n\n# 2 deps from 2 different version of rustls-native-certs not fully upgradeable yet\n[[bans.skip]]\nname = \"security-framework\"\n[[bans.skip]]\nname = \"core-foundation\"\n"
        },
        {
          "name": "e2e",
          "type": "tree",
          "content": null
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "justfile",
          "type": "blob",
          "size": 5.2685546875,
          "content": "VERSION := `git rev-parse HEAD`\nopen := if os() == \"macos\" { \"open\" } else { \"xdg-open\" }\n\n[private]\ndefault:\n  @just --list --unsorted\n\nclippy:\n  #rustup component add clippy --toolchain nightly\n  cargo +nightly clippy --workspace\n  cargo +nightly clippy --all-features\n\nfmt:\n  #rustup component add rustfmt --toolchain nightly\n  rustfmt +nightly --edition 2021 $(find . -type f -iname *.rs)\n\ndoc:\n  RUSTDOCFLAGS=\"--cfg docsrs\" cargo +nightly doc --all-features --no-deps --open\n\ndeny:\n  # might require rm Cargo.lock first to match CI\n  cargo deny --workspace --all-features check bans licenses sources\n\n# Unit tests\ntest:\n  #!/usr/bin/env bash\n  if rg \"\\`\\`\\`ignored\"; then\n    echo \"ignored doctests are not allowed, use compile_fail or no_run\"\n    exit 1\n  fi\n  # no default features\n  cargo test --workspace --lib --no-default-features\n  # default features\n  cargo test --workspace --lib --exclude kube-examples --exclude e2e\n  # all features\n  cargo test --workspace --lib --all-features --exclude kube-examples --exclude e2e\n  cargo test --workspace --doc --all-features --exclude kube-examples --exclude e2e\n  cargo test -p kube-examples --examples\n\n# Integration tests (will modify your current context's cluster)\ntest-integration:\n  kubectl delete pod -lapp=kube-rs-test > /dev/null\n  cargo test --lib --workspace --exclude e2e --all-features -- --ignored\n  # some examples are canonical tests\n  cargo run -p kube-examples --example crd_derive\n  cargo run -p kube-examples --example crd_api\n\ncoverage:\n  # tarpaulin is currently broken for Rust 1.83, see #1657\n  cargo +1.82.0 tarpaulin --out=Html --output-dir=.\n  {{open}} tarpaulin-report.html\n\nhack:\n  time cargo hack check --feature-powerset --no-private -p kube \\\n    --skip=oauth,oidc \\\n    --group-features=socks5,http-proxy,gzip,ws \\\n    --group-features=admission,jsonpatch,derive \\\n    --group-features=rustls-tls,aws-lc-rs\n  # Test groups features with minimal overlap that are grouped to reduce combinations.\n  # Without any grouping this test takes an hour and has to test >11k combinations.\n  # Skipped oauth and oidc, as these compile fails without a tls stack.\n\nreadme:\n  rustdoc README.md --test --edition=2021\n\ne2e: (e2e-mink8s) (e2e-incluster \"rustls,latest\")\n\ne2e-mink8s:\n  cargo run -p e2e --bin boot --features=openssl,latest\n  cargo run -p e2e --bin boot --features=openssl,mk8sv\n\n  #cargo run -p e2e --bin boot --features=rustls,latest\n  #cargo run -p e2e --bin boot --features=rustls,mk8sv\n\ne2e-incluster features:\n  just e2e-job-musl {{features}}\n  docker build -t clux/kube-e2e:{{VERSION}} e2e/\n  k3d image import clux/kube-e2e:{{VERSION}} --cluster main\n  sed -i 's/latest/{{VERSION}}/g' e2e/deployment.yaml\n  kubectl apply -f e2e/deployment.yaml\n  sed -i 's/{{VERSION}}/latest/g' e2e/deployment.yaml\n  kubectl get all -n apps\n  kubectl describe jobs/e2e -n apps\n  kubectl wait --for=condition=complete job/e2e -n apps --timeout=50s || kubectl logs -f job/e2e -n apps\n  kubectl get all -n apps\n  kubectl wait --for=condition=complete job/e2e -n apps --timeout=10s || kubectl get pods -n apps | grep e2e | grep Completed\ne2e-job-musl features:\n  #!/usr/bin/env bash\n  docker run \\\n    -v cargo-cache:/root/.cargo/registry \\\n    -v \"$PWD:/volume\" -w /volume \\\n    --rm -it clux/muslrust:stable cargo build --release --features={{features}} -p e2e\n  cp target/x86_64-unknown-linux-musl/release/job e2e/job\n  chmod +x e2e/job\n\nk3d:\n  k3d cluster create main --servers 1 --registry-create main --image rancher/k3s:v1.27.3-k3s1 \\\n    -p 10250:10250 --no-rollback \\\n    --k3s-arg \"--disable=traefik,servicelb,metrics-server@server:*\" \\\n    --k3s-arg '--kubelet-arg=eviction-hard=imagefs.available<1%,nodefs.available<1%@agent:*' \\\n    --k3s-arg '--kubelet-arg=eviction-minimum-reclaim=imagefs.available=1%,nodefs.available=1%@agent:*' \\\n    --k3s-arg '--kube-apiserver-arg=feature-gates=WatchList=true@server:*'\n\n## RELEASE RELATED\n\n# Bump the msrv of kube; \"just bump-msrv 1.60.0\"\nbump-msrv msrv:\n  #!/usr/bin/env bash\n  fullmsrv=\"{{msrv}}\" # need a temporary var for this\n  shortmsrv=\"${fullmsrv::-2}\" # badge can use a short display version\n  badge=\"[![Rust ${shortmsrv}](https://img.shields.io/badge/MSRV-${shortmsrv}-dea584.svg)](https://github.com/rust-lang/rust/releases/tag/{{msrv}})\"\n  sd \"rust-version = \\\".*\\\"\" \"rust-version = \\\"{{msrv}}\\\"\" Cargo.toml\n  sd \"^.+badge/MSRV.+$\" \"${badge}\" README.md\n  sd \"rust:.*-bullseye\" \"rust:{{msrv}}-bullseye\" .devcontainer/Dockerfile\n\n# Sets the Kubernetes feature version from latest k8s-openapi.\nbump-k8s:\n  #!/usr/bin/env bash\n  earliest=$(cargo info k8s-openapi --color=never 2> /dev/null |grep earliest | awk -F'[][]' '{print $2}')\n  latest=$(cargo info k8s-openapi --color=never 2> /dev/null |grep latest | awk -F'[][]' '{print $2}')\n  # pin mk8sv to k8s-openapi earliest\n  min_feat=\"${earliest::-2}${earliest:3}\"\n  min_dots=\"${min_feat/_/.}\"\n  echo \"Setting MK8SV to $min_dots using feature $min_feat\"\n  # workflow pins for k3s (any line with key/array suffixed by # MK8SV)\n  sd \"(.*)([\\:\\-]{1}) .* # MK8SV$\" \"\\$1\\$2 \\\"${min_dots}\\\" # MK8SV\" .github/workflows/*.yml\n  # bump mk8sv badge\n  badge=\"[![Tested against Kubernetes ${min_dots} and above](https://img.shields.io/badge/MK8SV-${min_dots}-326ce5.svg)](https://kube.rs/kubernetes-version)\"\n  sd \"^.+badge/MK8SV.+$\" \"${badge}\" README.md\n  echo \"remember to bump kubernetes-version.md in kube-rs/website\"\n"
        },
        {
          "name": "kube-client",
          "type": "tree",
          "content": null
        },
        {
          "name": "kube-core",
          "type": "tree",
          "content": null
        },
        {
          "name": "kube-derive",
          "type": "tree",
          "content": null
        },
        {
          "name": "kube-runtime",
          "type": "tree",
          "content": null
        },
        {
          "name": "kube",
          "type": "tree",
          "content": null
        },
        {
          "name": "release.toml",
          "type": "blob",
          "size": 1.3173828125,
          "content": "# Release process :: cargo-release >= 0.18.3\n#\n# Dependencies: https://kube.rs/tools\n# Process: https://kube.rs/release-process/\n#\n# 0. (optional) cargo release minor --workspace ; verify readme + changelog bumped; then git reset --hard\n# 1. PUBLISH_GRACE_SLEEP=20 cargo release minor --workspace --execute\n# In the event of failures:\n# - on partial cargo publish failures with unexpected build errors; yank partials and fix issues in a PR before retrying\n# - on cargo-release issues waiting for crates.io: resume publish in given order manually, cd into next dirs and publish in sequence with cargo publish --features=k8s-openapi/latest\n# - after publish; check consolidated commit, amend if needed, then create a manual signed tag without v prefix\n# 2. After publishing the release run ./scripts/release-afterdoc.sh VERSION\n\n# Reference\n# https://github.com/crate-ci/cargo-release/blob/master/docs/reference.md\n\nconsolidate-commits = true\nshared-version = true\npre-release-hook = [\"../scripts/release-pre.sh\"]\npre-release-commit-message = \"release {{version}}\"\npush = true\ntag = true\ntag-name = \"{{version}}\"\nsign-tag = true\nsign-commit = true\n# A Kubernetes version is normally supplied by the application consuming the library in the end.\n# Since we don't have that when verifying, supply one ourselves.\nenable-features = [\"k8s-openapi/latest\"]\n"
        },
        {
          "name": "rustfmt.toml",
          "type": "blob",
          "size": 0.265625,
          "content": "# https://github.com/kube-rs/kube/issues/707\nunstable_features = true\noverflow_delimited_expr = true\nnewline_style = \"Unix\"\nimports_granularity = \"Crate\"\nreorder_impl_items = true\nblank_lines_upper_bound = 2\ncomment_width = 110\nmax_width = 110\ninline_attribute_width = 80\n"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "tarpaulin.toml",
          "type": "blob",
          "size": 0.8603515625,
          "content": "# Usage: configure your kubernetes context and run cargo tarpaulin\n# Runs integration tests (--ignored) plus --lib tests on main crates\n#\n# NB: cargo tarpaulin -- --test-threads 1 (can help diagnose test interdependencies)\n# NB: Tests should complete in about 30-60s after the compile\n# NB: full recompiles happen every time: https://github.com/xd009642/tarpaulin/issues/777 even with --skip-clean\n\n[one_pass_coverage]\nworkspace = true\nall-features = true\ncolor = \"Always\"\nignored = true\ntimeout = \"600s\"\nexclude = [\"e2e\"]\ninclude-tests = true\n# NB: skipping Doctests because they are slow to build and generally marked no_run\nrun-types = [\"Tests\"]\n\n# We could potentially pass in examples here\n# but: they don't help in covering kube-derive, and they force a full recompile\n[example_pass]\npackages = [\"kube-examples\"]\nexclude-files = [\"examples/\"]\nexample = [\"crd_derive_schema\"]\n"
        }
      ]
    }
  ]
}